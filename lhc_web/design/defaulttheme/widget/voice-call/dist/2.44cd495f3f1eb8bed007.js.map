{"version":3,"sources":["webpack://LHCVoiceCallAPP/./src/lib/useInterval.js","webpack://LHCVoiceCallAPP/./src/components/VoiceCall.js"],"names":["useInterval","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","client","AgoraRTC","createClient","mode","codec","reducer","state","action","type","foundIndex","chats","findIndex","x","value","remoteUsers","user","uid","attr","unshift","active","mn","support_chat","splice","msg","el","document","getElementById","classList","contains","group_offline","Error","VoiceCall","props","useReducer","call","localTracks","videoTrack","audioTrack","inCall","dispatch","chatsRef","axios","get","WWW_DIR_JAVASCRIPT","initParams","hash","then","result","data","subscribe","mediaType","a","console","log","handleUserPublished","handleUserUnpublished","join","on","uui","Promise","all","appid","token","createMicrophoneAudioTrack","createCameraVideoTrack","play","publish","Object","values","vi_status","useTranslation","t","cancelJoin","i18n","keys","forEach","trackName","track","stop","close","undefined","leave","status","op_status","requestJoin","post","Fragment","className","title","role","aria-label","onClick"],"mappings":"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","file":"2.44cd495f3f1eb8bed007.js","sourcesContent":["import { useEffect, useRef } from \"react\";\n\nfunction useInterval(callback, delay) {\n    const savedCallback = useRef();\n\n    // Remember the latest callback.\n    useEffect(() => {\n        savedCallback.current = callback;\n    }, [callback]);\n\n    // Set up the interval.\n    useEffect(() => {\n        function tick() {\n            savedCallback.current();\n        }\n        if (delay !== null) {\n            let id = setInterval(tick, delay);\n            return () => clearInterval(id);\n        }\n    }, [delay]);\n}\n\nexport default useInterval;","import React, { useEffect, useState, useReducer, useRef, useBoolean } from \"react\";\nimport axios from \"axios\";\nimport {useTranslation} from 'react-i18next';\nimport useInterval from \"../lib/useInterval\";\nimport AgoraRTC from \"agora-rtc-sdk-ng\"\n\nconst client = AgoraRTC.createClient({ mode: \"rtc\", codec: \"vp8\" });\n\nfunction reducer(state, action) {\n    switch (action.type) {\n\n        case 'attr':\n            var foundIndex = state.chats.findIndex(x => x.id == action.id);\n            if (foundIndex === -1) return state;\n            state.chats[foundIndex] = { ...state.chats[foundIndex], ...action.value};\n            state = { ... state};\n            return state;\n\n        case 'user_published': {\n            state.remoteUsers[action.user.uid] = action.user;\n            return { ...state}\n        }\n\n        case 'user_unpublished': {\n            delete state.remoteUsers[action.user.uid];\n            return { ...state}\n        }\n\n        case 'attr_remove':\n            var foundIndex = state.chats.findIndex(x => x[action.attr] == action.id);\n            if (foundIndex === -1) return state;\n            state.chats[foundIndex] = { ...state.chats[foundIndex], ...action.value};\n            state = { ... state};\n            return state;\n\n        case 'update': {\n            return { ...state, ...action.value }\n        }\n\n        case 'add': {\n            var foundIndex = state.chats.findIndex(x => x.id == action.value.id);\n            if (foundIndex === -1) {\n                state.chats.unshift(action.value);\n            } else {\n                state.chats[foundIndex].active = true;\n                state.chats[foundIndex].mn = 0;\n                state.chats[foundIndex].support_chat = false;\n            }\n\n            return { ...state}\n        }\n\n        case 'remove': {\n            var foundIndex = state.chats.findIndex(x => x.id == action.id);\n            if (foundIndex === -1) return state;\n            state.chats.splice(foundIndex,1);\n            return { ...state}\n        }\n\n        case 'update_chat': {\n            var foundIndex = state.chats.findIndex(x => x.id == action.id);\n            if (foundIndex === -1) return state;\n            state.chats[foundIndex] = {...state.chats[foundIndex], ...action.value}\n            return { ...state}\n        }\n\n        case 'msg_received': {\n            var foundIndex = state.chats.findIndex(x => x.id == action.id);\n            if (foundIndex === -1) return state;\n\n            state.chats[foundIndex].msg = action.value.msg;\n\n            var el = document.getElementById('chat-tab-link-'+action.id);\n\n            if (el === null || !el.classList.contains('active')) {\n                state.chats[foundIndex].active = false;\n            } else {\n                state.chats[foundIndex].active = true;\n            }\n\n            state.chats[foundIndex].mn = state.chats[foundIndex].active == false ? (state.chats[foundIndex].mn ? (state.chats[foundIndex].mn + action.value.mn) : action.value.mn) : 0;\n\n            // Set last appended messages as first array element\n            state.chats.splice(0, 0, state.chats.splice(foundIndex, 1)[0]);\n\n            return { ...state}\n        }\n\n        case 'refocus': {\n            var foundIndex = state.chats.findIndex(x => x.active == true);\n            if (foundIndex !== -1) {\n                if (action.id == state.chats[foundIndex].id) {\n                    return state;\n                }\n                state.chats[foundIndex].active = false;\n            }\n\n            var foundIndex = state.chats.findIndex(x => x.id == action.id);\n            if (foundIndex !== -1) {\n                state.chats[foundIndex].active = true;\n                state.chats[foundIndex].mn = 0;\n                state.chats[foundIndex].support_chat = false;\n            }\n\n            return { ...state}\n        }\n\n        case 'group_offline':\n            state.group_offline = action.value;\n            return {...state};\n\n        default:\n            throw new Error('Unknown action!');\n    }\n}\n\nconst VoiceCall = props => {\n\n    const [state, dispatch] = useReducer(reducer, {\n        call : {},\n        localTracks : {\n            videoTrack : null,\n            audioTrack: null\n        },\n        remoteUsers : {},\n        uid : null,\n        inCall: false\n    });\n\n    const STATUS_OP_PENDING = 0;\n    const STATUS_OP_JOINED = 1;\n\n    const STATUS_VI_PENDING = 0;\n    const STATUS_VI_REQUESTED = 1;\n    const STATUS_VI_JOINED = 2;\n\n    const STATUS_PENDING = 0;\n    const STATUS_CONFIRM = 1;\n    const STATUS_CONFIRMED = 2;\n\n    const chatsRef = useRef(state);\n\n    useEffect(\n        () => { chatsRef.current = state },\n        [state]\n    )\n\n    const loadCallStatus = (chatIds) => {\n        axios.get(WWW_DIR_JAVASCRIPT  + \"voicevideo/join/\" + props.initParams.id + '/' + props.initParams.hash).then(result => {\n            dispatch({\n                type: 'update',\n                value: {\n                    \"call\" : result.data\n                }\n            });\n        });\n    }\n\n    useEffect(() => {\n\n        loadCallStatus();\n\n        // Cleanup\n        return function cleanup() {\n\n        };\n\n    },[]);\n\n    const subscribe = async (user, mediaType) => {\n\n        const uid = user.uid;\n\n        // subscribe to a remote user\n        await client.subscribe(user, mediaType);\n\n        console.log(\"subscribe success\");\n\n        /*if (mediaType === 'video') {\n            const player = $(`\n              <div id=\"player-wrapper-${uid}\">\n                <p class=\"player-name\">remoteUser(${uid})</p>\n                <div id=\"player-${uid}\" class=\"player\"></div>\n              </div>\n            `);\n            $(\"#remote-playerlist\").append(player);\n            user.videoTrack.play(`player-${uid}`);\n        }\n        if (mediaType === 'audio') {\n            user.audioTrack.play();\n        }*/\n    }\n\n    const handleUserPublished = (user, mediaType) =>  {\n        //const id = user.uid;\n        //remoteUsers[id] = user;\n\n        dispatch({\n            type: 'user_published',\n            user: user\n        });\n\n        subscribe(user, mediaType);\n    }\n\n    const handleUserUnpublished = (user) => {\n        //const id = user.uid;\n        //delete remoteUsers[id];\n\n        dispatch({\n            type: 'user_unpublished',\n            user: user\n        });\n\n        //$(`#player-wrapper-${id}`).remove();\n    }\n\n    const join = async (data) => {\n        // add event listener to play remote tracks when remote user publishs.\n        client.on(\"user-published\", handleUserPublished);\n        client.on(\"user-unpublished\", handleUserUnpublished);\n\n        var uui = null;\n        var localTracks = {\n            audioTrack : null,\n            videoTrack : null\n        };\n\n        // join a channel and create local tracks, we can use Promise.all to run them concurrently\n        [ uui, localTracks.audioTrack, localTracks.videoTrack] = await Promise.all([\n            // join the channel\n            client.join(props.initParams.appid, props.initParams.id + '_' + props.initParams.hash, data.token || null),\n            // create local tracks, using microphone and camera\n            AgoraRTC.createMicrophoneAudioTrack(),\n            AgoraRTC.createCameraVideoTrack()\n        ]);\n\n        // play local video track\n        localTracks.videoTrack.play(\"local-player\");\n\n        dispatch({\n            type: 'update',\n            value: {\n                \"uid\" : uui,\n                \"localTracks\" : localTracks,\n            }\n        });\n\n        await client.publish(Object.values(localTracks));\n    }\n\n\n    useEffect(() => {\n\n        if (state.call.vi_status === STATUS_VI_JOINED){\n            join(state.call);\n        }\n\n        // Cleanup\n        return function cleanup() {\n\n        };\n\n    },[state.call.vi_status]);\n\n\n    const { t, i18n } = useTranslation('voice_call');\n\n    const cancelJoin = async () => {\n        axios.get(WWW_DIR_JAVASCRIPT  + \"voicevideo/join/\" + props.initParams.id + '/' + props.initParams.hash + '/(action)/cancel').then(result => {\n            dispatch({\n                type: 'update',\n                value: {\n                    \"call\" : result.data\n                }\n            });\n        });\n\n        Object.keys(state.localTracks).forEach(trackName => {\n            var track = state.localTracks[trackName];\n            if (track) {\n                track.stop();\n                track.close();\n                state.localTracks[trackName] = undefined;\n            }\n        })\n\n        dispatch({\n            type: 'update',\n            value: {\n                \"remoteUsers\" : {},\n                \"uid\": null,\n                \"localTracks\" : {\n                    videoTrack : null,\n                    audioTrack: null\n                }\n            }\n        });\n\n        // leave the channel\n        await client.leave();\n\n    }\n\n    useInterval(\n        () => {\n            axios.get(WWW_DIR_JAVASCRIPT  + \"voicevideo/join/\" + props.initParams.id + '/' + props.initParams.hash).then(result => {\n                dispatch({\n                    type: 'update',\n                    value: {\n                        \"call\" : result.data\n                    }\n                });\n            });\n        },\n        (state.call.status != STATUS_CONFIRMED || state.call.vi_status != STATUS_VI_JOINED || state.call.op_status != STATUS_OP_JOINED) ? 2000 : null\n    );\n\n    const requestJoin = (type) => {\n        axios.post(WWW_DIR_JAVASCRIPT  + \"voicevideo/join/\" + props.initParams.id + '/' + props.initParams.hash + '/(action)/request',{\n            'type' : type\n        }).then(result => {\n            dispatch({\n                type: 'update',\n                value: {\n                    \"call\" : result.data\n                }\n            });\n        });\n    }\n\n    return (\n        <React.Fragment>\n            <div className=\"d-flex flex-row flex-grow-1 pt-2\">\n                <div className=\"col bg-light mx-1 align-middle text-center d-flex pl-0 pr-0\" title={\"UID \"+state.uid} id=\"local-player\">\n                    {state.call.vi_status == STATUS_VI_REQUESTED && <div className=\"align-self-center mx-auto text-muted font-weight-bold\">Please wait untill operator let's you join a room</div>}\n                </div>\n                <div className=\"col bg-light mx-1 align-middle text-center d-flex pl-0 pr-0\">\n                    <div className=\"align-self-center mx-auto text-muted font-weight-bold\">Operator stream will appear here</div>\n                </div>\n            </div>\n            <div className=\"row header-chat desktop-header\">\n\n                <div className=\"btn-toolbar p-2 text-center mx-auto btn-toolbar\" role=\"toolbar\" aria-label=\"Toolbar with button groups\">\n\n                    <div className=\"p-2 text-center mx-auto btn-group\" role=\"group\">\n                        {state.call.vi_status == STATUS_VI_JOINED && <span className=\"text-muted py-2\">Visitor has joined a call!</span>}\n                        {state.call.vi_status == STATUS_VI_PENDING && <span className=\"text-muted py-2\">Pending visitor to join a call!</span>}\n                        {state.call.vi_status == STATUS_VI_REQUESTED && <span className=\"text-muted py-2\">Visitor is waiting for someone to let him in!</span>}\n                    </div>\n\n                    <div className=\"p-2 text-center mx-auto btn-group\" role=\"group\">\n                        {state.call.vi_status == STATUS_VI_JOINED && <button className=\"btn btn-primary w-100\" onClick={() => cancelJoin()} >{t('voice_call.leave_room')}</button>}\n                        {state.call.vi_status == STATUS_VI_REQUESTED && <button className=\"btn btn-primary w-100\" onClick={() => cancelJoin()} >{t('voice_call.cancel_join')}</button>}\n                        {state.call.vi_status == STATUS_VI_PENDING && <React.Fragment>\n                                <button className=\"btn btn-sm btn-outline-secondary\" onClick={() => requestJoin('audio')}>Join with audio</button>\n                                <button className=\"btn btn-sm btn-outline-secondary\" onClick={() => requestJoin('audiovideo')}>Join with audio & video</button>\n                            </React.Fragment>}\n                    </div>\n\n                </div>\n\n            </div>\n\n\n\n\n        </React.Fragment>\n    );\n}\n\nexport default VoiceCall"],"sourceRoot":""}