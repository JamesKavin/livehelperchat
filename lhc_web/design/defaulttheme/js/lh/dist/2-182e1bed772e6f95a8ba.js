webpackJsonp([2],[,,function(t,i,e){function n(t){return e(s(t))}function s(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./lhc.speak.js":4};n.keys=function(){return Object.keys(o)},n.resolve=s,t.exports=n,n.id=2},,function(t,i,e){e(5);var n=function(){function t(t){this.recognizing=!1,this.startOnEnd=!1,this.final_transcript="",this.chat_id=t.chat_id,this.recognition=t.recognition,this.originText=""!=$("#CSChatMessage-"+this.chat_id).val()?$("#CSChatMessage-"+this.chat_id).val()+" ":""}return t.prototype.onstart=function(){$("#CSChatMessage-"+this.chat_id).addClass("admin-chat-mic"),$("#user-chat-status-"+this.chat_id).removeClass("icon-user").addClass("icon-mic"),$("#mic-chat-"+this.chat_id).addClass("icon-mic-recording").html(this.recognition.lang),$("#user-is-typing-"+this.chat_id).html("Speak now.").css("visibility","visible")},t.prototype.onend=function(){$("#user-chat-status-"+this.chat_id).addClass("icon-user").removeClass("icon-mic"),$("#CSChatMessage-"+this.chat_id).removeClass("admin-chat-mic"),$("#mic-chat-"+this.chat_id).removeClass("icon-mic-recording").html(""),$("#user-is-typing-"+this.chat_id).html(""),1==this.startOnEnd&&(this.originText="",this.final_transcript="",this.startOnEnd=!1,this.recognition.start())},t.prototype.onerror=function(t){"no-speech"==t.error&&$("#user-is-typing-"+this.chat_id).html("No speech was detected.").css("visibility","visible"),"audio-capture"==t.error&&$("#user-is-typing-"+this.chat_id).html("No microphone was found.").css("visibility","visible"),"not-allowed"==t.error&&$("#user-is-typing-"+this.chat_id).html("Permission to use microphone was denied.").css("visibility","visible")},t.prototype.onresult=function(t){if(0==this.startOnEnd){for(var i="",e=t.resultIndex;e<t.results.length;++e)t.results[e].isFinal?this.final_transcript+=t.results[e][0].transcript:i+=t.results[e][0].transcript;""!=i?$("#user-is-typing-"+this.chat_id).html(i).css("visibility","visible"):$("#user-is-typing-"+this.chat_id).html("").css("visibility","hidden"),$("#CSChatMessage-"+this.chat_id).val(this.originText+this.final_transcript+i).focus(),lhinst.operatorTypingCallback(this.chat_id)}},t}();t.exports=function(){function t(){"webkitSpeechRecognition"in window?(this.recognizing=!1,this.browserSupported=!0,this.final_transcript="",this.chat_id=!1,this.chatDialect=[]):(alert("Sorry but only chrome is supported"),this.browserSupported=!1)}return t.prototype.stopSpeech=function(){1==this.browserSupported&&1==this.recognizing&&(this.recognizing=!1,this.recognition.stop())},t.prototype.messageSend=function(){1==this.browserSupported&&(this.recognition.callbackHandler.startOnEnd=!0,this.recognition.stop())},t.prototype.setChatDialect=function(t,i){this.chatDialect[t]=i},t.prototype.getChatDialectAndStart=function(){var t=this;$.getJSON(WWW_DIR_JAVASCRIPT+"speech/getchatdialect/"+this.chat_id,function(i){0==i.error?(t.chatDialect[t.chat_id]=i.dialect,t.recognition.lang=t.chatDialect[t.chat_id],t.recognition.start()):alert(i.result)})},t.prototype.listen=function(t){if(1==this.browserSupported)if(this.chat_id!==!1&&this.chat_id!=t.chat_id&&this.stopSpeech(),this.chat_id=t.chat_id,0==this.recognizing){this.recognition=new webkitSpeechRecognition,this.recognition.continuous=!0,this.recognition.interimResults=!0;var i=new n({chat_id:this.chat_id,recognition:this.recognition});this.recognition.onresult=function(t){i.onresult(t)},this.recognition.onstart=function(){i.onstart()},this.recognition.onend=function(){i.onend()},this.recognition.onerror=function(t){i.onerror(t)},this.recognition.callbackHandler=i,this.recognizing=!0,void 0!=this.chatDialect[this.chat_id]?(this.recognition.lang=this.chatDialect[this.chat_id],this.recognition.start()):this.getChatDialectAndStart()}else this.stopSpeech()},new t}()},function(t,i,e){var n=e(6);"string"==typeof n&&(n=[[t.id,n,""]]);e(7)(n,{})},function(t,i,e){i=t.exports=e(8)(),i.push([t.id,"body{background-color:#00f}",""])},function(t){function i(t,i){for(var e=0;e<t.length;e++){var n=t[e],o=c[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(s(n.parts[r],i))}else{for(var a=[],r=0;r<n.parts.length;r++)a.push(s(n.parts[r],i));c[n.id]={id:n.id,refs:1,parts:a}}}}function e(t){for(var i=[],e={},n=0;n<t.length;n++){var s=t[n],o=s[0],r=s[1],a=s[2],c=s[3],l={css:r,media:a,sourceMap:c};e[o]?e[o].parts.push(l):i.push(e[o]={id:o,parts:[l]})}return i}function n(){var t=document.createElement("style"),i=d();return t.type="text/css",i.appendChild(t),t}function s(t,i){var e,s,o;if(i.singleton){var c=p++;e=u||(u=n()),s=r.bind(null,e,c,!1),o=r.bind(null,e,c,!0)}else e=n(),s=a.bind(null,e),o=function(){e.parentNode.removeChild(e)};return s(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;s(t=i)}else o()}}function o(t,i,e){var n=["/** >>"+i+" **/","/** "+i+"<< **/"],s=t.lastIndexOf(n[0]),o=e?n[0]+e+n[1]:"";if(t.lastIndexOf(n[0])>=0){var r=t.lastIndexOf(n[1])+n[1].length;return t.slice(0,s)+o+t.slice(r)}return t+o}function r(t,i,e,n){var s=e?"":n.css;if(t.styleSheet)t.styleSheet.cssText=o(t.styleSheet.cssText,i,s);else{var r=document.createTextNode(s),a=t.childNodes;a[i]&&t.removeChild(a[i]),a.length?t.insertBefore(r,a[i]):t.appendChild(r)}}function a(t,i){var e=i.css,n=i.media,s=i.sourceMap;if(s&&"function"==typeof btoa)try{e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(JSON.stringify(s))+" */",e='@import url("data:text/css;base64,'+btoa(e)+'")'}catch(o){}if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}var c={},l=function(t){var i;return function(){return"undefined"==typeof i&&(i=t.apply(this,arguments)),i}},h=l(function(){return/msie 9\b/.test(window.navigator.userAgent.toLowerCase())}),d=l(function(){return document.head||document.getElementsByTagName("head")[0]}),u=null,p=0;t.exports=function(t,n){n=n||{},"undefined"==typeof n.singleton&&(n.singleton=h());var s=e(t);return i(s,n),function(t){for(var o=[],r=0;r<s.length;r++){var a=s[r],l=c[a.id];l.refs--,o.push(l)}if(t){var h=e(t);i(h,n)}for(var r=0;r<o.length;r++){var l=o[r];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete c[l.id]}}}}},function(t){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],i=0;i<this.length;i++){var e=this[i];t.push(e[2]?"@media "+e[2]+"{"+e[1]+"}":e[1])}return t.join("")},t}}]);