import{c as t,S as e,i as n,s as o,f as i,k as a,a as l,l as _,b as s,m as u,n as r,d as c,g as d,v as p,h as v,t as h,w as m,A as g,q as f,p as C,x,z as b,y,e as w,U as k,O as S,P as I,M as T,u as P,V as E,N as A,K as F,C as W,D as L,E as R,j as D,J as N,o as O,G as B,H as j,I as M,F as G,Q as V,L as z}from"./i18n.WUAP9Cw2.js";var U={setInactive:async function(t){return(await fetch(WWW_DIR_JAVASCRIPT+"user/setinactive/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},setLocalSettings:async function(t,e){return(await fetch(WWW_DIR_JAVASCRIPT+"front/settings/",{method:"POST",body:JSON.stringify({attr:t,val:e}),headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},searchProvider:async function(t,e){return(await fetch(WWW_DIR_JAVASCRIPT+"chat/searchprovider/"+t+"/?exclude_disabled=1&q="+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},restoreLocalSetting:function(t,e,n){try{if(localStorage){var o=localStorage.getItem(t);if(null!==o){if(1==n){var i=o.split("/"),a=new Array;return i.forEach((function(t){a.push(parseInt(t))})),a}return o}return e}}catch(t){}return e},getChatData:async function(t){return(await fetch(WWW_DIR_JAVASCRIPT+"chat/getchatdata/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},getToggleWidget:function(t,e,n){t.update((t=>(t.toggleWidgetData[e]="false"!=this.restoreLocalSetting(e,void 0===n?"false":n,!1),t)))},getToggleWidgetSort:function(t,e,n){t.update((t=>(t.toggleWidgetData[e]=this.restoreLocalSetting(e,void 0===n?"":n,!1),t)))},toggleWidget:function(t,e,n){t.update((t=>{if(t.toggleWidgetData[e]=void 0===t.toggleWidgetData[e]||!t.toggleWidgetData[e],localStorage)try{localStorage.setItem(e,t.toggleWidgetData[e])}catch(t){}return t})),void 0!==n&&1==n&&ee.emitEvent("angularLoadChatList")},toggleWidgetSort:function(t,e,n,o,i){t.update((t=>{if(t.toggleWidgetData[e]=void 0===t.toggleWidgetData[e]?n:t.toggleWidgetData[e]==n?o:n,localStorage)try{localStorage.setItem(e,t.toggleWidgetData[e])}catch(t){}return t})),void 0!==i&&1==i&&ee.emitEvent("angularLoadChatList")},previewChat:function(t,e){e&&e.stopPropagation(),lhc.previewChat(t)},deleteChat:function(t,e,n){return lhinst.deleteChat(t,e,n)},redirectContact:function(t,e,n){return n&&n.stopPropagation(),lhinst.redirectContact(t,e)},openModal:function(t,e){e&&e.stopPropagation(),lhc.revealModal({url:WWW_DIR_JAVASCRIPT+t,hidecallback:function(){ee.emitEvent("angularLoadChatList")}})},changeWidgetHeight:function(t,e,n){let o=document.getElementById(e+"-panel-list");o&&t.update((t=>(t[e+"_m_h"]=!0===n?parseInt(o.offsetHeight+28)+"px":parseInt(o.offsetHeight-28)+"px",localStorage.setItem(e+"_m_h",t[e+"_m_h"]),t)))},startChatTransfer:function(t,e,n){return lhinst.startChatTransfer(t,$("#tabs"),e,n)},startChatNewWindowTransfer:function(t,e,n){return lhinst.startChatNewWindowTransfer(t,e,n)},startChat:function(t,e){if($("#tabs").length>0)return lhinst.addOpenTrace("click"),lhinst.startChat(t,$("#tabs"),this.truncate(e||"Visitor",10));lhinst.startChatNewWindow(t,e)},truncate:function(t,e,n){return isNaN(e)&&(e=10),void 0===n&&(n="..."),t.length<=e||t.length-n.length<=e?t:String(t).substring(0,e-n.length)+n},storeLocalSetting:function(t,e){if(localStorage)try{e=localStorage.setItem(t,e)}catch(t){}},removeLocalSetting:function(t){if(localStorage)try{localStorage.removeItem(t)}catch(t){}},loadActiveChats:async function(){return(await fetch(WWW_DIR_JAVASCRIPT+"chat/loadactivechats",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},startGroupChat:function(t,e){if(jQuery("#tabs").length>0)return lhinst.startGroupChat(t,$("#tabs"),this.truncate(e,10))},rejectGroupChat:async function(t,e){e&&e.stopPropagation();const n=await fetch(WWW_DIR_JAVASCRIPT+"groupchat/leave/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}});await n.json(),ee.emitEvent("angularLoadChatList")},startNewGroupChat:async function(t,e,n){const o=await fetch(WWW_DIR_JAVASCRIPT+"groupchat/newgroupajax",{method:"POST",body:JSON.stringify({name:e,public:n}),headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}});let i=await o.json();t.update((t=>(t.new_group_name="",t.new_group_type="",t))),lhinst.startGroupChat(i.id,jQuery("#tabs"),this.truncate(i.name,10)),ee.emitEvent("angularLoadChatList")},startChatOperator:async function(t){const e=await fetch(WWW_DIR_JAVASCRIPT+"groupchat/startchatwithoperator/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}});let n=await e.json();lhinst.startGroupChat(n.id,jQuery("#tabs"),this.truncate(n.name,10))},getNotificationsData:async function(t){return(await fetch(WWW_DIR_JAVASCRIPT+"chat/getnotificationsdata/(id)/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()}};function J(t,e,n){const o=t.slice();return o[38]=e[n],o}function H(t,e,n){const o=t.slice();return o[41]=e[n],o}function q(t,e,n){const o=t.slice();return o[44]=e[n],o}function K(t,e,n){const o=t.slice();return o[44]=e[n],o}function X(t,e,n){const o=t.slice();return o[49]=e[n],o}function Q(t){let e,n,o,i,r,d,p,y,w,k,S,I,T,P,E,$,A,F,W,L,R,D,N,O,B=(0==t[7][t[1].panelid].length?t[8]("widget_options.all_dep"):1!=t[7][t[1].panelid].length||t[1].hasOwnProperty("no_names_department")&&!0===t[1].no_names_department?"["+t[7][t[1].panelid].length+"] "+t[8]("widget_options.departments"):t[7][t[1].panelid+"Names"].join(", "))+"",j=!t[1].hasOwnProperty("hide_department_variations"),M=t[1].hasOwnProperty("hide_department")&&1==t[1].hide_department,G=t[1].hasOwnProperty("hide_depgroup")&&1==t[1].hide_depgroup,V=!t[1].hasOwnProperty("hide_department_variations"),z=!t[1].hasOwnProperty("disable_product")||0==t[1].disable_product,U=[],J=new Map,H=[],X=new Map,Q=j&&Z(t),ot=M&&Y(t),it=G&&tt(t),_t=V&&et(t),ut=z&&nt(t),rt=v(t[7].userDepartmentsGroups);const ct=t=>t[44].id;for(let e=0;e<rt.length;e+=1){let n=K(t,rt,e),o=ct(n);J.set(o,U[e]=at(o,n))}let dt=t[7].userDepartmentsGroups.length>0&&lt(),pt=v(t[7].userDepartments);const vt=t=>t[44].id;for(let e=0;e<pt.length;e+=1){let n=q(t,pt,e),o=vt(n);X.set(o,H[e]=st(o,n))}return{c(){e=a("div"),n=a("div"),o=a("button"),i=h(B),r=l(),d=a("ul"),p=a("li"),y=a("ul"),Q&&Q.c(),w=l(),ot&&ot.c(),k=l(),it&&it.c(),S=l(),_t&&_t.c(),I=l(),ut&&ut.c(),T=l();for(let t=0;t<U.length;t+=1)U[t].c();P=l(),dt&&dt.c(),E=l(),$=a("li"),A=a("input"),W=l(),L=a("li"),R=a("ul");for(let t=0;t<H.length;t+=1)H[t].c();_(o,"type","button"),_(o,"class","btn btn-light btn-block btn-sm dropdown-toggle btn-department-dropdown"),_(o,"data-bs-toggle","dropdown"),_(o,"aria-expanded","false"),_(A,"type","text"),_(A,"data-stoppropagation","true"),_(A,"placeholder",F=t[8]("widget_options.search_dep")),_(A,"class","form-control form-control-sm"),_($,"class","p-1"),_(R,"class","list-unstyled dropdown-lhc"),_(L,"class","dropdown-result"),m(L,"max-height","218px"),m(L,"min-height","218px"),_(y,"class","list-unstyled dropdown-lhc"),_(p,"class","dropdown-result"),_(d,"class","dropdown-menu"),_(d,"role","menu"),_(n,"class","btn-group btn-block btn-block-department"),_(e,"class",D="col-"+(t[1].hasOwnProperty("userid")?6:t[1].hasOwnProperty("hide_limits")?12:10)+" pe-0")},m(a,l){s(a,e,l),u(e,n),u(n,o),u(o,i),u(n,r),u(n,d),u(d,p),u(p,y),Q&&Q.m(y,null),u(y,w),ot&&ot.m(y,null),u(y,k),it&&it.m(y,null),u(y,S),_t&&_t.m(y,null),u(y,I),ut&&ut.m(y,null),u(y,T);for(let t=0;t<U.length;t+=1)U[t]&&U[t].m(y,null);u(y,P),dt&&dt.m(y,null),u(y,E),u(y,$),u($,A),g(A,t[7].depFilterText),u(y,W),u(y,L),u(L,R);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(R,null);N||(O=f(A,"input",t[28]),N=!0)},p(t,n){386&n[0]&&B!==(B=(0==t[7][t[1].panelid].length?t[8]("widget_options.all_dep"):1!=t[7][t[1].panelid].length||t[1].hasOwnProperty("no_names_department")&&!0===t[1].no_names_department?"["+t[7][t[1].panelid].length+"] "+t[8]("widget_options.departments"):t[7][t[1].panelid+"Names"].join(", "))+"")&&C(i,B),2&n[0]&&(j=!t[1].hasOwnProperty("hide_department_variations")),j?Q?Q.p(t,n):(Q=Z(t),Q.c(),Q.m(y,w)):Q&&(Q.d(1),Q=null),2&n[0]&&(M=t[1].hasOwnProperty("hide_department")&&1==t[1].hide_department),M?ot?ot.p(t,n):(ot=Y(t),ot.c(),ot.m(y,k)):ot&&(ot.d(1),ot=null),2&n[0]&&(G=t[1].hasOwnProperty("hide_depgroup")&&1==t[1].hide_depgroup),G?it?it.p(t,n):(it=tt(t),it.c(),it.m(y,S)):it&&(it.d(1),it=null),2&n[0]&&(V=!t[1].hasOwnProperty("hide_department_variations")),V?_t?_t.p(t,n):(_t=et(t),_t.c(),_t.m(y,I)):_t&&(_t.d(1),_t=null),2&n[0]&&(z=!t[1].hasOwnProperty("disable_product")||0==t[1].disable_product),z?ut?ut.p(t,n):(ut=nt(t),ut.c(),ut.m(y,T)):ut&&(ut.d(1),ut=null),146&n[0]&&(rt=v(t[7].userDepartmentsGroups),U=x(U,n,ct,1,t,rt,J,y,b,at,P,K)),t[7].userDepartmentsGroups.length>0?dt||(dt=lt(),dt.c(),dt.m(y,E)):dt&&(dt.d(1),dt=null),256&n[0]&&F!==(F=t[8]("widget_options.search_dep"))&&_(A,"placeholder",F),128&n[0]&&A.value!==t[7].depFilterText&&g(A,t[7].depFilterText),450&n[0]&&(pt=v(t[7].userDepartments),H=x(H,n,vt,1,t,pt,X,R,b,st,null,q)),2&n[0]&&D!==(D="col-"+(t[1].hasOwnProperty("userid")?6:t[1].hasOwnProperty("hide_limits")?12:10)+" pe-0")&&_(e,"class",D)},d(t){t&&c(e),Q&&Q.d(),ot&&ot.d(),it&&it.d(),_t&&_t.d(),ut&&ut.d();for(let t=0;t<U.length;t+=1)U[t].d();dt&&dt.d();for(let t=0;t<H.length;t+=1)H[t].d();N=!1,O()}}}function Z(t){let e,n,o,i,r,d,p,v,m,g,x,b,w,k,S,I,T,P,E,$,A,F,W,L,R,D=t[8]("widget_options.check_all")+"",N=t[8]("widget_options.only_online")+"",O=t[8]("widget_options.only_explicit_online")+"",B=t[8]("widget_options.hide_hidden")+"";return{c(){e=a("li"),n=a("label"),o=a("input"),i=l(),r=h(D),d=l(),p=a("li"),v=a("label"),m=a("input"),g=l(),x=h(N),b=l(),w=a("li"),k=a("label"),S=a("input"),I=l(),T=h(O),P=l(),E=a("li"),$=a("label"),A=a("input"),F=l(),W=h(B),_(o,"type","checkbox"),_(m,"type","checkbox"),_(S,"type","checkbox"),_(A,"type","checkbox")},m(a,l){s(a,e,l),u(e,n),u(n,o),o.checked=t[7][t[1].panelid+"_all_departments"],u(n,i),u(n,r),s(a,d,l),s(a,p,l),u(p,v),u(v,m),m.checked=t[7][t[1].panelid+"_only_online"],u(v,g),u(v,x),s(a,b,l),s(a,w,l),u(w,k),u(k,S),S.checked=t[7][t[1].panelid+"_only_explicit_online"],u(k,I),u(k,T),s(a,P,l),s(a,E,l),u(E,$),u($,A),A.checked=t[7][t[1].panelid+"_hide_hidden"],u($,F),u($,W),L||(R=[f(o,"change",t[9]),f(o,"change",t[10]),f(m,"change",t[11]),f(m,"change",t[12]),f(S,"change",t[13]),f(S,"change",t[14]),f(A,"change",t[15]),f(A,"change",t[16])],L=!0)},p(t,e){130&e[0]&&(o.checked=t[7][t[1].panelid+"_all_departments"]),256&e[0]&&D!==(D=t[8]("widget_options.check_all")+"")&&C(r,D),130&e[0]&&(m.checked=t[7][t[1].panelid+"_only_online"]),256&e[0]&&N!==(N=t[8]("widget_options.only_online")+"")&&C(x,N),130&e[0]&&(S.checked=t[7][t[1].panelid+"_only_explicit_online"]),256&e[0]&&O!==(O=t[8]("widget_options.only_explicit_online")+"")&&C(T,O),130&e[0]&&(A.checked=t[7][t[1].panelid+"_hide_hidden"]),256&e[0]&&B!==(B=t[8]("widget_options.hide_hidden")+"")&&C(W,B)},d(t){t&&(c(e),c(d),c(p),c(b),c(w),c(P),c(E)),L=!1,y(R)}}}function Y(t){let e,n,o,i,r,d,p,v,m=t[8]("widget_options.hide_dep")+"";return{c(){e=a("li"),n=a("label"),o=a("input"),i=l(),r=a("i"),r.textContent="home",d=h(m),_(o,"type","checkbox"),_(r,"class","material-icons")},m(a,l){s(a,e,l),u(e,n),u(n,o),o.checked=t[7][t[1].panelid+"_hide_dep"],u(n,i),u(n,r),u(n,d),p||(v=[f(o,"change",t[17]),f(o,"change",t[18])],p=!0)},p(t,e){130&e[0]&&(o.checked=t[7][t[1].panelid+"_hide_dep"]),256&e[0]&&m!==(m=t[8]("widget_options.hide_dep")+"")&&C(d,m)},d(t){t&&c(e),p=!1,y(v)}}}function tt(t){let e,n,o,i,r,d,p,v,m=t[8]("widget_options.hide_dep_groups")+"";return{c(){e=a("li"),n=a("label"),o=a("input"),i=l(),r=a("i"),r.textContent="",d=h(m),_(o,"type","checkbox"),_(r,"class","material-icons")},m(a,l){s(a,e,l),u(e,n),u(n,o),o.checked=t[7][t[1].panelid+"_hide_dgroup"],u(n,i),u(n,r),u(n,d),p||(v=[f(o,"change",t[19]),f(o,"change",t[20])],p=!0)},p(t,e){130&e[0]&&(o.checked=t[7][t[1].panelid+"_hide_dgroup"]),256&e[0]&&m!==(m=t[8]("widget_options.hide_dep_groups")+"")&&C(d,m)},d(t){t&&c(e),p=!1,y(v)}}}function et(t){let e,n,o,i,r,d,p,v=t[8]("widget_options.hide_disabled")+"";return{c(){e=a("li"),n=a("label"),o=a("input"),i=l(),r=h(v),_(o,"data-stoppropagation","true"),_(o,"type","checkbox"),_(e,"class","border-bottom")},m(a,l){s(a,e,l),u(e,n),u(n,o),o.checked=t[7][t[1].panelid+"_hide_disabled"],u(n,i),u(n,r),d||(p=[f(o,"change",t[21]),f(o,"change",t[22])],d=!0)},p(t,e){130&e[0]&&(o.checked=t[7][t[1].panelid+"_hide_disabled"]),256&e[0]&&v!==(v=t[8]("widget_options.hide_disabled")+"")&&C(r,v)},d(t){t&&c(e),d=!1,y(p)}}}function nt(t){let e,n,o=[],i=new Map,a=v(t[7].userProductNames);const _=t=>t[49].id;for(let e=0;e<a.length;e+=1){let n=X(t,a,e),l=_(n);i.set(l,o[e]=ot(l,n))}let u=t[7].userProductNames.length>0&&it();return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=l(),u&&u.c(),n=w()},m(t,i){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,i);s(t,e,i),u&&u.m(t,i),s(t,n,i)},p(t,l){162&l[0]&&(a=v(t[7].userProductNames),o=x(o,l,_,1,t,a,i,e.parentNode,b,ot,e,X)),t[7].userProductNames.length>0?u||(u=it(),u.c(),u.m(n.parentNode,n)):u&&(u.d(1),u=null)},d(t){t&&(c(e),c(n));for(let e=0;e<o.length;e+=1)o[e].d(t);u&&u.d(t)}}}function ot(t,e){let n,o,i,l,r,d,p,v,m,x=!1,b=e[49].name+"";return p=k(e[24][4]),{key:t,first:null,c(){n=a("li"),o=a("label"),i=a("input"),r=a("i"),r.textContent="",d=h(b),_(i,"type","checkbox"),i.__value=l=e[49].id,g(i,i.__value),_(r,"class","material-icons"),_(n,"data-stoppropagation","true"),p.p(i),this.first=n},m(t,a){s(t,n,a),u(n,o),u(o,i),i.checked=~(e[5]||[]).indexOf(i.__value),u(o,r),u(o,d),v||(m=[f(i,"change",e[23]),f(i,"change",e[25])],v=!0)},p(t,n){e=t,128&n[0]&&l!==(l=e[49].id)&&(i.__value=l,g(i,i.__value),x=!0),(x||160&n[0])&&(i.checked=~(e[5]||[]).indexOf(i.__value)),128&n[0]&&b!==(b=e[49].name+"")&&C(d,b)},d(t){t&&c(n),p.r(),v=!1,y(m)}}}function it(t){let e;return{c(){e=a("li"),_(e,"class","border-bottom")},m(t,n){s(t,e,n)},d(t){t&&c(e)}}}function at(t,e){let n,o,i,l,r,d,p,v,m,x=!1,b=e[44].name+"";return p=k(e[24][3]),{key:t,first:null,c(){n=a("li"),o=a("label"),i=a("input"),r=a("i"),r.textContent="",d=h(b),i.__value=l=e[44].id,g(i,i.__value),_(i,"type","checkbox"),_(r,"title","Department group"),_(r,"class","material-icons"),_(n,"data-stoppropagation","true"),p.p(i),this.first=n},m(t,a){s(t,n,a),u(n,o),u(o,i),i.checked=~(e[4]||[]).indexOf(i.__value),u(o,r),u(o,d),v||(m=[f(i,"change",e[26]),f(i,"change",e[27])],v=!0)},p(t,n){e=t,128&n[0]&&l!==(l=e[44].id)&&(i.__value=l,g(i,i.__value),x=!0),(x||144&n[0])&&(i.checked=~(e[4]||[]).indexOf(i.__value)),128&n[0]&&b!==(b=e[44].name+"")&&C(d,b)},d(t){t&&c(n),p.r(),v=!1,y(m)}}}function lt(t){let e;return{c(){e=a("li"),_(e,"class","border-bottom")},m(t,n){s(t,e,n)},d(t){t&&c(e)}}}function _t(t){let e,n,o,i,l,r,d,p,v,m,x,b=!1,w=t[44].name+"";return v=k(t[24][2]),{c(){e=a("li"),n=a("label"),o=a("input"),l=a("i"),r=h("home"),p=h(w),o.__value=i=t[44].id,g(o,o.__value),_(o,"type","checkbox"),_(l,"title",d=t[8]("widget.department")),_(l,"class","material-icons"),F(l,"chat-active",t[44].slc),_(e,"data-stoppropagation","true"),v.p(o)},m(i,a){s(i,e,a),u(e,n),u(n,o),o.checked=~(t[6]||[]).indexOf(o.__value),u(n,l),u(l,r),u(n,p),m||(x=[f(o,"change",t[29]),f(o,"change",t[30])],m=!0)},p(t,e){128&e[0]&&i!==(i=t[44].id)&&(o.__value=i,g(o,o.__value),b=!0),(b||192&e[0])&&(o.checked=~(t[6]||[]).indexOf(o.__value)),256&e[0]&&d!==(d=t[8]("widget.department"))&&_(l,"title",d),128&e[0]&&F(l,"chat-active",t[44].slc),128&e[0]&&w!==(w=t[44].name+"")&&C(p,w)},d(t){t&&c(e),v.r(),m=!1,y(x)}}}function st(t,e){let n,o,i=!(1==e[7][e[1].panelid+"_only_explicit_online"]&&0==e[44].oexp||1==e[7][e[1].panelid+"_hide_hidden"]&&1==e[44].hidden||1==e[7][e[1].panelid+"_hide_disabled"]&&1==e[44].disabled||e[7][e[1].panelid+"_only_online"]&&0==e[44].ogen)&&_t(e);return{key:t,first:null,c(){n=w(),i&&i.c(),o=w(),this.first=n},m(t,e){s(t,n,e),i&&i.m(t,e),s(t,o,e)},p(t,n){1==(e=t)[7][e[1].panelid+"_only_explicit_online"]&&0==e[44].oexp||1==e[7][e[1].panelid+"_hide_hidden"]&&1==e[44].hidden||1==e[7][e[1].panelid+"_hide_disabled"]&&1==e[44].disabled||e[7][e[1].panelid+"_only_online"]&&0==e[44].ogen?i&&(i.d(1),i=null):i?i.p(e,n):(i=_t(e),i.c(),i.m(o.parentNode,o))},d(t){t&&(c(n),c(o)),i&&i.d(t)}}}function ut(t){let e,n,o,i,r,d,p,m,y,w,k,S,I,T,P,E,$=t[8]("widget_options.users")+"",A=[],F=new Map,W=[],L=new Map,R=v(t[7].userList);const D=t=>t[41].id;for(let e=0;e<R.length;e+=1){let n=H(t,R,e),o=D(n);F.set(o,A[e]=rt(o,n))}let N=t[7].userGroups.length>0&&ct(),O=v(t[7].userGroups);const B=t=>t[38].id;for(let e=0;e<O.length;e+=1){let n=J(t,O,e),o=B(n);L.set(o,W[e]=dt(o,n))}return{c(){e=a("div"),n=a("div"),o=a("button"),i=h($),r=l(),d=a("ul"),p=a("li"),m=a("input"),w=l(),k=a("li"),S=a("ul");for(let t=0;t<A.length;t+=1)A[t].c();I=l(),N&&N.c(),T=l();for(let t=0;t<W.length;t+=1)W[t].c();_(o,"type","button"),_(o,"class","btn btn-light btn-block btn-sm dropdown-toggle btn-department-dropdown"),_(o,"data-bs-toggle","dropdown"),_(o,"aria-expanded","false"),_(m,"type","text"),_(m,"data-stoppropagation","true"),_(m,"placeholder",y=t[8]("widget_options.search_operators")),_(m,"class","filter-text-input form-control form-control-sm"),_(p,"class","p-1"),_(S,"class","list-unstyled dropdown-lhc"),_(k,"class","dropdown-result"),_(d,"class","dropdown-menu dropdown-lhc"),_(d,"role","menu"),_(n,"class","btn-group btn-block btn-block-department"),_(e,"class","col-4 pe-0")},m(a,l){s(a,e,l),u(e,n),u(n,o),u(o,i),u(n,r),u(n,d),u(d,p),u(p,m),g(m,t[7].userFilterText),u(d,w),u(d,k),u(k,S);for(let t=0;t<A.length;t+=1)A[t]&&A[t].m(S,null);u(S,I),N&&N.m(S,null),u(S,T);for(let t=0;t<W.length;t+=1)W[t]&&W[t].m(S,null);P||(E=f(m,"input",t[31]),P=!0)},p(t,e){256&e[0]&&$!==($=t[8]("widget_options.users")+"")&&C(i,$),256&e[0]&&y!==(y=t[8]("widget_options.search_operators"))&&_(m,"placeholder",y),128&e[0]&&m.value!==t[7].userFilterText&&g(m,t[7].userFilterText),134&e[0]&&(R=v(t[7].userList),A=x(A,e,D,1,t,R,F,S,b,rt,I,H)),t[7].userGroups.length>0?N||(N=ct(),N.c(),N.m(S,T)):N&&(N.d(1),N=null),138&e[0]&&(O=v(t[7].userGroups),W=x(W,e,B,1,t,O,L,S,b,dt,null,J))},d(t){t&&c(e);for(let t=0;t<A.length;t+=1)A[t].d();N&&N.d();for(let t=0;t<W.length;t+=1)W[t].d();P=!1,E()}}}function rt(t,e){let n,o,i,l,r,d,p,v,m,x=!1,b=(e[41].name||e[41].name_official)+"";return p=k(e[24][1]),{key:t,first:null,c(){n=a("li"),o=a("label"),i=a("input"),r=a("i"),r.textContent="account_box",d=h(b),i.__value=l=e[41].id,g(i,i.__value),_(i,"type","checkbox"),_(r,"title","User"),_(r,"class","material-icons"),_(n,"data-stoppropagation","true"),p.p(i),this.first=n},m(t,a){s(t,n,a),u(n,o),u(o,i),i.checked=~(e[2]||[]).indexOf(i.__value),u(o,r),u(o,d),v||(m=[f(i,"change",e[32]),f(i,"change",e[33])],v=!0)},p(t,n){e=t,128&n[0]&&l!==(l=e[41].id)&&(i.__value=l,g(i,i.__value),x=!0),(x||132&n[0])&&(i.checked=~(e[2]||[]).indexOf(i.__value)),128&n[0]&&b!==(b=(e[41].name||e[41].name_official)+"")&&C(d,b)},d(t){t&&c(n),p.r(),v=!1,y(m)}}}function ct(t){let e;return{c(){e=a("li"),_(e,"class","border-top")},m(t,n){s(t,e,n)},d(t){t&&c(e)}}}function dt(t,e){let n,o,i,l,r,d,p,v,m,x=!1,b=e[38].name+"";return p=k(e[24][0]),{key:t,first:null,c(){n=a("li"),o=a("label"),i=a("input"),r=a("i"),r.textContent="people",d=h(b),i.__value=l=e[38].id,g(i,i.__value),_(i,"type","checkbox"),_(r,"title","User group"),_(r,"class","material-icons"),_(n,"data-stoppropagation","true"),p.p(i),this.first=n},m(t,a){s(t,n,a),u(n,o),u(o,i),i.checked=~(e[3]||[]).indexOf(i.__value),u(o,r),u(o,d),v||(m=[f(i,"change",e[34]),f(i,"change",e[35])],v=!0)},p(t,n){e=t,128&n[0]&&l!==(l=e[38].id)&&(i.__value=l,g(i,i.__value),x=!0),(x||136&n[0])&&(i.checked=~(e[3]||[]).indexOf(i.__value)),128&n[0]&&b!==(b=e[38].name+"")&&C(d,b)},d(t){t&&c(n),p.r(),v=!1,y(m)}}}function pt(t){let e,n,o,i,l,r,d,p,v,h,m;return{c(){e=a("div"),n=a("select"),o=a("option"),o.textContent="5",i=a("option"),i.textContent="10",l=a("option"),l.textContent="25",r=a("option"),r.textContent="50",d=a("option"),d.textContent="100",o.__value="5",g(o,o.__value),i.__value="10",g(i,i.__value),l.__value="25",g(l,l.__value),r.__value="50",g(r,r.__value),d.__value="100",g(d,d.__value),_(n,"class","form-control form-control-sm btn-light"),_(n,"title",p=t[8]("widget_options.limit")),void 0===t[7][t[1].limitid]&&S((()=>t[36].call(n))),_(e,"class",v="col-"+(t[1].hasOwnProperty("limits_width")?t[1].limits_width:2))},m(a,_){s(a,e,_),u(e,n),u(n,o),u(n,i),u(n,l),u(n,r),u(n,d),I(n,t[7][t[1].limitid],!0),h||(m=[f(n,"change",t[36]),f(n,"change",t[37])],h=!0)},p(t,o){256&o[0]&&p!==(p=t[8]("widget_options.limit"))&&_(n,"title",p),130&o[0]&&I(n,t[7][t[1].limitid]),2&o[0]&&v!==(v="col-"+(t[1].hasOwnProperty("limits_width")?t[1].limits_width:2))&&_(e,"class",v)},d(t){t&&c(e),h=!1,y(m)}}}function vt(t){let e,n,o,i,d,p=!t[1].hasOwnProperty("hide_department_filter")||!1===t[1].hide_department_filter,v=t[1].hasOwnProperty("userid"),h=!t[1].hasOwnProperty("hide_limits"),m=p&&Q(t),g=v&&ut(t),f=h&&pt(t);return{c(){e=a("div"),n=a("div"),m&&m.c(),o=l(),g&&g.c(),i=l(),f&&f.c(),_(n,"class","row"),_(e,"class",d="p-"+(t[1].hasOwnProperty("padding_filters")?t[1].padding_filters:2))},m(t,a){s(t,e,a),u(e,n),m&&m.m(n,null),u(n,o),g&&g.m(n,null),u(n,i),f&&f.m(n,null)},p(t,a){2&a[0]&&(p=!t[1].hasOwnProperty("hide_department_filter")||!1===t[1].hide_department_filter),p?m?m.p(t,a):(m=Q(t),m.c(),m.m(n,o)):m&&(m.d(1),m=null),2&a[0]&&(v=t[1].hasOwnProperty("userid")),v?g?g.p(t,a):(g=ut(t),g.c(),g.m(n,i)):g&&(g.d(1),g=null),2&a[0]&&(h=!t[1].hasOwnProperty("hide_limits")),h?f?f.p(t,a):(f=pt(t),f.c(),f.m(n,null)):f&&(f.d(1),f=null),2&a[0]&&d!==(d="p-"+(t[1].hasOwnProperty("padding_filters")?t[1].padding_filters:2))&&_(e,"class",d)},i:r,o:r,d(t){t&&c(e),m&&m.d(),g&&g.d(),f&&f.d()}}}function ht(t,e,n){let o,i,a=r,l=()=>(a(),a=T(_,(t=>n(7,o=t))),_);d(t,P,(t=>n(8,i=t))),t.$$.on_destroy.push((()=>a()));let{lhcList:_=null}=e;l();let{optionsPanel:s={panelid:"pendingd",limitid:"limitp",userid:"pendingu"}}=e,u=o[s.userid],c=o[s.panelid+"_ugroups"],v=o[s.panelid+"_dpgroups"],h=o[s.panelid+"_products"],m=o[s.panelid];const g=[[],[],[],[],[]];return t.$$set=t=>{"lhcList"in t&&l(n(0,_=t.lhcList)),"optionsPanel"in t&&n(1,s=t.optionsPanel)},t.$$.update=()=>{10&t.$$.dirty[0]&&p(_,o[s.panelid+"_ugroups"]=c,o),18&t.$$.dirty[0]&&p(_,o[s.panelid+"_dpgroups"]=v,o),6&t.$$.dirty[0]&&p(_,o[s.userid]=u,o),34&t.$$.dirty[0]&&p(_,o[s.panelid+"_products"]=h,o),66&t.$$.dirty[0]&&p(_,o[s.panelid]=m,o)},[_,s,u,c,v,h,m,o,i,function(){o[s.panelid+"_all_departments"]=this.checked,_.set(o)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[s.panelid,!0])},function(){o[s.panelid+"_only_online"]=this.checked,_.set(o)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[s.panelid,!0])},function(){o[s.panelid+"_only_explicit_online"]=this.checked,_.set(o)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[s.panelid,!0])},function(){o[s.panelid+"_hide_hidden"]=this.checked,_.set(o)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[s.panelid,!0])},function(){o[s.panelid+"_hide_dep"]=this.checked,_.set(o)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[s.panelid,!0])},function(){o[s.panelid+"_hide_dgroup"]=this.checked,_.set(o)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[s.panelid,!0])},function(){o[s.panelid+"_hide_disabled"]=this.checked,_.set(o)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[s.panelid,!0])},function(){h=E(g[4],this.__value,this.checked),n(5,h)},g,t=>ee.emitEvent("svelteProductChanged",[s.panelid+"_products"]),function(){v=E(g[3],this.__value,this.checked),n(4,v)},t=>{ee.emitEvent("svelteProductChanged",[s.panelid+"_dpgroups"])},function(){o.depFilterText=this.value,_.set(o)},function(){m=E(g[2],this.__value,this.checked),n(6,m)},t=>{ee.emitEvent("svelteDepartmentChanged",[s.panelid])},function(){o.userFilterText=this.value,_.set(o)},function(){u=E(g[1],this.__value,this.checked),n(2,u)},t=>{ee.emitEvent("svelteProductChanged",[s.userid])},function(){c=E(g[0],this.__value,this.checked),n(3,c)},t=>{ee.emitEvent("svelteProductChanged",[s.panelid+"_ugroups"])},function(){o[s.limitid]=A(this),_.set(o)},t=>{ee.emitEvent("svelteLimitChanged",[s.limitid])}]}class mt extends e{constructor(t){super(),n(this,t,ht,vt,o,{lhcList:0,optionsPanel:1},null,[-1,-1])}get lhcList(){return this.$$.ctx[0]}set lhcList(t){this.$$set({lhcList:t}),i()}get optionsPanel(){return this.$$.ctx[1]}set optionsPanel(t){this.$$set({optionsPanel:t}),i()}}function gt(t,e,n){const o=t.slice();return o[41]=e[n],o}function ft(t,e,n){const o=t.slice();return o[44]=e[n],o}function Ct(t,e,n){const o=t.slice();return o[47]=e[n],o}function xt(t,e,n){const o=t.slice();return o[50]=e[n],o}function bt(t,e,n){const o=t.slice();return o[47]=e[n],o}function yt(t){let e,n,o,i,r,d,p,v,h,m,f,C,x,b,y,w,k,S,I,T,P,E,$,A,F,R,D,O,G,V,z,U,J,H,q,K,X,Q,Z,Y,tt,et,nt,ot,it,at,lt,_t,st,ut,rt,ct,dt,pt,vt,ht,gt,ft,Ct,xt,bt,yt,wt,kt,St,It,Tt,Pt,Et,$t,At,Ft,Wt,Lt,Rt,Dt,Nt,Ot,Bt,jt,Mt,Gt,Vt,zt,Ut,Jt,Ht,qt,Kt,Xt,Qt,Zt,Yt,te,ee,ne,oe,ie,ae,le,_e,se,ue,re,ce,de,pe,ve,he,me,ge,fe,Ce,xe,be,ye,we,ke,Se,Ie,Te,Pe,Ee,$e,Ae,Fe,We,Le,Re,De,Ne,Oe,Be,je,Me,Ge,Ve,ze,Ue,Je,He,qe,Ke,Xe,Qe,Ze,Ye,tn,en,nn,on,an,ln,_n,sn,un,rn,cn,dn,pn,vn,hn,mn,gn,fn,Cn,xn,bn,yn,wn,kn,Sn,In,Tn,Pn,En,$n,An,Fn,Wn,Ln,Rn,Dn,Nn,On,Bn,jn,Mn,Gn,Vn,zn,Un,Jn,Hn,qn,Kn,Xn,Qn,Zn,Yn,to,eo,no,oo,io,ao,lo,_o,so,uo,ro,co,po,vo,ho,mo,go,fo,Co,xo,bo,yo,wo,ko,So,Io,To,Po,Eo,$o,Ao,Fo,Wo,Lo,Ro,Do,No,Oo,Bo,jo,Mo,Go,Vo,zo,Uo,Jo,Ho,qo,Ko,Xo,Qo,Zo,Yo,ti,ei,ni,oi,ii,ai,li,_i,si;return d=new mt({props:{lhcList:N,optionsPanel:{padding_filters:0,disable_product:!0,hide_department_variations:!0,hide_limits:!0,panelid:"department_online"}}}),{c(){e=a("div"),n=a("div"),o=a("div"),o.innerHTML='<input class="form-control form-control-sm" onkeyup="ee.emitEvent(&#39;svelteOnlineUserSetting&#39;,[&#39;setQuery&#39;,this.value])" type="text" value="" placeholder="Type to search"/>',i=l(),r=a("div"),B(d.$$.fragment),p=l(),v=a("div"),h=a("select"),m=a("option"),m.textContent="Select country",f=a("option"),f.textContent="Afghanistan",C=a("option"),C.textContent="Åland Islands",x=a("option"),x.textContent="Albania",b=a("option"),b.textContent="Algeria",y=a("option"),y.textContent="American Samoa",w=a("option"),w.textContent="Andorra",k=a("option"),k.textContent="Angola",S=a("option"),S.textContent="Anguilla",I=a("option"),I.textContent="Antarctica",T=a("option"),T.textContent="Antigua and Barbuda",P=a("option"),P.textContent="Argentina",E=a("option"),E.textContent="Armenia",$=a("option"),$.textContent="Aruba",A=a("option"),A.textContent="Australia",F=a("option"),F.textContent="Austria",R=a("option"),R.textContent="Azerbaijan",D=a("option"),D.textContent="Bahamas",O=a("option"),O.textContent="Bahrain",G=a("option"),G.textContent="Bangladesh",V=a("option"),V.textContent="Barbados",z=a("option"),z.textContent="Belarus",U=a("option"),U.textContent="Belgium",J=a("option"),J.textContent="Belize",H=a("option"),H.textContent="Benin",q=a("option"),q.textContent="Bermuda",K=a("option"),K.textContent="Bhutan",X=a("option"),X.textContent="Bolivia, Plurinational State of",Q=a("option"),Q.textContent="Bonaire, Sint Eustatius and Saba",Z=a("option"),Z.textContent="Bosnia and Herzegovina",Y=a("option"),Y.textContent="Botswana",tt=a("option"),tt.textContent="Bouvet Island",et=a("option"),et.textContent="Brazil",nt=a("option"),nt.textContent="British Indian Ocean Territory",ot=a("option"),ot.textContent="Brunei Darussalam",it=a("option"),it.textContent="Bulgaria",at=a("option"),at.textContent="Burkina Faso",lt=a("option"),lt.textContent="Burundi",_t=a("option"),_t.textContent="Cambodia",st=a("option"),st.textContent="Cameroon",ut=a("option"),ut.textContent="Canada",rt=a("option"),rt.textContent="Cape Verde",ct=a("option"),ct.textContent="Cayman Islands",dt=a("option"),dt.textContent="Central African Republic",pt=a("option"),pt.textContent="Chad",vt=a("option"),vt.textContent="Chile",ht=a("option"),ht.textContent="China",gt=a("option"),gt.textContent="Christmas Island",ft=a("option"),ft.textContent="Cocos (Keeling) Islands",Ct=a("option"),Ct.textContent="Colombia",xt=a("option"),xt.textContent="Comoros",bt=a("option"),bt.textContent="Congo",yt=a("option"),yt.textContent="Congo, the Democratic Republic of the",wt=a("option"),wt.textContent="Cook Islands",kt=a("option"),kt.textContent="Costa Rica",St=a("option"),St.textContent="Côte d'Ivoire",It=a("option"),It.textContent="Croatia",Tt=a("option"),Tt.textContent="Cuba",Pt=a("option"),Pt.textContent="Curaçao",Et=a("option"),Et.textContent="Cyprus",$t=a("option"),$t.textContent="Czech Republic",At=a("option"),At.textContent="Denmark",Ft=a("option"),Ft.textContent="Djibouti",Wt=a("option"),Wt.textContent="Dominica",Lt=a("option"),Lt.textContent="Dominican Republic",Rt=a("option"),Rt.textContent="Ecuador",Dt=a("option"),Dt.textContent="Egypt",Nt=a("option"),Nt.textContent="El Salvador",Ot=a("option"),Ot.textContent="Equatorial Guinea",Bt=a("option"),Bt.textContent="Eritrea",jt=a("option"),jt.textContent="Estonia",Mt=a("option"),Mt.textContent="Ethiopia",Gt=a("option"),Gt.textContent="Falkland Islands (Malvinas)",Vt=a("option"),Vt.textContent="Faroe Islands",zt=a("option"),zt.textContent="Fiji",Ut=a("option"),Ut.textContent="Finland",Jt=a("option"),Jt.textContent="France",Ht=a("option"),Ht.textContent="French Guiana",qt=a("option"),qt.textContent="French Polynesia",Kt=a("option"),Kt.textContent="French Southern Territories",Xt=a("option"),Xt.textContent="Gabon",Qt=a("option"),Qt.textContent="Gambia",Zt=a("option"),Zt.textContent="Georgia",Yt=a("option"),Yt.textContent="Germany",te=a("option"),te.textContent="Ghana",ee=a("option"),ee.textContent="Gibraltar",ne=a("option"),ne.textContent="Greece",oe=a("option"),oe.textContent="Greenland",ie=a("option"),ie.textContent="Grenada",ae=a("option"),ae.textContent="Guadeloupe",le=a("option"),le.textContent="Guam",_e=a("option"),_e.textContent="Guatemala",se=a("option"),se.textContent="Guernsey",ue=a("option"),ue.textContent="Guinea",re=a("option"),re.textContent="Guinea-Bissau",ce=a("option"),ce.textContent="Guyana",de=a("option"),de.textContent="Haiti",pe=a("option"),pe.textContent="Heard Island and McDonald Islands",ve=a("option"),ve.textContent="Holy See (Vatican City State)",he=a("option"),he.textContent="Honduras",me=a("option"),me.textContent="Hong Kong",ge=a("option"),ge.textContent="Hungary",fe=a("option"),fe.textContent="Iceland",Ce=a("option"),Ce.textContent="India",xe=a("option"),xe.textContent="Indonesia",be=a("option"),be.textContent="Iran, Islamic Republic of",ye=a("option"),ye.textContent="Iraq",we=a("option"),we.textContent="Ireland",ke=a("option"),ke.textContent="Isle of Man",Se=a("option"),Se.textContent="Israel",Ie=a("option"),Ie.textContent="Italy",Te=a("option"),Te.textContent="Jamaica",Pe=a("option"),Pe.textContent="Japan",Ee=a("option"),Ee.textContent="Jersey",$e=a("option"),$e.textContent="Jordan",Ae=a("option"),Ae.textContent="Kazakhstan",Fe=a("option"),Fe.textContent="Kenya",We=a("option"),We.textContent="Kiribati",Le=a("option"),Le.textContent="Korea, Democratic People's Republic of",Re=a("option"),Re.textContent="Korea, Republic of",De=a("option"),De.textContent="Kuwait",Ne=a("option"),Ne.textContent="Kyrgyzstan",Oe=a("option"),Oe.textContent="Lao People's Democratic Republic",Be=a("option"),Be.textContent="Latvia",je=a("option"),je.textContent="Lebanon",Me=a("option"),Me.textContent="Lesotho",Ge=a("option"),Ge.textContent="Liberia",Ve=a("option"),Ve.textContent="Libya",ze=a("option"),ze.textContent="Liechtenstein",Ue=a("option"),Ue.textContent="Lithuania",Je=a("option"),Je.textContent="Luxembourg",He=a("option"),He.textContent="Macao",qe=a("option"),qe.textContent="Macedonia, the Former Yugoslav Republic of",Ke=a("option"),Ke.textContent="Madagascar",Xe=a("option"),Xe.textContent="Malawi",Qe=a("option"),Qe.textContent="Malaysia",Ze=a("option"),Ze.textContent="Maldives",Ye=a("option"),Ye.textContent="Mali",tn=a("option"),tn.textContent="Malta",en=a("option"),en.textContent="Marshall Islands",nn=a("option"),nn.textContent="Martinique",on=a("option"),on.textContent="Mauritania",an=a("option"),an.textContent="Mauritius",ln=a("option"),ln.textContent="Mayotte",_n=a("option"),_n.textContent="Mexico",sn=a("option"),sn.textContent="Micronesia, Federated States of",un=a("option"),un.textContent="Moldova, Republic of",rn=a("option"),rn.textContent="Monaco",cn=a("option"),cn.textContent="Mongolia",dn=a("option"),dn.textContent="Montenegro",pn=a("option"),pn.textContent="Montserrat",vn=a("option"),vn.textContent="Morocco",hn=a("option"),hn.textContent="Mozambique",mn=a("option"),mn.textContent="Myanmar",gn=a("option"),gn.textContent="Namibia",fn=a("option"),fn.textContent="Nauru",Cn=a("option"),Cn.textContent="Nepal",xn=a("option"),xn.textContent="Netherlands",bn=a("option"),bn.textContent="New Caledonia",yn=a("option"),yn.textContent="New Zealand",wn=a("option"),wn.textContent="Nicaragua",kn=a("option"),kn.textContent="Niger",Sn=a("option"),Sn.textContent="Nigeria",In=a("option"),In.textContent="Niue",Tn=a("option"),Tn.textContent="Norfolk Island",Pn=a("option"),Pn.textContent="Northern Mariana Islands",En=a("option"),En.textContent="Norway",$n=a("option"),$n.textContent="Oman",An=a("option"),An.textContent="Pakistan",Fn=a("option"),Fn.textContent="Palau",Wn=a("option"),Wn.textContent="Palestine, State of",Ln=a("option"),Ln.textContent="Panama",Rn=a("option"),Rn.textContent="Papua New Guinea",Dn=a("option"),Dn.textContent="Paraguay",Nn=a("option"),Nn.textContent="Peru",On=a("option"),On.textContent="Philippines",Bn=a("option"),Bn.textContent="Pitcairn",jn=a("option"),jn.textContent="Poland",Mn=a("option"),Mn.textContent="Portugal",Gn=a("option"),Gn.textContent="Puerto Rico",Vn=a("option"),Vn.textContent="Qatar",zn=a("option"),zn.textContent="Réunion",Un=a("option"),Un.textContent="Romania",Jn=a("option"),Jn.textContent="Russian Federation",Hn=a("option"),Hn.textContent="Rwanda",qn=a("option"),qn.textContent="Saint Barthélemy",Kn=a("option"),Kn.textContent="Saint Helena, Ascension and Tristan da Cunha",Xn=a("option"),Xn.textContent="Saint Kitts and Nevis",Qn=a("option"),Qn.textContent="Saint Lucia",Zn=a("option"),Zn.textContent="Saint Martin (French part)",Yn=a("option"),Yn.textContent="Saint Pierre and Miquelon",to=a("option"),to.textContent="Saint Vincent and the Grenadines",eo=a("option"),eo.textContent="Samoa",no=a("option"),no.textContent="San Marino",oo=a("option"),oo.textContent="Sao Tome and Principe",io=a("option"),io.textContent="Saudi Arabia",ao=a("option"),ao.textContent="Senegal",lo=a("option"),lo.textContent="Serbia",_o=a("option"),_o.textContent="Seychelles",so=a("option"),so.textContent="Sierra Leone",uo=a("option"),uo.textContent="Singapore",ro=a("option"),ro.textContent="Sint Maarten (Dutch part)",co=a("option"),co.textContent="Slovakia",po=a("option"),po.textContent="Slovenia",vo=a("option"),vo.textContent="Solomon Islands",ho=a("option"),ho.textContent="Somalia",mo=a("option"),mo.textContent="South Africa",go=a("option"),go.textContent="South Georgia and the South Sandwich Islands",fo=a("option"),fo.textContent="South Sudan",Co=a("option"),Co.textContent="Spain",xo=a("option"),xo.textContent="Sri Lanka",bo=a("option"),bo.textContent="Sudan",yo=a("option"),yo.textContent="Suriname",wo=a("option"),wo.textContent="Svalbard and Jan Mayen",ko=a("option"),ko.textContent="Swaziland",So=a("option"),So.textContent="Sweden",Io=a("option"),Io.textContent="Switzerland",To=a("option"),To.textContent="Syrian Arab Republic",Po=a("option"),Po.textContent="Taiwan, Province of China",Eo=a("option"),Eo.textContent="Tajikistan",$o=a("option"),$o.textContent="Tanzania, United Republic of",Ao=a("option"),Ao.textContent="Thailand",Fo=a("option"),Fo.textContent="Timor-Leste",Wo=a("option"),Wo.textContent="Togo",Lo=a("option"),Lo.textContent="Tokelau",Ro=a("option"),Ro.textContent="Tonga",Do=a("option"),Do.textContent="Trinidad and Tobago",No=a("option"),No.textContent="Tunisia",Oo=a("option"),Oo.textContent="Turkey",Bo=a("option"),Bo.textContent="Turkmenistan",jo=a("option"),jo.textContent="Turks and Caicos Islands",Mo=a("option"),Mo.textContent="Tuvalu",Go=a("option"),Go.textContent="Uganda",Vo=a("option"),Vo.textContent="Ukraine",zo=a("option"),zo.textContent="United Arab Emirates",Uo=a("option"),Uo.textContent="United Kingdom",Jo=a("option"),Jo.textContent="United States",Ho=a("option"),Ho.textContent="United States Minor Outlying Islands",qo=a("option"),qo.textContent="Uruguay",Ko=a("option"),Ko.textContent="Uzbekistan",Xo=a("option"),Xo.textContent="Vanuatu",Qo=a("option"),Qo.textContent="Venezuela, Bolivarian Republic of",Zo=a("option"),Zo.textContent="Viet Nam",Yo=a("option"),Yo.textContent="Virgin Islands, British",ti=a("option"),ti.textContent="Virgin Islands, U.S.",ei=a("option"),ei.textContent="Wallis and Futuna",ni=a("option"),ni.textContent="Western Sahara",oi=a("option"),oi.textContent="Yemen",ii=a("option"),ii.textContent="Zambia",ai=a("option"),ai.textContent="Zimbabwe",li=l(),_i=a("div"),_i.innerHTML='<input type="text" class="form-control form-control-sm" id="svelte-time_on_siteFilter" onkeyup="ee.emitEvent(&#39;svelteOnlineUserSetting&#39;,[&#39;timeOnSiteFilter&#39;,this.value])" title="+20 (More than 20 seconds spend on site) 20 (Less than 20 seconds spend on site)" placeholder="+20 (More than 20 seconds spend on site) 20 (Less than 20 seconds spend on site)" value=""/>',_(o,"class","col-3 pe-0"),_(r,"class","col-3 pe-2"),m.__value="none",g(m,m.__value),m.selected="selected",f.__value="af",g(f,f.__value),C.__value="ax",g(C,C.__value),x.__value="al",g(x,x.__value),b.__value="dz",g(b,b.__value),y.__value="as",g(y,y.__value),w.__value="ad",g(w,w.__value),k.__value="ao",g(k,k.__value),S.__value="ai",g(S,S.__value),I.__value="aq",g(I,I.__value),T.__value="ag",g(T,T.__value),P.__value="ar",g(P,P.__value),E.__value="am",g(E,E.__value),$.__value="aw",g($,$.__value),A.__value="au",g(A,A.__value),F.__value="at",g(F,F.__value),R.__value="az",g(R,R.__value),D.__value="bs",g(D,D.__value),O.__value="bh",g(O,O.__value),G.__value="bd",g(G,G.__value),V.__value="bb",g(V,V.__value),z.__value="by",g(z,z.__value),U.__value="be",g(U,U.__value),J.__value="bz",g(J,J.__value),H.__value="bj",g(H,H.__value),q.__value="bm",g(q,q.__value),K.__value="bt",g(K,K.__value),X.__value="bo",g(X,X.__value),Q.__value="bq",g(Q,Q.__value),Z.__value="ba",g(Z,Z.__value),Y.__value="bw",g(Y,Y.__value),tt.__value="bv",g(tt,tt.__value),et.__value="br",g(et,et.__value),nt.__value="io",g(nt,nt.__value),ot.__value="bn",g(ot,ot.__value),it.__value="bg",g(it,it.__value),at.__value="bf",g(at,at.__value),lt.__value="bi",g(lt,lt.__value),_t.__value="kh",g(_t,_t.__value),st.__value="cm",g(st,st.__value),ut.__value="ca",g(ut,ut.__value),rt.__value="cv",g(rt,rt.__value),ct.__value="ky",g(ct,ct.__value),dt.__value="cf",g(dt,dt.__value),pt.__value="td",g(pt,pt.__value),vt.__value="cl",g(vt,vt.__value),ht.__value="cn",g(ht,ht.__value),gt.__value="cx",g(gt,gt.__value),ft.__value="cc",g(ft,ft.__value),Ct.__value="co",g(Ct,Ct.__value),xt.__value="km",g(xt,xt.__value),bt.__value="cg",g(bt,bt.__value),yt.__value="cd",g(yt,yt.__value),wt.__value="ck",g(wt,wt.__value),kt.__value="cr",g(kt,kt.__value),St.__value="ci",g(St,St.__value),It.__value="hr",g(It,It.__value),Tt.__value="cu",g(Tt,Tt.__value),Pt.__value="cw",g(Pt,Pt.__value),Et.__value="cy",g(Et,Et.__value),$t.__value="cz",g($t,$t.__value),At.__value="dk",g(At,At.__value),Ft.__value="dj",g(Ft,Ft.__value),Wt.__value="dm",g(Wt,Wt.__value),Lt.__value="do",g(Lt,Lt.__value),Rt.__value="ec",g(Rt,Rt.__value),Dt.__value="eg",g(Dt,Dt.__value),Nt.__value="sv",g(Nt,Nt.__value),Ot.__value="gq",g(Ot,Ot.__value),Bt.__value="er",g(Bt,Bt.__value),jt.__value="ee",g(jt,jt.__value),Mt.__value="et",g(Mt,Mt.__value),Gt.__value="fk",g(Gt,Gt.__value),Vt.__value="fo",g(Vt,Vt.__value),zt.__value="fj",g(zt,zt.__value),Ut.__value="fi",g(Ut,Ut.__value),Jt.__value="fr",g(Jt,Jt.__value),Ht.__value="gf",g(Ht,Ht.__value),qt.__value="pf",g(qt,qt.__value),Kt.__value="tf",g(Kt,Kt.__value),Xt.__value="ga",g(Xt,Xt.__value),Qt.__value="gm",g(Qt,Qt.__value),Zt.__value="ge",g(Zt,Zt.__value),Yt.__value="de",g(Yt,Yt.__value),te.__value="gh",g(te,te.__value),ee.__value="gi",g(ee,ee.__value),ne.__value="gr",g(ne,ne.__value),oe.__value="gl",g(oe,oe.__value),ie.__value="gd",g(ie,ie.__value),ae.__value="gp",g(ae,ae.__value),le.__value="gu",g(le,le.__value),_e.__value="gt",g(_e,_e.__value),se.__value="gg",g(se,se.__value),ue.__value="gn",g(ue,ue.__value),re.__value="gw",g(re,re.__value),ce.__value="gy",g(ce,ce.__value),de.__value="ht",g(de,de.__value),pe.__value="hm",g(pe,pe.__value),ve.__value="va",g(ve,ve.__value),he.__value="hn",g(he,he.__value),me.__value="hk",g(me,me.__value),ge.__value="hu",g(ge,ge.__value),fe.__value="is",g(fe,fe.__value),Ce.__value="in",g(Ce,Ce.__value),xe.__value="id",g(xe,xe.__value),be.__value="ir",g(be,be.__value),ye.__value="iq",g(ye,ye.__value),we.__value="ie",g(we,we.__value),ke.__value="im",g(ke,ke.__value),Se.__value="il",g(Se,Se.__value),Ie.__value="it",g(Ie,Ie.__value),Te.__value="jm",g(Te,Te.__value),Pe.__value="jp",g(Pe,Pe.__value),Ee.__value="je",g(Ee,Ee.__value),$e.__value="jo",g($e,$e.__value),Ae.__value="kz",g(Ae,Ae.__value),Fe.__value="ke",g(Fe,Fe.__value),We.__value="ki",g(We,We.__value),Le.__value="kp",g(Le,Le.__value),Re.__value="kr",g(Re,Re.__value),De.__value="kw",g(De,De.__value),Ne.__value="kg",g(Ne,Ne.__value),Oe.__value="la",g(Oe,Oe.__value),Be.__value="lv",g(Be,Be.__value),je.__value="lb",g(je,je.__value),Me.__value="ls",g(Me,Me.__value),Ge.__value="lr",g(Ge,Ge.__value),Ve.__value="ly",g(Ve,Ve.__value),ze.__value="li",g(ze,ze.__value),Ue.__value="lt",g(Ue,Ue.__value),Je.__value="lu",g(Je,Je.__value),He.__value="mo",g(He,He.__value),qe.__value="mk",g(qe,qe.__value),Ke.__value="mg",g(Ke,Ke.__value),Xe.__value="mw",g(Xe,Xe.__value),Qe.__value="my",g(Qe,Qe.__value),Ze.__value="mv",g(Ze,Ze.__value),Ye.__value="ml",g(Ye,Ye.__value),tn.__value="mt",g(tn,tn.__value),en.__value="mh",g(en,en.__value),nn.__value="mq",g(nn,nn.__value),on.__value="mr",g(on,on.__value);an.__value="mu",g(an,an.__value),ln.__value="yt",g(ln,ln.__value),_n.__value="mx",g(_n,_n.__value),sn.__value="fm",g(sn,sn.__value),un.__value="md",g(un,un.__value),rn.__value="mc",g(rn,rn.__value),cn.__value="mn",g(cn,cn.__value),dn.__value="me",g(dn,dn.__value),pn.__value="ms",g(pn,pn.__value),vn.__value="ma",g(vn,vn.__value),hn.__value="mz",g(hn,hn.__value),mn.__value="mm",g(mn,mn.__value),gn.__value="na",g(gn,gn.__value),fn.__value="nr",g(fn,fn.__value),Cn.__value="np",g(Cn,Cn.__value),xn.__value="nl",g(xn,xn.__value),bn.__value="nc",g(bn,bn.__value),yn.__value="nz",g(yn,yn.__value),wn.__value="ni",g(wn,wn.__value),kn.__value="ne",g(kn,kn.__value),Sn.__value="ng",g(Sn,Sn.__value),In.__value="nu",g(In,In.__value),Tn.__value="nf",g(Tn,Tn.__value),Pn.__value="mp",g(Pn,Pn.__value),En.__value="no",g(En,En.__value),$n.__value="om",g($n,$n.__value),An.__value="pk",g(An,An.__value),Fn.__value="pw",g(Fn,Fn.__value),Wn.__value="ps",g(Wn,Wn.__value),Ln.__value="pa",g(Ln,Ln.__value),Rn.__value="pg",g(Rn,Rn.__value),Dn.__value="py",g(Dn,Dn.__value),Nn.__value="pe",g(Nn,Nn.__value),On.__value="ph",g(On,On.__value),Bn.__value="pn",g(Bn,Bn.__value),jn.__value="pl",g(jn,jn.__value),Mn.__value="pt",g(Mn,Mn.__value),Gn.__value="pr",g(Gn,Gn.__value),Vn.__value="qa",g(Vn,Vn.__value),zn.__value="re",g(zn,zn.__value),Un.__value="ro",g(Un,Un.__value),Jn.__value="ru",g(Jn,Jn.__value),Hn.__value="rw",g(Hn,Hn.__value),qn.__value="bl",g(qn,qn.__value),Kn.__value="sh",g(Kn,Kn.__value),Xn.__value="kn",g(Xn,Xn.__value),Qn.__value="lc",g(Qn,Qn.__value),Zn.__value="mf",g(Zn,Zn.__value),Yn.__value="pm",g(Yn,Yn.__value),to.__value="vc",g(to,to.__value),eo.__value="ws",g(eo,eo.__value),no.__value="sm",g(no,no.__value),oo.__value="st",g(oo,oo.__value),io.__value="sa",g(io,io.__value),ao.__value="sn",g(ao,ao.__value),lo.__value="rs",g(lo,lo.__value),_o.__value="sc",g(_o,_o.__value),so.__value="sl",g(so,so.__value),uo.__value="sg",g(uo,uo.__value),ro.__value="sx",g(ro,ro.__value),co.__value="sk",g(co,co.__value),po.__value="si",g(po,po.__value),vo.__value="sb",g(vo,vo.__value),ho.__value="so",g(ho,ho.__value),mo.__value="za",g(mo,mo.__value),go.__value="gs",g(go,go.__value),fo.__value="ss",g(fo,fo.__value),Co.__value="es",g(Co,Co.__value),xo.__value="lk",g(xo,xo.__value),bo.__value="sd",g(bo,bo.__value),yo.__value="sr",g(yo,yo.__value),wo.__value="sj",g(wo,wo.__value),ko.__value="sz",g(ko,ko.__value),So.__value="se",g(So,So.__value),Io.__value="ch",g(Io,Io.__value),To.__value="sy",g(To,To.__value),Po.__value="tw",g(Po,Po.__value),Eo.__value="tj",g(Eo,Eo.__value),$o.__value="tz",g($o,$o.__value),Ao.__value="th",g(Ao,Ao.__value),Fo.__value="tl",g(Fo,Fo.__value),Wo.__value="tg",g(Wo,Wo.__value),Lo.__value="tk",g(Lo,Lo.__value),Ro.__value="to",g(Ro,Ro.__value),Do.__value="tt",g(Do,Do.__value),No.__value="tn",g(No,No.__value),Oo.__value="tr",g(Oo,Oo.__value),Bo.__value="tm",g(Bo,Bo.__value),jo.__value="tc",g(jo,jo.__value),Mo.__value="tv",g(Mo,Mo.__value),Go.__value="ug",g(Go,Go.__value),Vo.__value="ua",g(Vo,Vo.__value),zo.__value="ae",g(zo,zo.__value),Uo.__value="gb",g(Uo,Uo.__value),Jo.__value="us",g(Jo,Jo.__value),Ho.__value="um",g(Ho,Ho.__value),qo.__value="uy",g(qo,qo.__value),Ko.__value="uz",g(Ko,Ko.__value),Xo.__value="vu",g(Xo,Xo.__value),Qo.__value="ve",g(Qo,Qo.__value),Zo.__value="vn",g(Zo,Zo.__value),Yo.__value="vg",g(Yo,Yo.__value),ti.__value="vi",g(ti,ti.__value),ei.__value="wf",g(ei,ei.__value),ni.__value="eh",g(ni,ni.__value),oi.__value="ye",g(oi,oi.__value),ii.__value="zm",g(ii,ii.__value),ai.__value="zw",g(ai,ai.__value),_(h,"class","form-control form-control-sm"),_(h,"onchange","ee.emitEvent('svelteOnlineUserSetting',['countryFilter',this.value])"),_(h,"id","svelte-countryFilter"),_(h,"title","Select country"),_(v,"class","col-3 pe-0"),_(_i,"class","col-3"),_(n,"class","row"),_(e,"class","p-2")},m(t,a){s(t,e,a),u(e,n),u(n,o),u(n,i),u(n,r),j(d,r,null),u(n,p),u(n,v),u(v,h),u(h,m),u(h,f),u(h,C),u(h,x),u(h,b),u(h,y),u(h,w),u(h,k),u(h,S),u(h,I),u(h,T),u(h,P),u(h,E),u(h,$),u(h,A),u(h,F),u(h,R),u(h,D),u(h,O),u(h,G),u(h,V),u(h,z),u(h,U),u(h,J),u(h,H),u(h,q),u(h,K),u(h,X),u(h,Q),u(h,Z),u(h,Y),u(h,tt),u(h,et),u(h,nt),u(h,ot),u(h,it),u(h,at),u(h,lt),u(h,_t),u(h,st),u(h,ut),u(h,rt),u(h,ct),u(h,dt),u(h,pt),u(h,vt),u(h,ht),u(h,gt),u(h,ft),u(h,Ct),u(h,xt),u(h,bt),u(h,yt),u(h,wt),u(h,kt),u(h,St),u(h,It),u(h,Tt),u(h,Pt),u(h,Et),u(h,$t),u(h,At),u(h,Ft),u(h,Wt),u(h,Lt),u(h,Rt),u(h,Dt),u(h,Nt),u(h,Ot),u(h,Bt),u(h,jt),u(h,Mt),u(h,Gt),u(h,Vt),u(h,zt),u(h,Ut),u(h,Jt),u(h,Ht),u(h,qt),u(h,Kt),u(h,Xt),u(h,Qt),u(h,Zt),u(h,Yt),u(h,te),u(h,ee),u(h,ne),u(h,oe),u(h,ie),u(h,ae),u(h,le),u(h,_e),u(h,se),u(h,ue),u(h,re),u(h,ce),u(h,de),u(h,pe),u(h,ve),u(h,he),u(h,me),u(h,ge),u(h,fe),u(h,Ce),u(h,xe),u(h,be),u(h,ye),u(h,we),u(h,ke),u(h,Se),u(h,Ie),u(h,Te),u(h,Pe),u(h,Ee),u(h,$e),u(h,Ae),u(h,Fe),u(h,We),u(h,Le),u(h,Re),u(h,De),u(h,Ne),u(h,Oe),u(h,Be),u(h,je),u(h,Me),u(h,Ge),u(h,Ve),u(h,ze),u(h,Ue),u(h,Je),u(h,He),u(h,qe),u(h,Ke),u(h,Xe),u(h,Qe),u(h,Ze),u(h,Ye),u(h,tn),u(h,en),u(h,nn),u(h,on),u(h,an),u(h,ln),u(h,_n),u(h,sn),u(h,un),u(h,rn),u(h,cn),u(h,dn),u(h,pn),u(h,vn),u(h,hn),u(h,mn),u(h,gn),u(h,fn),u(h,Cn),u(h,xn),u(h,bn),u(h,yn),u(h,wn),u(h,kn),u(h,Sn),u(h,In),u(h,Tn),u(h,Pn),u(h,En),u(h,$n),u(h,An),u(h,Fn),u(h,Wn),u(h,Ln),u(h,Rn),u(h,Dn),u(h,Nn),u(h,On),u(h,Bn),u(h,jn),u(h,Mn),u(h,Gn),u(h,Vn),u(h,zn),u(h,Un),u(h,Jn),u(h,Hn),u(h,qn),u(h,Kn),u(h,Xn),u(h,Qn),u(h,Zn),u(h,Yn),u(h,to),u(h,eo),u(h,no),u(h,oo),u(h,io),u(h,ao),u(h,lo),u(h,_o),u(h,so),u(h,uo),u(h,ro),u(h,co),u(h,po),u(h,vo),u(h,ho),u(h,mo),u(h,go),u(h,fo),u(h,Co),u(h,xo),u(h,bo),u(h,yo),u(h,wo),u(h,ko),u(h,So),u(h,Io),u(h,To),u(h,Po),u(h,Eo),u(h,$o),u(h,Ao),u(h,Fo),u(h,Wo),u(h,Lo),u(h,Ro),u(h,Do),u(h,No),u(h,Oo),u(h,Bo),u(h,jo),u(h,Mo),u(h,Go),u(h,Vo),u(h,zo),u(h,Uo),u(h,Jo),u(h,Ho),u(h,qo),u(h,Ko),u(h,Xo),u(h,Qo),u(h,Zo),u(h,Yo),u(h,ti),u(h,ei),u(h,ni),u(h,oi),u(h,ii),u(h,ai),u(n,li),u(n,_i),si=!0},i(t){si||(W(d.$$.fragment,t),si=!0)},o(t){L(d.$$.fragment,t),si=!1},d(t){t&&c(e),M(d)}}}function wt(t){let e,n,o;return{c(){e=a("a"),e.textContent="access_time",_(e,"class","material-icons"),_(e,"title","<?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/onlineusers','By user status on site');?>")},m(i,a){s(i,e,a),n||(o=f(e,"click",t[28]),n=!0)},p:r,d(t){t&&c(e),n=!1,o()}}}function kt(t){let e,n=v(t[4].additionalColumns),o=[];for(let e=0;e<n.length;e+=1)o[e]=Tt(bt(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=w()},m(t,n){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,n);s(t,e,n)},p(t,i){if(16&i[0]){let a;for(n=v(t[4].additionalColumns),a=0;a<n.length;a+=1){const l=bt(t,n,a);o[a]?o[a].p(l,i):(o[a]=Tt(l),o[a].c(),o[a].m(e.parentNode,e))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},d(t){t&&c(e),D(o,t)}}}function St(t){let e,n,o,i=t[47].name+"",_=""!==t[47].icon&&It(t);return{c(){e=a("th"),_&&_.c(),n=h(i),o=l()},m(t,i){s(t,e,i),_&&_.m(e,null),u(e,n),u(e,o)},p(t,o){""!==t[47].icon?_?_.p(t,o):(_=It(t),_.c(),_.m(e,n)):_&&(_.d(1),_=null),16&o[0]&&i!==(i=t[47].name+"")&&C(n,i)},d(t){t&&c(e),_&&_.d()}}}function It(t){let e,n,o=t[47].icon+"";return{c(){e=a("i"),n=h(o),_(e,"class","material-icons text-muted")},m(t,o){s(t,e,o),u(e,n)},p(t,e){16&e[0]&&o!==(o=t[47].icon+"")&&C(n,o)},d(t){t&&c(e)}}}function Tt(t){let e,n=1==t[47].oenabl&&!t[47].iconm&&St(t);return{c(){n&&n.c(),e=w()},m(t,o){n&&n.m(t,o),s(t,e,o)},p(t,o){1!=t[47].oenabl||t[47].iconm?n&&(n.d(1),n=null):n?n.p(t,o):(n=St(t),n.c(),n.m(e.parentNode,e))},d(t){t&&c(e),n&&n.d(t)}}}function Pt(t){let e;return{c(){e=a("th"),e.textContent="Action",_(e,"width","1%")},m(t,n){s(t,e,n)},d(t){t&&c(e)}}}function Et(t){let e,n,o,i,l,r,d,p,v,m=(t[41].label?t[41].label:"-")+"",g=t[41].ou.length+"";return{c(){e=a("tr"),n=a("td"),o=a("h5"),i=h(m),l=h(" ("),r=h(g),d=h(")"),_(o,"class",p="group-by-"+t[3].groupByField),_(n,"colspan",v=t[3].hide_action_buttons?"1":"6")},m(t,a){s(t,e,a),u(e,n),u(n,o),u(o,i),u(o,l),u(o,r),u(o,d)},p(t,e){16&e[0]&&m!==(m=(t[41].label?t[41].label:"-")+"")&&C(i,m),16&e[0]&&g!==(g=t[41].ou.length+"")&&C(r,g),8&e[0]&&p!==(p="group-by-"+t[3].groupByField)&&_(o,"class",p),8&e[0]&&v!==(v=t[3].hide_action_buttons?"1":"6")&&_(n,"colspan",v)},d(t){t&&c(e)}}}function $t(t){let e,n,o,i,r,d,p,v,h=!t[3].hide_action_buttons&&At(t),m=t[44].vid&&Ft(t),g=(t[44].page_title||t[44].current_page)&&Ut(t),f=t[44].referrer&&Jt(t),C=t[4].additionalColumns&&Ht(t),x=!t[3].hide_action_buttons&&Zt(t);return{c(){e=a("tr"),h&&h.c(),n=l(),o=a("td"),m&&m.c(),i=l(),g&&g.c(),r=l(),f&&f.c(),d=l(),C&&C.c(),p=l(),x&&x.c(),_(e,"id",v="uo-vid-"+t[44].vid),_(e,"class","online-user-filter-row"),F(e,"online_user",t[2]&&t[44].last_check_time_ago<parseInt(t[2])+3),F(e,"recent_visit",t[44].last_visit_seconds_ago<15),F(e,"bg-red",t[2])},m(t,a){s(t,e,a),h&&h.m(e,null),u(e,n),u(e,o),m&&m.m(o,null),u(o,i),g&&g.m(o,null),u(o,r),f&&f.m(o,null),u(e,d),C&&C.m(e,null),u(e,p),x&&x.m(e,null)},p(t,a){t[3].hide_action_buttons?h&&(h.d(1),h=null):h?h.p(t,a):(h=At(t),h.c(),h.m(e,n)),t[44].vid?m?m.p(t,a):(m=Ft(t),m.c(),m.m(o,i)):m&&(m.d(1),m=null),t[44].page_title||t[44].current_page?g?g.p(t,a):(g=Ut(t),g.c(),g.m(o,r)):g&&(g.d(1),g=null),t[44].referrer?f?f.p(t,a):(f=Jt(t),f.c(),f.m(o,null)):f&&(f.d(1),f=null),t[4].additionalColumns?C?C.p(t,a):(C=Ht(t),C.c(),C.m(e,p)):C&&(C.d(1),C=null),t[3].hide_action_buttons?x&&(x.d(1),x=null):x?x.p(t,a):(x=Zt(t),x.c(),x.m(e,null)),16&a[0]&&v!==(v="uo-vid-"+t[44].vid)&&_(e,"id",v),20&a[0]&&F(e,"online_user",t[2]&&t[44].last_check_time_ago<parseInt(t[2])+3),16&a[0]&&F(e,"recent_visit",t[44].last_visit_seconds_ago<15),4&a[0]&&F(e,"bg-red",t[2])},d(t){t&&c(e),h&&h.d(),m&&m.d(),g&&g.d(),f&&f.d(),C&&C.d(),x&&x.d()}}}function At(t){let e,n,o,i,r,d,p,v,m=t[44].lastactivity_ago+"",g=t[44].time_on_site_front+"";return{c(){e=a("td"),n=a("div"),o=h(m),i=h(" ago"),r=a("br"),d=l(),p=a("span"),v=h(g),_(p,"class","fs-11"),_(e,"nowrap",""),_(e,"width","1%")},m(t,a){s(t,e,a),u(e,n),u(n,o),u(n,i),u(n,r),u(n,d),u(n,p),u(p,v)},p(t,e){16&e[0]&&m!==(m=t[44].lastactivity_ago+"")&&C(o,m),16&e[0]&&g!==(g=t[44].time_on_site_front+"")&&C(v,g)},d(t){t&&c(e)}}}function Ft(t){let e,n,o,i,r,d,p,v,m,g,x,b,w,k,S,I,T,P,E,$,A=t[44].nick+"",W=t[3].hide_action_buttons&&Wt(t),L=t[44].user_country_code&&Lt(t);function R(...e){return t[34](t[44],...e)}let D=t[44].chat_id>0&&1==t[44].can_view_chat&&Rt(t),N=t[44].total_visits>1&&Nt(t),O=1==t[44].total_visits&&Bt(t),B=t[44].operator_message&&Mt(t),j=""!=t[44].user_country_code&&!t[3].hide_action_buttons&&Vt(t),M=!t[3].hide_action_buttons&&zt();function G(...e){return t[36](t[44],...e)}return{c(){e=a("div"),n=a("a"),o=a("i"),o.textContent="content_copy",r=l(),d=a("a"),p=a("i"),p.textContent="info_outline",W&&W.c(),v=h(A),m=h(" \n                                "),L&&L.c(),x=l(),D&&D.c(),b=l(),N&&N.c(),w=l(),O&&O.c(),k=l(),B&&B.c(),S=l(),j&&j.c(),I=l(),T=a("a"),P=a("i"),P.textContent="send",M&&M.c(),_(o,"class","material-icons me-0"),_(n,"href","#"),_(n,"class","btn btn-xs "+t[6]),_(n,"title","Copy nick"),_(n,"onclick","lhinst.copyContent($(this))"),_(n,"data-success","Copied"),_(n,"data-copy",i=t[44].nick),_(p,"class","material-icons"),_(d,"href","#"),_(d,"class","btn btn-xs "+t[6]),_(d,"id",g="ou-face-"+t[44].vid),F(d,"icon-user-away",1==t[44].online_status),F(d,"icon-user-online",!t[44].online_status||0==t[44].online_status),_(P,"class","material-icons me-0"),_(T,"href","#"),_(T,"class","btn btn-xs "+t[6]),_(e,"class","btn-group"),_(e,"role","group"),_(e,"aria-label","...")},m(t,i){s(t,e,i),u(e,n),u(n,o),u(e,r),u(e,d),u(d,p),W&&W.m(d,null),u(d,v),u(d,m),L&&L.m(d,null),u(e,x),D&&D.m(e,null),u(e,b),N&&N.m(e,null),u(e,w),O&&O.m(e,null),u(e,k),B&&B.m(e,null),u(e,S),j&&j.m(e,null),u(e,I),u(e,T),u(T,P),M&&M.m(T,null),E||($=[f(d,"click",R),f(T,"click",G)],E=!0)},p(o,a){t=o,16&a[0]&&i!==(i=t[44].nick)&&_(n,"data-copy",i),t[3].hide_action_buttons?W?W.p(t,a):(W=Wt(t),W.c(),W.m(d,v)):W&&(W.d(1),W=null),16&a[0]&&A!==(A=t[44].nick+"")&&C(v,A),t[44].user_country_code?L?L.p(t,a):(L=Lt(t),L.c(),L.m(d,null)):L&&(L.d(1),L=null),16&a[0]&&g!==(g="ou-face-"+t[44].vid)&&_(d,"id",g),16&a[0]&&F(d,"icon-user-away",1==t[44].online_status),16&a[0]&&F(d,"icon-user-online",!t[44].online_status||0==t[44].online_status),t[44].chat_id>0&&1==t[44].can_view_chat?D?D.p(t,a):(D=Rt(t),D.c(),D.m(e,b)):D&&(D.d(1),D=null),t[44].total_visits>1?N?N.p(t,a):(N=Nt(t),N.c(),N.m(e,w)):N&&(N.d(1),N=null),1==t[44].total_visits?O?O.p(t,a):(O=Bt(t),O.c(),O.m(e,k)):O&&(O.d(1),O=null),t[44].operator_message?B?B.p(t,a):(B=Mt(t),B.c(),B.m(e,S)):B&&(B.d(1),B=null),""==t[44].user_country_code||t[3].hide_action_buttons?j&&(j.d(1),j=null):j?j.p(t,a):(j=Vt(t),j.c(),j.m(e,I)),t[3].hide_action_buttons?M&&(M.d(1),M=null):M||(M=zt(),M.c(),M.m(T,null))},d(t){t&&c(e),W&&W.d(),L&&L.d(),D&&D.d(),N&&N.d(),O&&O.d(),B&&B.d(),j&&j.d(),M&&M.d(),E=!1,y($)}}}function Wt(t){let e,n,o=t[44].lastactivity_ago+"";return{c(){e=h(o),n=h(" | ")},m(t,o){s(t,e,o),s(t,n,o)},p(t,n){16&n[0]&&o!==(o=t[44].lastactivity_ago+"")&&C(e,o)},d(t){t&&(c(e),c(n))}}}function Lt(t){let e,n,o,i,l;return{c(){e=a("span"),n=a("img"),V(n.src,o=t[0]+"/"+t[44].user_country_code+".png")||_(n,"src",o),_(n,"alt",i=t[44].user_country_name),_(n,"title",l=t[44].user_country_name+(""!=t[44].city?" | "+t[44].city:"")+" "+t[44].visitor_tz+" - "+t[44].visitor_tz_time)},m(t,o){s(t,e,o),u(e,n)},p(t,e){17&e[0]&&!V(n.src,o=t[0]+"/"+t[44].user_country_code+".png")&&_(n,"src",o),16&e[0]&&i!==(i=t[44].user_country_name)&&_(n,"alt",i),16&e[0]&&l!==(l=t[44].user_country_name+(""!=t[44].city?" | "+t[44].city:"")+" "+t[44].visitor_tz+" - "+t[44].visitor_tz_time)&&_(n,"title",l)},d(t){t&&c(e)}}}function Rt(t){let e,n,o,i,l=!t[3].hide_action_buttons&&Dt();function r(...e){return t[35](t[44],...e)}return{c(){e=a("span"),n=a("i"),n.textContent="chat",l&&l.c(),_(n,"class","material-icons me-0"),_(e,"class","btn btn-xs action-image "+t[7])},m(t,a){s(t,e,a),u(e,n),l&&l.m(e,null),o||(i=f(e,"click",r),o=!0)},p(n,o){(t=n)[3].hide_action_buttons?l&&(l.d(1),l=null):l||(l=Dt(),l.c(),l.m(e,null))},d(t){t&&c(e),l&&l.d(),o=!1,i()}}}function Dt(t){let e;return{c(){e=h(" Chat")},m(t,n){s(t,e,n)},d(t){t&&c(e)}}}function Nt(t){let e,n,o,i,l,r=t[44].total_visits+"",d=!t[3].hide_action_buttons&&Ot();return{c(){e=a("span"),n=a("i"),o=h("face"),d&&d.c(),l=h(r),_(n,"title",i="Returning visitor, visits in total "+t[44].total_visits),_(n,"class","material-icons me-0"),_(e,"class","btn btn-xs "+t[9])},m(t,i){s(t,e,i),u(e,n),u(n,o),d&&d.m(e,null),u(e,l)},p(t,o){16&o[0]&&i!==(i="Returning visitor, visits in total "+t[44].total_visits)&&_(n,"title",i),t[3].hide_action_buttons?d&&(d.d(1),d=null):d||(d=Ot(),d.c(),d.m(e,l)),16&o[0]&&r!==(r=t[44].total_visits+"")&&C(l,r)},d(t){t&&c(e),d&&d.d()}}}function Ot(t){let e;return{c(){e=h(" Returning - ")},m(t,n){s(t,e,n)},d(t){t&&c(e)}}}function Bt(t){let e,n,o=!t[3].hide_action_buttons&&jt();return{c(){e=a("span"),n=a("i"),n.textContent="face",o&&o.c(),_(n,"class","material-icons me-0"),_(e,"class","btn btn-xs "+t[7]),_(e,"title","New")},m(t,i){s(t,e,i),u(e,n),o&&o.m(e,null)},p(t,n){t[3].hide_action_buttons?o&&(o.d(1),o=null):o||(o=jt(),o.c(),o.m(e,null))},d(t){t&&c(e),o&&o.d()}}}function jt(t){let e;return{c(){e=h(" New")},m(t,n){s(t,e,n)},d(t){t&&c(e)}}}function Mt(t){let e,n,o,i,l=!t[3].hide_action_buttons&&Gt(t);return{c(){e=a("span"),n=a("i"),n.textContent="chat_bubble_outline",l&&l.c(),_(n,"class","material-icons me-0"),_(e,"title",o=t[44].operator_user_string+" has sent a message to the user"),_(e,"class",i="btn btn-xs "+(1==t[44].message_seen?t[7]:t[8]))},m(t,o){s(t,e,o),u(e,n),l&&l.m(e,null)},p(t,n){t[3].hide_action_buttons?l&&(l.d(1),l=null):l?l.p(t,n):(l=Gt(t),l.c(),l.m(e,null)),16&n[0]&&o!==(o=t[44].operator_user_string+" has sent a message to the user")&&_(e,"title",o),16&n[0]&&i!==(i="btn btn-xs "+(1==t[44].message_seen?t[7]:t[8]))&&_(e,"class",i)},d(t){t&&c(e),l&&l.d()}}}function Gt(t){let e,n,o=1==t[44].message_seen?"tr.msg_seen":"tr.msg_not_seen";return{c(){e=h(" "),n=h(o)},m(t,o){s(t,e,o),s(t,n,o)},p(t,e){16&e[0]&&o!==(o=1==t[44].message_seen?"tr.msg_seen":"tr.msg_not_seen")&&C(n,o)},d(t){t&&(c(e),c(n))}}}function Vt(t){let e,n,o,i,l,r,d,p,v=t[44].user_country_name+"",m=""!=t[44].city?" | "+t[44].city:"",g=t[44].visitor_tz+"",f=t[44].visitor_tz_time+"";return{c(){e=a("span"),n=h(v),o=h(m),i=a("span"),l=a("i"),l.textContent="access_time",r=h(g),d=h(" - "),p=h(f),_(e,"class","btn btn-xs btn-primary up-case-first"),_(e,"ng-if","ou.user_country_code != ''"),_(l,"class","material-icons"),_(i,"class","btn btn-primary btn-xs")},m(t,a){s(t,e,a),u(e,n),u(e,o),s(t,i,a),u(i,l),u(i,r),u(i,d),u(i,p)},p(t,e){16&e[0]&&v!==(v=t[44].user_country_name+"")&&C(n,v),16&e[0]&&m!==(m=""!=t[44].city?" | "+t[44].city:"")&&C(o,m),16&e[0]&&g!==(g=t[44].visitor_tz+"")&&C(r,g),16&e[0]&&f!==(f=t[44].visitor_tz_time+"")&&C(p,f)},d(t){t&&(c(e),c(i))}}}function zt(t){let e;return{c(){e=h(" Start a chat")},m(t,n){s(t,e,n)},d(t){t&&c(e)}}}function Ut(t){let e,n,o,i,l,r,d=(t[44].page_title||t[44].current_page)+"";return{c(){e=a("div"),n=a("i"),n.textContent="",o=a("a"),i=h(d),_(n,"class","material-icons"),_(n,"title","Page"),_(o,"target","_blank"),_(o,"href",l=t[44].current_page),_(o,"title",r=t[44].current_page),_(e,"class","abbr-list")},m(t,a){s(t,e,a),u(e,n),u(e,o),u(o,i)},p(t,e){16&e[0]&&d!==(d=(t[44].page_title||t[44].current_page)+"")&&C(i,d),16&e[0]&&l!==(l=t[44].current_page)&&_(o,"href",l),16&e[0]&&r!==(r=t[44].current_page)&&_(o,"title",r)},d(t){t&&c(e)}}}function Jt(t){let e,n,o,i,l,r,d=t[44].referrer+"";return{c(){e=a("div"),n=a("i"),n.textContent="",o=a("a"),i=h(d),_(n,"class","material-icons"),_(n,"title","From"),_(o,"target","_blank"),_(o,"href",l="http:"+t[44].referrer),_(o,"title",r=t[44].referrer),_(e,"class","abbr-list")},m(t,a){s(t,e,a),u(e,n),u(e,o),u(o,i)},p(t,e){16&e[0]&&d!==(d=t[44].referrer+"")&&C(i,d),16&e[0]&&l!==(l="http:"+t[44].referrer)&&_(o,"href",l),16&e[0]&&r!==(r=t[44].referrer)&&_(o,"title",r)},d(t){t&&c(e)}}}function Ht(t){let e,n=v(t[4].additionalColumns),o=[];for(let e=0;e<n.length;e+=1)o[e]=Qt(Ct(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=w()},m(t,n){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,n);s(t,e,n)},p(t,i){if(16&i[0]){let a;for(n=v(t[4].additionalColumns),a=0;a<n.length;a+=1){const l=Ct(t,n,a);o[a]?o[a].p(l,i):(o[a]=Qt(l),o[a].c(),o[a].m(e.parentNode,e))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}},d(t){t&&c(e),D(o,t)}}}function qt(t){let e,n,o=v(t[47].items),i=[];for(let e=0;e<o.length;e+=1)i[e]=Xt(xt(t,o,e));return{c(){e=a("td");for(let t=0;t<i.length;t+=1)i[t].c();n=l()},m(t,o){s(t,e,o);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,null);u(e,n)},p(t,a){if(16&a[0]){let l;for(o=v(t[47].items),l=0;l<o.length;l+=1){const _=xt(t,o,l);i[l]?i[l].p(_,a):(i[l]=Xt(_),i[l].c(),i[l].m(e,n))}for(;l<i.length;l+=1)i[l].d(1);i.length=o.length}},d(t){t&&c(e),D(i,t)}}}function Kt(t){let e,n,o=t[44][t[50]]+"";return{c(){e=a("div"),n=h(o),_(e,"class","abbr-list")},m(t,o){s(t,e,o),u(e,n)},p(t,e){16&e[0]&&o!==(o=t[44][t[50]]+"")&&C(n,o)},d(t){t&&c(e)}}}function Xt(t){let e,n=t[44][t[50]]&&Kt(t);return{c(){n&&n.c(),e=w()},m(t,o){n&&n.m(t,o),s(t,e,o)},p(t,o){t[44][t[50]]?n?n.p(t,o):(n=Kt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&c(e),n&&n.d(t)}}}function Qt(t){let e,n=1==t[47].oenabl&&!t[47].iconm&&qt(t);return{c(){n&&n.c(),e=w()},m(t,o){n&&n.m(t,o),s(t,e,o)},p(t,o){1!=t[47].oenabl||t[47].iconm?n&&(n.d(1),n=null):n?n.p(t,o):(n=qt(t),n.c(),n.m(e.parentNode,e))},d(t){t&&c(e),n&&n.d(t)}}}function Zt(t){let e,n,o,i,r,d,p,v,g,C;function x(...e){return t[37](t[44],...e)}return{c(){e=a("td"),n=a("div"),o=a("div"),i=a("button"),i.textContent="chat",r=l(),d=a("button"),p=h("delete"),_(i,"class","btn btn-secondary btn-sm material-icons mat-100 me-0"),_(i,"title","Send message"),_(d,"class","btn btn-danger btn-sm material-icons mat-100 me-0"),_(d,"title",v="Delete, ID - "+t[44].id),_(o,"class","btn-group"),_(o,"role","group"),_(o,"aria-label","..."),m(n,"width","90px"),_(n,"ng-if","ou.vid")},m(a,l){s(a,e,l),u(e,n),u(n,o),u(o,i),u(o,r),u(o,d),u(d,p),g||(C=[f(i,"click",x),f(d,"click",(function(){z(t[10](t[44]))&&t[10](t[44]).apply(this,arguments)}))],g=!0)},p(e,n){t=e,16&n[0]&&v!==(v="Delete, ID - "+t[44].id)&&_(d,"title",v)},d(t){t&&c(e),g=!1,y(C)}}}function Yt(t,e){let n,o,i=""==e[3].query||e[11](e[44]),a=i&&$t(e);return{key:t,first:null,c(){n=w(),a&&a.c(),o=w(),this.first=n},m(t,e){s(t,n,e),a&&a.m(t,e),s(t,o,e)},p(t,n){e=t,24&n[0]&&(i=""==e[3].query||e[11](e[44])),i?a?a.p(e,n):(a=$t(e),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null)},d(t){t&&(c(n),c(o)),a&&a.d(t)}}}function te(t){let e,n,o,i=[],_=new Map,r="none"!=t[3].groupByField&&Et(t),d=v(t[41].ou);const p=t=>t[44].id;for(let e=0;e<d.length;e+=1){let n=ft(t,d,e),o=p(n);_.set(o,i[e]=Yt(o,n))}return{c(){e=a("tbody"),r&&r.c(),n=l();for(let t=0;t<i.length;t+=1)i[t].c();o=l()},m(t,a){s(t,e,a),r&&r.m(e,null),u(e,n);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,null);u(e,o)},p(t,a){"none"!=t[3].groupByField?r?r.p(t,a):(r=Et(t),r.c(),r.m(e,n)):r&&(r.d(1),r=null),4061&a[0]&&(d=v(t[41].ou),i=x(i,a,p,1,t,d,_,e,b,Yt,o,ft))},d(t){t&&c(e),r&&r.d();for(let t=0;t<i.length;t+=1)i[t].d()}}}function ne(t){let e,n,o,i,r,d,p,m,g,x,b,w,k,S,I,T,P,E,$,A,N,O,B,j,M,V,z,U,J,H,q,K,X,Q,Z,Y,tt,et=t[3].online_connected?"flash_on":"flash_off",nt=t[3].hide_action_buttons&&yt(),ot=t[1]&&wt(t),it=t[4].additionalColumns&&kt(t),at=!t[3].hide_action_buttons&&Pt(),lt=v(t[4].onlineusersGrouped),_t=[];for(let e=0;e<lt.length;e+=1)_t[e]=te(gt(t,lt,e));return{c(){nt&&nt.c(),e=l(),n=a("table"),o=a("thead"),i=a("tr"),r=a("th"),d=a("a"),d.textContent="access_time",p=l(),m=a("a"),m.textContent="access_time",g=l(),x=a("a"),x.textContent="access_time",b=l(),ot&&ot.c(),w=l(),k=a("a"),k.textContent="Page",S=h(" | "),I=a("a"),I.textContent="Came from",T=h(" | "),P=a("span"),E=h(et),$=l(),A=a("div"),N=a("a"),O=a("i"),B=h("expand"),M=l(),V=a("a"),z=a("i"),U=h("compress"),q=l(),it&&it.c(),K=l(),at&&at.c(),X=l();for(let t=0;t<_t.length;t+=1)_t[t].c();_(d,"class","material-icons"),_(d,"title","Last activity"),_(m,"class","material-icons"),_(m,"title","<?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/onlineusers','Time on site');?>"),_(x,"class","material-icons"),_(x,"title","<?php echo erTranslationClassLhTranslation::getInstance()->getTranslation('chat/onlineusers','Visitor local time');?>"),_(k,"href","#"),_(I,"href","#"),_(P,"title","Show only connected"),_(P,"class","material-icons action-image"),_(O,"title",j=t[5]("widget.more_rows")),_(O,"class","material-icons"),_(N,"class","text-muted disable-select"),_(z,"title",J=t[5]("widget.less_rows")),_(z,"class","material-icons"),_(V,"class","text-muted disable-select"),_(A,"class","float-end expand-actions"),_(r,"width","50%"),_(r,"colspan",H=t[3].hide_action_buttons?"1":"2"),_(n,"class",Q="table table-small table-sm "+(t[3].hide_action_buttons?"table-fixed":"online-users-table")),_(n,"cellpadding","0"),_(n,"cellspacing","0"),F(n,"filter-online-active",t[3].online_connected)},m(a,l){nt&&nt.m(a,l),s(a,e,l),s(a,n,l),u(n,o),u(o,i),u(i,r),u(r,d),u(r,p),u(r,m),u(r,g),u(r,x),u(r,b),ot&&ot.m(r,null),u(r,w),u(r,k),u(r,S),u(r,I),u(r,T),u(r,P),u(P,E),u(r,$),u(r,A),u(A,N),u(N,O),u(O,B),u(A,M),u(A,V),u(V,z),u(z,U),u(i,q),it&&it.m(i,null),u(i,K),at&&at.m(i,null),u(n,X);for(let t=0;t<_t.length;t+=1)_t[t]&&_t[t].m(n,null);Z=!0,Y||(tt=[f(d,"click",t[25]),f(m,"click",t[26]),f(x,"click",t[27]),f(k,"click",t[29]),f(I,"click",t[30]),f(P,"click",t[31]),f(N,"click",t[32]),f(V,"click",t[33])],Y=!0)},p(t,o){if(t[3].hide_action_buttons?nt?8&o[0]&&W(nt,1):(nt=yt(),nt.c(),W(nt,1),nt.m(e.parentNode,e)):nt&&(G(),L(nt,1,1,(()=>{nt=null})),R()),t[1]?ot?ot.p(t,o):(ot=wt(t),ot.c(),ot.m(r,w)):ot&&(ot.d(1),ot=null),(!Z||8&o[0])&&et!==(et=t[3].online_connected?"flash_on":"flash_off")&&C(E,et),(!Z||32&o[0]&&j!==(j=t[5]("widget.more_rows")))&&_(O,"title",j),(!Z||32&o[0]&&J!==(J=t[5]("widget.less_rows")))&&_(z,"title",J),(!Z||8&o[0]&&H!==(H=t[3].hide_action_buttons?"1":"2"))&&_(r,"colspan",H),t[4].additionalColumns?it?it.p(t,o):(it=kt(t),it.c(),it.m(i,K)):it&&(it.d(1),it=null),t[3].hide_action_buttons?at&&(at.d(1),at=null):at||(at=Pt(),at.c(),at.m(i,null)),4061&o[0]){let e;for(lt=v(t[4].onlineusersGrouped),e=0;e<lt.length;e+=1){const i=gt(t,lt,e);_t[e]?_t[e].p(i,o):(_t[e]=te(i),_t[e].c(),_t[e].m(n,null))}for(;e<_t.length;e+=1)_t[e].d(1);_t.length=lt.length}(!Z||8&o[0]&&Q!==(Q="table table-small table-sm "+(t[3].hide_action_buttons?"table-fixed":"online-users-table")))&&_(n,"class",Q),(!Z||8&o[0])&&F(n,"filter-online-active",t[3].online_connected)},i(t){Z||(W(nt),Z=!0)},o(t){L(nt),Z=!1},d(t){t&&(c(e),c(n)),nt&&nt.d(t),ot&&ot.d(),it&&it.d(),at&&at.d(),D(_t,t),Y=!1,y(tt)}}}function oe(t,e){let n=document.getElementById("svelte-"+t);n&&(n.innerText=e)}function ie(t,e){let n=document.getElementById("svelte-"+t);n&&(n.value=e)}function ae(t,e,n){t.sort((function(t,o){return t[e]<=o[e]?n&&!1!==n?1:-1:n&&!1!==n?-1:1}))}function le(t,e,n){let o,i;d(t,N,(t=>n(4,o=t))),d(t,P,(t=>n(5,i=t)));let{www_dir_flags:a=""}=e,{track_is_online:l=!1}=e,{soundEnabled:_}=e,{notificationEnabled:s}=e,{online_connected:u}=e,{max_rows:r}=e,{timeout:c="3600"}=e,{country:v="none"}=e,{forbiddenVisitors:h="false"}=e,{updateTimeout:m=10}=e,{time_on_site:g=""}=e,{online_check:f=null}=e,{groupByField:C}=e,{render_ui:x="true"}=e,{osettings_hide_action_buttons:b="false"}=e,y={timeoutVisitors:null,time_on_site:g,country:v,max_rows:parseInt(r),updateTimeout:parseInt(m),timeout:c,lhcListRequestInProgress:!1,timeoutControl:null,forbiddenVisitors:"true"===h,soundEnabled:"true"===_,notificationEnabled:"true"===s,lastSyncSkipped:!1,attrf_key_1:"",attrf_val_1:"",attrf_key_2:"",attrf_val_2:"",attrf_key_3:"",attrf_val_3:"",attrf_key_4:"",attrf_val_4:"",attrf_key_5:"",attrf_val_5:"",query:"",onlineusersPreviousID:[],wasInitiated:!1,online_connected:"true"===u,predicate:"last_visit",reverse:!0,groupByField:C,hide_action_buttons:"true"===b},w=!0===y.hide_action_buttons?"btn-outline-secondary":"btn-secondary",k=!0===y.hide_action_buttons?"btn-outline-success":"btn-success",S=!0===y.hide_action_buttons?"btn-outline-danger":"btn-danger",I=!0===y.hide_action_buttons?"btn-outline-info":"btn-info";async function T(){if(1!=lhinst.disableSync&&1!=y.forbiddenVisitors){var t=!1,e=document.getElementById("onlineusers");if(null!==e&&(t=e.classList.contains("active")),0==t){var i=document.getElementById("map");null!==i&&(t=i.classList.contains("active"))}if(0==t)if(null!==document.getElementById("widget-onvisitors-body")){var a=document.getElementById("dashboard");null!==a&&a.classList.contains("active")&&(t=!0)}!1===t&&n(3,y.lastSyncSkipped=!0,y),n(3,y.lastSyncSkipped=!1,y),clearTimeout(y.timeoutControl);try{const t=await fetch(WWW_DIR_JAVASCRIPT+"chat/onlineusers/(method)/ajax/(timeout)/"+y.timeout+(o.department_online_dpgroups.length>0?"/(department_dpgroups)/"+o.department_online_dpgroups.join("/"):"")+(o.department_online.length>0?"/(department)/"+o.department_online.join("/"):"")+(y.max_rows>0?"/(maxrows)/"+y.max_rows:"")+(""!=y.country?"/(country)/"+y.country:"")+(""!=y.time_on_site?"/(timeonsite)/"+encodeURIComponent(y.time_on_site):""),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!t.ok)throw new Error("Network response was not OK ["+t.status+"] ["+t.statusText+"]");const e=await t.json();N.update((t=>(t.onlineusers=e,"none"!==y.groupByField?t.onlineusersGrouped=function(t){let e=[];ae(t,y.groupByField);for(var n="_INVALID_GROUP_VALUE_",o=0;o<t.length;o++){var i=t[o];if(i[y.groupByField]!==n){var a={label:i[y.groupByField],id:o,ou:[]};n=a.label,e.push(a)}a.ou.push(i)}return e}(t.onlineusers.list):(t.onlineusersGrouped=[],t.onlineusersGrouped.push({label:"",id:0,ou:t.onlineusers.list})),t.onlineusersGrouped.forEach((t=>{ae(t.ou,y.predicate,y.reverse)})),t)));let i=document.getElementById("online-users-count");if(i&&(i.innerText=e.list.length),ee.emitEvent("chatAdminSyncOnlineVisitors",[e.list]),y.notificationEnabled||y.soundEnabled){var l=!1,_=[];if(o.onlineusers.list.forEach((t=>{var e=!0;-1===y.onlineusersPreviousID.indexOf(t.id)&&(e=!1,y.onlineusersPreviousID.push(t.id)),!0===y.wasInitiated&&!1===e&&(l=!0,_.push(t))})),1==l){if(y.soundEnabled&&Modernizr.audio){var s=new Audio;s.src=Modernizr.audio.ogg?WWW_DIR_JAVASCRIPT_FILES+"/new_visitor.ogg":Modernizr.audio.mp3?WWW_DIR_JAVASCRIPT_FILES+"/new_visitor.mp3":WWW_DIR_JAVASCRIPT_FILES+"/new_visitor.wav",s.load(),setTimeout((function(){s.play()}),500)}y.notificationEnabled&&(window.webkitNotifications||window.Notification)&&angular.forEach(_,(function(t,e){if(window.webkitNotifications)0==window.webkitNotifications.checkPermission()&&((n=window.webkitNotifications.createNotification(WWW_DIR_JAVASCRIPT_FILES_NOTIFICATION+"/notification.png",t.ip+(""!=t.user_country_name?", "+t.user_country_name:""),(""!=t.page_title?t.page_title+"\n-----\n":"")+(""!=t.referrer?t.referrer+"\n-----\n":""))).onclick=function(){n.cancel()},n.show(),setTimeout((function(){n.cancel()}),15e3));else if(window.Notification){var n;if("granted"==window.Notification.permission)(n=new Notification(t.ip+(""!=t.user_country_name?", "+t.user_country_name:""),{icon:WWW_DIR_JAVASCRIPT_FILES_NOTIFICATION+"/notification.png",body:(""!=t.page_title?t.page_title+"\n-----\n":"")+(""!=t.referrer?t.referrer+"\n-----\n":"")})).onclick=function(){n.close()},setTimeout((function(){n.close()}),15e3)}}))}n(3,y.wasInitiated=!0,y),y.onlineusersPreviousID.length>100&&(n(3,y.wasInitiated=!1,y),n(3,y.onlineusersPreviousID=[],y))}!0!==y.forbiddenVisitors&&n(3,y.timeoutControl=setTimeout((function(){T()}),1e3*y.updateTimeout),y)}catch(t){n(3,y.timeoutControl=setTimeout((function(){T()}),1e3*y.updateTimeout),y),console.error("There has been a problem with your fetch operation:",t)}}}function E(t){n(3,y.predicate=t,y),n(3,y.reverse=!y.reverse,y),T()}ee.addListener("svelteOnlineUserSetting",(function(t,e){if("disableNewUserBNotif"==t)n(3,y.notificationEnabled=!y.notificationEnabled,y),lhinst.changeUserSettings("new_user_bn",1==y.notificationEnabled?1:0),oe("disableNewUserBNotif",y.notificationEnabled?"visibility":"visibility_off");else if("disableNewUserSound"==t)n(3,y.soundEnabled=!y.soundEnabled,y),lhinst.changeUserSettings("new_user_sound",1==y.soundEnabled?1:0),oe("disableNewUserSound",y.soundEnabled?"volume_up":"volume_off");else if("showConnected"==t)n(3,y.online_connected=!y.online_connected,y),lhinst.changeUserSettings("online_connected",1==y.online_connected?1:0),oe("showConnected",y.online_connected?"flash_on":"flash_off");else if("countryFilter"==t)n(3,y.country=e,y),lhinst.changeUserSettingsIndifferent("ocountry",e),setTimeout((()=>T()),500);else if("maxrowsFilter"==t)lhinst.changeUserSettingsIndifferent("omax_rows",e),n(3,y.max_rows=parseInt(e),y),setTimeout((()=>T()),500);else if("userTimeoutFilter"==t)lhinst.changeUserSettingsIndifferent("ouser_timeout",e),n(3,y.timeout=parseInt(e),y),setTimeout((()=>T()),500);else if("updateTimeoutFilter"==t)lhinst.changeUserSettingsIndifferent("oupdate_timeout",e),n(3,y.updateTimeout=parseInt(e),y),setTimeout((()=>T()),500);else if("timeOnSiteFilter"==t)lhinst.changeUserSettingsIndifferent("otime_on_site",""==e?"none":e),n(3,y.time_on_site=e,y),setTimeout((()=>T()),500);else if("groupBy"==t)n(3,y.groupByField=e,y),lhinst.changeUserSettingsIndifferent("ogroup_by",e),setTimeout((()=>T()),500);else if("setQuery"==t)n(3,y.query=e,y);else if("departments"==t){let t=[];jQuery(".online-department-filter input[name^=department_ids]").each((function(e){t.push(parseInt(this.value))})),p(N,o.department_online=t,o),setTimeout((()=>T()),500),U.setLocalSettings("department_online",o.department_online)}})),ee.addListener("svelteOnlineUserSettingKey",(function(t,e){lhinst.changeUserSettingsIndifferent(t,e),setTimeout((()=>T()),500)})),O((async()=>{if(!0!==y.forbiddenVisitors&&["onlineusers","widget-onvisitors","map","dashboard"].forEach((function(t){var e=document.getElementById(t);null!==e&&new MutationObserver((function(t){e.classList.contains("active")&&!0===y.lastSyncSkipped&&T()})).observe(e,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1})})),window.onlineAttributeFilter){n(3,y.attrf_key_1=window.onlineAttributeFilter.attrf_key_1,y),n(3,y.attrf_val_1=window.onlineAttributeFilter.attrf_val_1,y),n(3,y.attrf_key_2=window.onlineAttributeFilter.attrf_key_2,y),n(3,y.attrf_val_2=window.onlineAttributeFilter.attrf_val_2,y),n(3,y.attrf_key_3=window.onlineAttributeFilter.attrf_key_3,y),n(3,y.attrf_val_3=window.onlineAttributeFilter.attrf_val_3,y),n(3,y.attrf_key_4=window.onlineAttributeFilter.attrf_key_4,y),n(3,y.attrf_val_4=window.onlineAttributeFilter.attrf_val_4,y),n(3,y.attrf_key_5=window.onlineAttributeFilter.attrf_key_5,y),n(3,y.attrf_val_5=window.onlineAttributeFilter.attrf_val_5,y);for(let t=1;t<=5;t++)document.getElementById("svelte-attrf_key_"+t).value=y["attrf_key_"+t],document.getElementById("svelte-attrf_val_"+t).value=y["attrf_val_"+t]}if(oe("disableNewUserBNotif",y.notificationEnabled?"visibility":"visibility_off"),oe("disableNewUserSound",y.soundEnabled?"volume_up":"volume_off"),oe("showConnected",y.online_connected?"flash_on":"flash_off"),ie("countryFilter",y.country),ie("maxrowsFilter",y.max_rows),ie("userTimeoutFilter",y.timeout),ie("updateTimeoutFilter",y.updateTimeout),ie("time_on_siteFilter",y.time_on_site),ie("groupByField",y.groupByField),!y.hide_action_buttons){let t=[];jQuery(".online-department-filter input[name^=department_ids]").each((function(e){t.push(parseInt(this.value))})),p(N,o.department_online=t,o)}T()}));return t.$$set=t=>{"www_dir_flags"in t&&n(0,a=t.www_dir_flags),"track_is_online"in t&&n(1,l=t.track_is_online),"soundEnabled"in t&&n(13,_=t.soundEnabled),"notificationEnabled"in t&&n(14,s=t.notificationEnabled),"online_connected"in t&&n(15,u=t.online_connected),"max_rows"in t&&n(16,r=t.max_rows),"timeout"in t&&n(17,c=t.timeout),"country"in t&&n(18,v=t.country),"forbiddenVisitors"in t&&n(19,h=t.forbiddenVisitors),"updateTimeout"in t&&n(20,m=t.updateTimeout),"time_on_site"in t&&n(21,g=t.time_on_site),"online_check"in t&&n(2,f=t.online_check),"groupByField"in t&&n(22,C=t.groupByField),"render_ui"in t&&n(23,x=t.render_ui),"osettings_hide_action_buttons"in t&&n(24,b=t.osettings_hide_action_buttons)},[a,l,f,y,o,i,w,k,S,I,function(t){confirm("Are you sure?")&&(fetch(WWW_DIR_JAVASCRIPT+"chat/onlineusers/(deletevisitor)/"+t.id+"/(csfr)/"+confLH.csrf_token,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}}),setTimeout((()=>T()),500))},function(t){return!(!t.nick||!t.nick.toLowerCase().includes(y.query))||(!(!t.user_country_code||!t.user_country_code.toLowerCase().includes(y.query))||(!(!t.user_country_name||!t.user_country_name.toLowerCase().includes(y.query))||(!(!t.page_title||!t.page_title.toLowerCase().includes(y.query))||(!(!t.current_page||!t.current_page.toLowerCase().includes(y.query))||(!(!t.referrer||!t.referrer.toLowerCase().includes(y.query))||!(!t.visitor_tz||!t.visitor_tz.toLowerCase().includes(y.query)))))))},E,_,s,u,r,c,v,h,m,g,C,x,b,t=>E("last_visit"),t=>E("time_on_site"),t=>E("visitor_tz_time"),t=>E("last_check_time"),t=>E("current_page"),t=>E("referrer"),t=>ee.emitEvent("svelteOnlineUserSetting",["showConnected"]),t=>U.changeWidgetHeight(N,"onlineusers",!0),t=>U.changeWidgetHeight(N,"onlineusers",!1),(t,e)=>{lhc.revealModal({url:WWW_DIR_JAVASCRIPT+"chat/getonlineuserinfo/"+t.id})},(t,e)=>lhc.revealModal({url:WWW_DIR_JAVASCRIPT+"chat/previewchat/"+t.chat_id}),(t,e)=>lhc.revealModal({url:WWW_DIR_JAVASCRIPT+"chat/sendnotice/"+t.id}),(t,e)=>lhc.revealModal({url:WWW_DIR_JAVASCRIPT+"chat/sendnotice/"+t.id})]}t(mt,{lhcList:{},optionsPanel:{}},[],[],!0);class _e extends e{constructor(t){super(),n(this,t,le,ne,o,{www_dir_flags:0,track_is_online:1,soundEnabled:13,notificationEnabled:14,online_connected:15,max_rows:16,timeout:17,country:18,forbiddenVisitors:19,updateTimeout:20,time_on_site:21,online_check:2,groupByField:22,render_ui:23,osettings_hide_action_buttons:24},null,[-1,-1])}get www_dir_flags(){return this.$$.ctx[0]}set www_dir_flags(t){this.$$set({www_dir_flags:t}),i()}get track_is_online(){return this.$$.ctx[1]}set track_is_online(t){this.$$set({track_is_online:t}),i()}get soundEnabled(){return this.$$.ctx[13]}set soundEnabled(t){this.$$set({soundEnabled:t}),i()}get notificationEnabled(){return this.$$.ctx[14]}set notificationEnabled(t){this.$$set({notificationEnabled:t}),i()}get online_connected(){return this.$$.ctx[15]}set online_connected(t){this.$$set({online_connected:t}),i()}get max_rows(){return this.$$.ctx[16]}set max_rows(t){this.$$set({max_rows:t}),i()}get timeout(){return this.$$.ctx[17]}set timeout(t){this.$$set({timeout:t}),i()}get country(){return this.$$.ctx[18]}set country(t){this.$$set({country:t}),i()}get forbiddenVisitors(){return this.$$.ctx[19]}set forbiddenVisitors(t){this.$$set({forbiddenVisitors:t}),i()}get updateTimeout(){return this.$$.ctx[20]}set updateTimeout(t){this.$$set({updateTimeout:t}),i()}get time_on_site(){return this.$$.ctx[21]}set time_on_site(t){this.$$set({time_on_site:t}),i()}get online_check(){return this.$$.ctx[2]}set online_check(t){this.$$set({online_check:t}),i()}get groupByField(){return this.$$.ctx[22]}set groupByField(t){this.$$set({groupByField:t}),i()}get render_ui(){return this.$$.ctx[23]}set render_ui(t){this.$$set({render_ui:t}),i()}get osettings_hide_action_buttons(){return this.$$.ctx[24]}set osettings_hide_action_buttons(t){this.$$set({osettings_hide_action_buttons:t}),i()}}customElements.define("lhc-online-visitors",t(_e,{www_dir_flags:{},track_is_online:{type:"Boolean"},soundEnabled:{},notificationEnabled:{},online_connected:{},max_rows:{},timeout:{},country:{},forbiddenVisitors:{},updateTimeout:{},time_on_site:{},online_check:{},groupByField:{},render_ui:{},osettings_hide_action_buttons:{}},[],[],!1));export{_e as L,mt as W,U as l};
//# sourceMappingURL=onlinevisitors.Tu4KtUKc.js.map
