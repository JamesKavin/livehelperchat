import{c as t,S as e,i as n,s as i,a,l as s,b as l,d as c,o,f as d,e as r,g as _,h as u,n as p,j as h,k as m,m as g,p as f,t as w,q as v,r as b,u as y,v as x,w as j,x as k,y as W,z as C,A as D,B as I,C as L,D as S,E as P,F as T,G as A,H as O,I as R,J as E,K as N,L as V,M as H,N as J,O as G,P as M,Q,R as B}from"./i18n.JfZhZI_J.js";var F={setInactive:async function(t){return(await fetch(WWW_DIR_JAVASCRIPT+"user/setinactive/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},setLocalSettings:async function(t,e){return(await fetch(WWW_DIR_JAVASCRIPT+"front/settings/",{method:"POST",body:JSON.stringify({attr:t,val:e}),headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},searchProvider:async function(t,e){return(await fetch(WWW_DIR_JAVASCRIPT+"chat/searchprovider/"+t+"/?exclude_disabled=1&q="+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},restoreLocalSetting:function(t,e,n){try{if(localStorage){var i=localStorage.getItem(t);if(null!==i){if(1==n){var a=i.split("/"),s=new Array;return a.forEach((function(t){s.push(parseInt(t))})),s}return i}return e}}catch(t){}return e},getChatData:async function(t){return(await fetch(WWW_DIR_JAVASCRIPT+"chat/getchatdata/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},getToggleWidget:function(t,e,n){t.update((t=>(t.toggleWidgetData[e]="false"!=this.restoreLocalSetting(e,void 0===n?"false":n,!1),t)))},getToggleWidgetSort:function(t,e,n){t.update((t=>(t.toggleWidgetData[e]=this.restoreLocalSetting(e,void 0===n?"":n,!1),t)))},toggleWidget:function(t,e,n){t.update((t=>{if(t.toggleWidgetData[e]=void 0===t.toggleWidgetData[e]||!t.toggleWidgetData[e],localStorage)try{localStorage.setItem(e,t.toggleWidgetData[e])}catch(t){}return t})),void 0!==n&&1==n&&ee.emitEvent("angularLoadChatList")},toggleWidgetSort:function(t,e,n,i,a){t.update((t=>{if(t.toggleWidgetData[e]=void 0===t.toggleWidgetData[e]?n:t.toggleWidgetData[e]==n?i:n,localStorage)try{localStorage.setItem(e,t.toggleWidgetData[e])}catch(t){}return t})),void 0!==a&&1==a&&ee.emitEvent("angularLoadChatList")},previewMail:function(t,e){e&&e.stopPropagation(),lhc.previewMail(t)},startMailChat:function(t,e){if(jQuery("#tabs").length>0)return lhinst.startMailChat(t,jQuery("#tabs"),this.truncate(e||"Mail",10))},previewChat:function(t,e){e&&e.stopPropagation(),lhc.previewChat(t)},deleteChat:function(t,e,n){return lhinst.deleteChat(t,e,n)},redirectContact:function(t,e,n){return n&&n.stopPropagation(),lhinst.redirectContact(t,e)},openModal:function(t,e){e&&e.stopPropagation(),lhc.revealModal({url:WWW_DIR_JAVASCRIPT+t,hidecallback:function(){ee.emitEvent("angularLoadChatList")}})},changeWidgetHeight:function(t,e,n){let i=document.getElementById(e+"-panel-list");i&&t.update((t=>(t[e+"_m_h"]=!0===n?parseInt(i.offsetHeight+28)+"px":parseInt(i.offsetHeight-28)+"px",localStorage.setItem(e+"_m_h",t[e+"_m_h"]),t)))},startChatTransfer:function(t,e,n){return lhinst.startChatTransfer(t,$("#tabs"),e,n)},startChatNewWindowTransfer:function(t,e,n){return lhinst.startChatNewWindowTransfer(t,e,n)},startChat:function(t,e){if($("#tabs").length>0)return lhinst.addOpenTrace("click"),lhinst.startChat(t,$("#tabs"),this.truncate(e||"Visitor",10));lhinst.startChatNewWindow(t,e)},truncate:function(t,e,n){return isNaN(e)&&(e=10),void 0===n&&(n="..."),t.length<=e||t.length-n.length<=e?t:String(t).substring(0,e-n.length)+n},storeLocalSetting:function(t,e){if(localStorage)try{e=localStorage.setItem(t,e)}catch(t){}},removeLocalSetting:function(t){if(localStorage)try{localStorage.removeItem(t)}catch(t){}},loadActiveChats:async function(){return(await fetch(WWW_DIR_JAVASCRIPT+"chat/loadactivechats",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},startGroupChat:function(t,e){if(jQuery("#tabs").length>0)return lhinst.startGroupChat(t,$("#tabs"),this.truncate(e,10))},rejectGroupChat:async function(t,e){e&&e.stopPropagation();const n=await fetch(WWW_DIR_JAVASCRIPT+"groupchat/leave/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}});await n.json(),ee.emitEvent("angularLoadChatList")},startNewGroupChat:async function(t,e,n){const i=await fetch(WWW_DIR_JAVASCRIPT+"groupchat/newgroupajax",{method:"POST",body:JSON.stringify({name:e,public:n}),headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}});let a=await i.json();t.update((t=>(t.new_group_name="",t.new_group_type="",t))),lhinst.startGroupChat(a.id,jQuery("#tabs"),this.truncate(a.name,10)),ee.emitEvent("angularLoadChatList")},startChatOperator:async function(t){const e=await fetch(WWW_DIR_JAVASCRIPT+"groupchat/startchatwithoperator/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}});let n=await e.json();lhinst.startGroupChat(n.id,jQuery("#tabs"),this.truncate(n.name,10))},getNotificationsData:async function(t){return(await fetch(WWW_DIR_JAVASCRIPT+"chat/getnotificationsdata/(id)/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()}};function q(t,e){if(localStorage)try{localStorage.setItem(t,e)}catch(t){}}function X(t){if(localStorage)try{localStorage.removeItem(t)}catch(t){}}function U(t){if(localStorage)try{var e=localStorage.getItem(t);if(null!==e&&""!==e)return e.split(",")}catch(t){}return[]}function K(t,e,n){return isNaN(e)&&(e=10),void 0===n&&(n="..."),t.length<=e||t.length-n.length<=e?t:String(t).substring(0,e-n.length)+n}function Y(t,e,n){if(void 0!==t)for(var i=t.length-1;i>=0;i--){var a=t[i];-1===e.indexOf(a)&&lhinst.hideNotification(a.split("_")[0],n)}}function z(t,e,n){let i,d,r,_,u,p,h;function m(){let t=document.getElementById("menu-rmtoggle");t&&(h.rmtoggle?t.classList.add("hide"):t.classList.remove("hide")),t=document.getElementById("wrapper"),t&&(h.lmtoggle?t.classList.add("toggled"):t.classList.remove("toggled"))}function g(t){if(!document.getElementById(t))return;let e=document.getElementById(t).getElementsByTagName("i")[0];!0===h.toggleWidgetData[t]?(e.classList.remove("chat-closed"),e.classList.add("chat-active")):(e.classList.remove("chat-active"),e.classList.add("chat-closed"))}a(t,s,(t=>n(6,h=t))),window.$_LHC_API={};let f={timeoutActivity:null,timeoutActivityTime:300,blockSync:!1,timeoutControl:null,setTimeoutEnabled:!0,isListLoaded:!1,lastd_activity:Math.round((new Date).getTime()/1e3),lhcListRequestInProgress:!1,lhcSettingUpdateProgress:[],lhcSettingAllSelected:!1,channel:null};lhinst.channel=f.channel=new BroadcastChannel("lhc_dashboard"),f.channel.addEventListener("message",(function(t){if(t.isTrusted&&t.data.action){if("went_active"===t.data.action)return jQuery("#myModal").modal("hide"),void v();var e=jQuery("#tabs");t.data.args.chat_id&&-1!==lhinst.chatsSynchronising.indexOf(t.data.args.chat_id)?"close_chat"===t.data.action?e.length>0&&lhinst.removeDialogTab(t.data.args.chat_id,e,!0):"update_chat"===t.data.action||"startbackground_chat"===t.data.action?e.length>0&&lhinst.updateVoteStatus(t.data.args.chat_id,!0):"reload_chat"===t.data.action&&(lhinst.addOpenTrace("channel_message_reload"),e.length>0&&lhinst.reloadTab(t.data.args.chat_id,e,t.data.args.nick,!0)):"startbackground_chat"===t.data.action?(lhinst.addOpenTrace("channel_message_open"),e.length>0&&lhinst.startChatBackground(t.data.args.chat_id,e,t.data.args.nick)||ee.emitEvent("chatTabPreload",[t.data.args.chat_id,{focus:!1}])):"close_chat"===t.data.action?ee.emitEvent("removeSynchroChat",[parseInt(t.data.args.chat_id)]):t.data.args.mail_id&&"close_mail"==t.data.action&&lhinst.removeDialogTabMail(t.data.args.mail_id,jQuery("#tabs"),!0,!0)}})),ee.addListener("angularStartChatbyId",(function(t){lhinst.addOpenTrace("view_clicked"),S(t)})),ee.addListener("svelteOpenChat",(function(t){lhinst.addOpenTrace("click"),S(t)})),ee.addListener("svelteDebug",(function(){console.log(h),console.log(f)})),ee.addListener("angularLoadChatList",(function(){f.isListLoaded=!1,f.lhcListRequestInProgress=!1,L()})),ee.addListener("svelteResetTimeoutActivity",(function(){D()})),ee.addListener("angularStartChatOperatorPublic",(function(t){})),ee.addListener("svelteallDepartmentsChanged",(function(t,e){y(t,e)})),ee.addListener("svelteProductChanged",(function(t){W(t)})),ee.addListener("svelteDepartmentChanged",(function(t){b(t)})),ee.addListener("svelteLimitChanged",(function(t){F.setLocalSettings(t,h[t]),L()})),ee.addListener("angularSyncDisabled",(function(t){var e;e=t,f.blockSync=e})),ee.addListener("svelteToggleList",(function(t){!function(t){if(c(s,h[t]=!h[t],h),localStorage)try{localStorage.setItem(t,h[t])}catch(t){}}(t)})),ee.addListener("svelteToggleWidget",(function(t,e){F.toggleWidget(s,t,e)})),ee.addListener("svelteRemoveLocalSetting",(function(t){F.removeLocalSetting(t)})),ee.addListener("svelteStoreLocalSetting",(function(t,e){F.storeLocalSetting(t,e)})),ee.addListener("svelteAppendActiveChats",(function(){F.loadActiveChats().then((function(t){let e=jQuery("#tabs");t.result.forEach((function(t){lhinst.startChatBackground(t.id,e,F.truncate(t.nick||"Visitor",10))})),setTimeout((function(){ee.emitEvent("angularLoadChatList")}),1e3)}))})),l.subscribe((t=>{}));let w=[];function v(){F.setInactive("false"),f.isListLoaded=!1,f.blockSync=!1,f.lhcListRequestInProgress=!1,D(),lhinst.disableSync=!1,L(),c(s,h.inActive=!1,h)}function b(t){if(-1===f.lhcSettingUpdateProgress.indexOf(t)){if(f.lhcSettingUpdateProgress.push(t),h[t].length>0){!1===f.lhcSettingAllSelected&&(c(s,h[t+"_all_departments"]=!1,h),y(t,!1)),f.lhcSettingAllSelected=!1;var e=h[t].join("/");""!==e?(x(t,e),k(t)):j(t)}else x(t,null);f.isListLoaded=!1,L()}}function y(t,e){if(!0===h[t+"_all_departments"]?q(t+"_all_departments",!0):X(t+"_all_departments"),!0===h[t+"_hide_hidden"]?q(t+"_hide_hidden",!0):X(t+"_hide_hidden"),!0===h[t+"_hide_disabled"]?q(t+"_hide_disabled",!0):X(t+"_hide_disabled"),!0===h[t+"_only_online"]?q(t+"_only_online",!0):X(t+"_only_online"),void 0!==h[t+"_hide_dep"]&&(!0===h[t+"_hide_dep"]?q(t+"_hide_dep",!0):X(t+"_hide_dep")),void 0!==h[t+"_hide_dgroup"]&&(!0===h[t+"_hide_dgroup"]?q(t+"_hide_dgroup",!0):X(t+"_hide_dgroup")),!0===h[t+"_all_departments"]){let e=[];h.userDepartments.forEach((function(n){(!1===h[t+"_only_explicit_online"]||!0===h[t+"_only_explicit_online"]&&!0===n.oexp)&&(!1===h[t+"_hide_hidden"]||!0===h[t+"_hide_hidden"]&&!1===n.hidden)&&(!1===h[t+"_hide_disabled"]||!0===h[t+"_hide_disabled"]&&!1===n.disabled)&&(!1===h[t+"_only_online"]||!0===h[t+"_only_online"]&&!0===n.ogen)&&e.push(n.id)})),0===e.length&&e.push(-1),f.lhcSettingAllSelected=!0,c(s,h[t]=e,h)}else!0===e&&c(s,h[t]=[],h);!0===e&&(f.isListLoaded=!1,L())}function x(t,e){F.setLocalSettings(t,e).then((function(){j(t)})).catch((function(){j(t)}))}function j(t){f.lhcSettingUpdateProgress.splice(f.lhcSettingUpdateProgress.indexOf(t),1)}function k(t){c(s,h[t+"Names"]=[],h),h[t].forEach((function(e){void 0!==h.userDepartmentsNames&&void 0!==h.userDepartmentsNames[e]?h[t+"Names"].push(h.userDepartmentsNames[e]):void 0!==h.userDepartmentsNames&&(h[t].splice(h[t].indexOf(e),1),b(t))}))}function $(t){h.last_actions.unshift(t),c(s,h.last_actions=h.last_actions.slice(0,5),h)}function W(t){if(h[t].length>0){var e=h[t].join("/");""!==e&&F.setLocalSettings(t,e)}else F.setLocalSettings(t,null);f.isListLoaded=!1,L()}w.push("actived"),w.push("departmentd"),w.push("unreadd"),w.push("pendingd"),w.push("operatord"),w.push("closedd"),w.push("mcd"),w.push("botd"),w.push("subjectd"),w.push("pendingmd"),w.push("activemd"),w.push("alarmmd"),w.push("mmd"),w.forEach((function(t){c(s,h[t+"_all_departments"]="false"!=F.restoreLocalSetting(t+"_all_departments","false",!1),h),c(s,h[t+"_hide_hidden"]="false"!=F.restoreLocalSetting(t+"_hide_hidden","false",!1),h),c(s,h[t+"_hide_disabled"]="false"!=F.restoreLocalSetting(t+"_hide_disabled","false",!1),h),c(s,h[t+"_only_online"]="false"!=F.restoreLocalSetting(t+"_only_online","false",!1),h),c(s,h[t+"_only_explicit_online"]="false"!=F.restoreLocalSetting(t+"_only_explicit_online","false",!1),h),c(s,h[t+"_m_h"]=F.restoreLocalSetting(t+"_m_h",null,!1),h)})),o((async()=>{c(s,h.departmentd_hide_dep="false"!=F.restoreLocalSetting("departmentd_hide_dep","false",!1),h),c(s,h.departmentd_hide_dgroup="false"!=F.restoreLocalSetting("departmentd_hide_dgroup","false",!1),h),c(s,h.lmtoggle="false"!=F.restoreLocalSetting("lmtoggle","false",!1),h),c(s,h.rmtoggle="false"!=F.restoreLocalSetting("rmtoggle","false",!1),h),F.getToggleWidget(s,"track_open_chats"),F.getToggleWidget(s,"group_offline_chats");var t,e,n="",i=U("achat_id"),a=U("gachat_id"),l=U("machat_id"),o=0,d=0,r=window.location.hash;""!==r&&(null!==(t=r.match(/id-\d+$/))&&t[0]&&(o=parseInt(t[0].replace("id-","")),-1===i.indexOf(o)&&i.push(o)),null==t&&null!==(t=r.match(/mc\d+$/))&&t[0]&&(d=parseInt(t[0].replace("mc","")),-1===l.indexOf(d)&&l.push(d)));(e=document.getElementById("load_chat_id"))&&-1===i.indexOf(e.value)&&(o=e.value,i.push(e.value),window.location.hash="#!#chat-id-"+e.value),(e=document.getElementById("load_mail_id"))&&-1===l.indexOf(e.value)&&(d=e.value,l.push(e.value),window.location.hash="#!#chat-id-mc"+e.value);let _=jQuery("#tabs").length;_>0&&!1===lhinst.disableremember&&i.length>0&&(n="/(chatopen)/"+i.join("/")),_>0&&!1===lhinst.disableremember&&a.length>0&&(n+="/(chatgopen)/"+a.join("/")),jQuery("#tabs").length>0&&0==lhinst.disableremember&&l.length>0&&(n+="/(chatmopen)/"+l.join("/"));const u=await fetch(WWW_DIR_JAVASCRIPT+"chat/loadinitialdata"+n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}),p=await u.json();if(p.logout||p.error_url)return void document.location.reload();s.update((t=>(t.userDepartmentsNames=p.dp_names,t.userDepartments=p.dep_list,t.userProductNames=p.pr_names,t.userDepartmentsGroups=p.dp_groups,t.userGroups=p.user_groups,t.hideInvisible=p.im,t.hideOnline=p.ho,t.lhcVersion=p.v,t.alwaysOnline=p.a_on,t.additionalColumns=p.col,t.widgetsActive=p.widgets,t.bot_st=p.bot_st,t.excludeIcons=p.exc_ic,t.notifIcons=p.not_ic,t)));let m=["subjectd","subjectd_products","subjectd_dpgroups","subjectd_ugroups","activeu","pendingu","oopu","subjectu","closedd","closedd_products","closedd_dpgroups","botd","botd_products","botd_dpgroups","botd_ugroups","pendingd","pendingd_products","pendingd_dpgroups","pendingd_ugroups","unreadd","unreadd_products","unreadd_dpgroups","mcd","mcd_products","mcd_dpgroups","actived","actived_products","actived_dpgroups","actived_ugroups","departmentd_dpgroups","departmentd","operatord_dpgroups","operatord_ugroups","operatord","mmd","mmd_dpgroups","alarmmd","alarmmd_products","alarmmd_dpgroups","alarmmd_ugroups","activemd","activemd_products","activemd_dpgroups","activemd_ugroups","pendingmd","pendingmd_products","pendingmd_dpgroups","pendingmd_ugroups","pendingmu","activemu","alarmmu"];var g,v=["limitb","limita","limitu","limitp","limito","limitc","limitd","limitmc","limitgc","limits","limitpm","limitam","limitalm","limitmm"];p.dw_filters&&Object.keys(p.dw_filters).forEach((t=>{-1!==m.indexOf(t)?c(s,h[t]=function(t,e){if(!0===e){var n=t.split("/"),i=[];return n.forEach((function(t){i.push(parseInt(t))})),i}return t}(p.dw_filters[t],!0),h):-1!==v.indexOf(t)&&c(s,h[t]=p.dw_filters[t],h)})),w.forEach((function(t){k(t)})),1===p.track_activity&&(f.timeoutActivityTime=p.timeout_activity,g=function(){D()},C(window,"mousemove",g),C(document,"mousemove",g),C(window,"mousedown",g),C(window,"click",g),C(window,"scroll",g),C(window,"keypress",g),C(window,"load",g),C(document,"scroll",g),C(document,"touchstart",g),C(document,"touchend",g),D()),p.copen.forEach((function(t){lhinst.addOpenTrace("opened_chats"),lhinst.startChat(t.id,jQuery("#tabs"),K(t.nick||"Visitor",10),t.id===o,0,t.status),$({type:"mac_history",chat_id:t.id,nick:t.nick}),t.id===o&&document.getElementById("tabs").classList.add("chat-tab-selected")})),p.cgopen.forEach((function(t){lhinst.startGroupChat(t.id,jQuery("#tabs"),K(t.nick||"Visitor",10),!0)})),p.cmdel.forEach((function(t){lhinst.forgetChat(t,"machat_id")})),p.cdel.forEach((function(t){lhinst.forgetChat(t,"achat_id")})),p.cgdel.forEach((function(t){lhinst.forgetChat(t,"gachat_id")})),ee.emitEvent("eventLoadInitialData",[p]),window.$_LHC_API.initial_data=p,async function(){var t=[],e=[],n=[],i=[];h.userGroups.forEach((function(t){e.push(t.id)})),h.userDepartmentsGroups.forEach((function(t){n.push(t.id)})),h.userProductNames.forEach((function(t){i.push(t.id)}));const a=await fetch(WWW_DIR_JAVASCRIPT+"chat/searchprovider/users_ids/?exclude_disabled=1&q="+h.pendingu.join(",")+","+h.activeu.join(",")+","+h.subjectu.join(",")+","+h.oopu.join(",")+","+h.pendingmu.join(",")+","+h.activemu.join(",")+","+h.alarmmu.join(","),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}}).catch((t=>{alert("We could not change your status! "+t)})),l=await a.json();c(s,h.userList=l.items,h),h.userList.forEach((function(e){t.push(e.id)}));var o={activeu:t,actived_products:i,actived_ugroups:e,actived_dpgroups:n,pendingu:t,oopu:t,pendingd_ugroups:e,operatord_ugroups:e,pendingd_dpgroups:n,pendingd_products:i,botd_dpgroups:n,botd_products:i,departmentd_dpgroups:n,closedd_products:i,closedd_dpgroups:n,unreadd_dpgroups:n,unreadd_products:i,mcd_products:i,mcd_dpgroups:n,mmd_dpgroups:n};for(const[t,e]of Object.entries(o)){[...h[t]].forEach((function(n){-1===e.indexOf(n)&&(h[t].splice(h[t].indexOf(n),1),W(t))}))}}(),L()}));let C=document.addEventListener?function(t,e,n){if(t&&t.nodeName||t===window)t.addEventListener(e,n,!1);else if(t&&t.length)for(var i=0;i<t.length;i++)C(t[i],e,n)}:function(t,e,n){if(t&&t.nodeName||t===window)t.attachEvent("on"+e,(function(){return n.call(t,window.event)}));else if(t&&t.length)for(var i=0;i<t.length;i++)C(t[i],e,n)};function D(){var t=window.opener;if(t)try{t.ee.emitEvent("svelteResetTimeoutActivity")}catch(t){console.log(t)}else!1===f.blockSync&&(f.lastd_activity=Math.round((new Date).getTime()/1e3),clearTimeout(f.timeoutActivity),f.timeoutActivity=setTimeout((function(){F.setInactive("true").then((function(t){if(!0===t.active)return D(),void(f.lastd_activity=0);lhinst.disableSync=f.blockSync=!0,f.lhcListRequestInProgress=!1,lhc.revealModal({url:WWW_DIR_JAVASCRIPT+"user/wentinactive/false",backdrop:!0,hidecallback(){v(),f.channel.postMessage({action:"went_active",args:{}})}})}))}),1e3*f.timeoutActivityTime))}function I(t){if((1==h[t+"_only_explicit_online"]||1==h[t+"_hide_hidden"]||1==h[t+"_hide_disabled"]||1==h[t+"_only_online"])&&h.userDepartments.length>0){var e=[];return h.userDepartments.forEach((function(n){(0==h[t+"_only_explicit_online"]||1==h[t+"_only_explicit_online"]&&1==n.oexp)&&(0==h[t+"_hide_hidden"]||1==h[t+"_hide_hidden"]&&0==n.hidden)&&(0==h[t+"_hide_disabled"]||1==h[t+"_hide_disabled"]&&0==n.disabled)&&(0==h[t+"_only_online"]||1==h[t+"_only_online"]&&1==n.ogen)&&e.push(n.id)})),0==e.length&&e.push(-1),e}return[]}async function L(){if(localStorage)try{c(s,h.pending_chats_expanded="false"!=localStorage.getItem("pending_chats_expanded"),h),c(s,h.active_chats_expanded="false"!=localStorage.getItem("active_chats_expanded"),h),c(s,h.my_active_chats_expanded="false"!=localStorage.getItem("my_active_chats_expanded"),h),c(s,h.closed_chats_expanded="false"!=localStorage.getItem("closed_chats_expanded"),h),c(s,h.unread_chats_expanded="false"!=localStorage.getItem("unread_chats_expanded"),h),c(s,h.my_chats_expanded="false"!=localStorage.getItem("my_chats_expanded"),h),c(s,h.pending_mails_expanded="false"!=localStorage.getItem("pending_mails_expanded"),h),c(s,h.active_mails_expanded="false"!=localStorage.getItem("pending_mails_expanded"),h),c(s,h.my_mails_expanded="false"!=localStorage.getItem("my_mails_expanded"),h),c(s,h.custom_list_1_expanded="false"!=localStorage.getItem("custom_list_1_expanded"),h),c(s,h.custom_list_2_expanded="false"!=localStorage.getItem("custom_list_2_expanded"),h),c(s,h.custom_list_3_expanded="false"!=localStorage.getItem("custom_list_3_expanded"),h),c(s,h.custom_list_4_expanded="false"!=localStorage.getItem("custom_list_4_expanded"),h)}catch(t){}if(!0===f.blockSync)return clearTimeout(f.timeoutControl),f.timeoutControl=setTimeout((function(){f.isListLoaded=!1,f.lhcListRequestInProgress=!1,L()}),confLH.back_office_sinterval),void(f.lhcListRequestInProgress=!1);if(!0!==f.lhcListRequestInProgress){f.lhcListRequestInProgress=!0,clearTimeout(f.timeoutControl);try{const _=await fetch(WWW_DIR_JAVASCRIPT+"chat/syncadmininterface"+function(){c(s,h.custom_extension_filter="",h);var t,e="/(limita)/"+parseInt(h.limita);if(e+="/(limitu)/"+parseInt(h.limitu),e+="/(limitp)/"+parseInt(h.limitp),e+="/(limito)/"+parseInt(h.limito),e+="/(limitc)/"+parseInt(h.limitc),e+="/(limitd)/"+parseInt(h.limitd),e+="/(limits)/"+parseInt(h.limits),e+="/(limitmc)/"+parseInt(h.limitmc),e+="/(limitb)/"+parseInt(h.limitb),e+="/(limitgc)/"+parseInt(h.limitgc),e+="/(limitmm)/"+parseInt(h.limitmm),e+="/(limitpm)/"+parseInt(h.limitpm),e+="/(limitam)/"+parseInt(h.limitam),e+="/(limitalm)/"+parseInt(h.limitalm),"object"==typeof h.widgetsActive&&h.widgetsActive.length>0){let t={my_chats:0,online_operators:1,group_chats:2,pending_chats:3,online_visitors:4,unread_chats:5,active_chats:6,bot_chats:7,transfered_chats:8,departments_stats:9,subject_chats:20,pmails:10,amails:11,malarms:12,my_mails:30},n=[];h.widgetsActive.forEach((function(e){t[e]&&n.push(t[e])})),e+="/(w)/"+n.join("/")}if("object"==typeof h.activeu&&h.activeu.length>0&&(e+="/(activeu)/"+h.activeu.join("/")),"object"==typeof h.pendingu&&h.pendingu.length>0&&(e+="/(pendingu)/"+h.pendingu.join("/")),"object"==typeof h.pendingmu&&h.pendingmu.length>0&&(e+="/(pendingmu)/"+h.pendingmu.join("/")),"object"==typeof h.activemu&&h.activemu.length>0&&(e+="/(activemu)/"+h.activemu.join("/")),"object"==typeof h.alarmmu&&h.alarmmu.length>0&&(e+="/(alarmmu)/"+h.alarmmu.join("/")),"object"==typeof h.oopu&&h.oopu.length>0&&(e+="/(oopu)/"+h.oopu.join("/")),"object"==typeof h.subjectu&&h.subjectu.length>0&&(e+="/(subjectu)/"+h.subjectu.join("/")),"object"==typeof h.actived_dpgroups&&h.actived_dpgroups.length>0&&(e+="/(adgroups)/"+h.actived_dpgroups.join("/")),"object"==typeof h.pendingmd_dpgroups&&h.pendingmd_dpgroups.length>0&&(e+="/(pmd)/"+h.pendingmd_dpgroups.join("/")),"object"==typeof h.activemd_dpgroups&&h.activemd_dpgroups.length>0&&(e+="/(amd)/"+h.activemd_dpgroups.join("/")),"object"==typeof h.alarmmd_dpgroups&&h.alarmmd_dpgroups.length>0&&(e+="/(almd)/"+h.alarmmd_dpgroups.join("/")),"object"==typeof h.pendingd_dpgroups&&h.pendingd_dpgroups.length>0&&(e+="/(pdgroups)/"+h.pendingd_dpgroups.join("/")),"object"==typeof h.subjectd_dpgroups&&h.subjectd_dpgroups.length>0&&(e+="/(sdgroups)/"+h.subjectd_dpgroups.join("/")),"object"==typeof h.closedd_dpgroups&&h.closedd_dpgroups.length>0&&(e+="/(cdgroups)/"+h.closedd_dpgroups.join("/")),"object"==typeof h.botd_dpgroups&&h.botd_dpgroups.length>0&&(e+="/(bdgroups)/"+h.botd_dpgroups.join("/")),"object"==typeof h.mcd_dpgroups&&h.mcd_dpgroups.length>0&&(e+="/(mdgroups)/"+h.mcd_dpgroups.join("/")),"object"==typeof h.mmd_dpgroups&&h.mmd_dpgroups.length>0&&(e+="/(mmdgroups)/"+h.mmd_dpgroups.join("/")),"object"==typeof h.unreadd_dpgroups&&h.unreadd_dpgroups.length>0&&(e+="/(udgroups)/"+h.unreadd_dpgroups.join("/")),"object"==typeof h.departmentd_dpgroups&&h.departmentd_dpgroups.length>0&&(e+="/(ddgroups)/"+h.departmentd_dpgroups.join("/")),"object"==typeof h.operatord_dpgroups&&h.operatord_dpgroups.length>0&&(e+="/(odpgroups)/"+h.operatord_dpgroups.join("/")),"object"==typeof h.actived)if(h.actived.length>0)e+="/(actived)/"+h.actived.join("/");else{let t=I("actived");t.length>0&&(e+="/(actived)/"+t.join("/"))}if("object"==typeof h.subjectd)if(h.subjectd.length>0)e+="/(subjectd)/"+h.subjectd.join("/");else{let t=I("subjectd");t.length>0&&(e+="/(subjectd)/"+t.join("/"))}if("object"==typeof h.mcd)if(h.mcd.length>0)e+="/(mcd)/"+h.mcd.join("/");else{let t=I("mcd");t.length>0&&(e+="/(mcd)/"+t.join("/"))}if("object"==typeof h.mmd&&(h.mmd.length>0?e+="/(mmd)/"+h.mmd.join("/"):(t=I("mmd")).length>0&&(e+="/(mmd)/"+t.join("/"))),"object"==typeof h.pendingmd&&(h.pendingmd.length>0?e+="/(pendingmd)/"+h.pendingmd.join("/"):(t=I("pendingmd")).length>0&&(e+="/(pendingmd)/"+t.join("/"))),"object"==typeof h.activemd&&(h.activemd.length>0?e+="/(activemd)/"+h.activemd.join("/"):(t=I("activemd")).length>0&&(e+="/(activemd)/"+t.join("/"))),"object"==typeof h.alarmmd&&(h.alarmmd.length>0?e+="/(alarmmd)/"+h.alarmmd.join("/"):(t=I("alarmmd")).length>0&&(e+="/(alarmmd)/"+t.join("/"))),"object"==typeof h.unreadd)if(h.unreadd.length>0)e+="/(unreadd)/"+h.unreadd.join("/");else{let t=I("unreadd");t.length>0&&(e+="/(unreadd)/"+t.join("/"))}if("object"==typeof h.botd)if(h.botd.length>0)e+="/(botd)/"+h.botd.join("/");else{let t=I("botd");t.length>0&&(e+="/(botd)/"+t.join("/"))}if("object"==typeof h.pendingd){if(h.pendingd.length>0)e+="/(pendingd)/"+h.pendingd.join("/");else{let t=I("pendingd");t.length>0&&(e+="/(pendingd)/"+t.join("/"))}void 0!==h.toggleWidgetData.pending_chats_sort&&""!==h.toggleWidgetData.pending_chats_sort&&(e+="/(psort)/"+h.toggleWidgetData.pending_chats_sort)}if("object"==typeof h.operatord)if(h.operatord.length>0)e+="/(operatord)/"+h.operatord.join("/");else{let t=I("operatord");t.length>0&&(e+="/(operatord)/"+t.join("/"))}if("object"==typeof h.closedd&&h.closedd.length>0&&(e+="/(closedd)/"+h.closedd.join("/")),"object"==typeof h.departmentd)if(h.departmentd.length>0)e+="/(departmentd)/"+h.departmentd.join("/");else{let t=I("departmentd");t.length>0&&(e+="/(departmentd)/"+t.join("/"))}"object"==typeof h.actived_products&&h.actived_products.length>0&&(e+="/(activedprod)/"+h.actived_products.join("/")),"object"==typeof h.pendingd_ugroups&&h.pendingd_ugroups.length>0&&(e+="/(pugroups)/"+h.pendingd_ugroups.join("/")),"object"==typeof h.operatord_ugroups&&h.operatord_ugroups.length>0&&(e+="/(oopugroups)/"+h.operatord_ugroups.join("/")),"object"==typeof h.subjectd_ugroups&&h.subjectd_ugroups.length>0&&(e+="/(sugroups)/"+h.subjectd_ugroups.join("/")),"object"==typeof h.actived_ugroups&&h.actived_ugroups.length>0&&(e+="/(augroups)/"+h.actived_ugroups.join("/")),"object"==typeof h.pendingmd_ugroups&&h.pendingmd_ugroups.length>0&&(e+="/(pmug)/"+h.pendingmd_ugroups.join("/")),"object"==typeof h.activemd_ugroups&&h.activemd_ugroups.length>0&&(e+="/(amug)/"+h.activemd_ugroups.join("/")),"object"==typeof h.alarmmd_ugroups&&h.alarmmd_ugroups.length>0&&(e+="/(almug)/"+h.alarmmd_ugroups.join("/")),"object"==typeof h.mcd_products&&h.mcd_products.length>0&&(e+="/(mcdprod)/"+h.mcd_products.join("/")),"object"==typeof h.unreadd_products&&h.unreadd_products.length>0&&(e+="/(unreaddprod)/"+h.unreadd_products.join("/")),"object"==typeof h.pendingd_products&&h.pendingd_products.length>0&&(e+="/(pendingdprod)/"+h.pendingd_products.join("/")),"object"==typeof h.subjectd_products&&h.subjectd_products.length>0&&(e+="/(subjectdprod)/"+h.subjectd_products.join("/")),"object"==typeof h.botd_products&&h.botd_products.length>0&&(e+="/(botdprod)/"+h.botd_products.join("/")),"object"==typeof h.closedd_products&&h.closedd_products.length>0&&(e+="/(closeddprod)/"+h.closedd_products.join("/")),void 0!==h.toggleWidgetData.track_open_chats&&1==h.toggleWidgetData.track_open_chats&&(e+="/(topen)/true"),void 0!==h.toggleWidgetData.active_chats_sort&&""!==h.toggleWidgetData.active_chats_sort&&(e+="/(acs)/"+h.toggleWidgetData.active_chats_sort),void 0!==h.toggleWidgetData.bot_chats_sort&&""!==h.toggleWidgetData.bot_chats_sort&&(e+="/(bcs)/"+h.toggleWidgetData.bot_chats_sort),void 0!==h.toggleWidgetData.closed_chats_sort&&""!==h.toggleWidgetData.closed_chats_sort&&(e+="/(clcs)/"+h.toggleWidgetData.closed_chats_sort),void 0!==h.toggleWidgetData.onop_sort&&""!==h.toggleWidgetData.onop_sort&&(e+="/(onop)/"+h.toggleWidgetData.onop_sort);var n=[];return!0===h.departmentd_hide_dep&&n.push("dhdep"),!0===h.departmentd_hide_dgroup&&n.push("dhdepg"),n.length>0&&(e+="/(hsub)/"+n.join("/")),f.lastd_activity>0&&(e+="/(lda)/"+f.lastd_activity),f.lastd_activity=0,ee.emitEvent("eventGetSyncFilterSvelte",[s]),e+h.custom_extension_filter}(),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!_.ok)throw new Error("Network response was not OK ["+_.status+"] ["+_.statusText+"]");const u=await _.json();if(f.lhcListRequestInProgress=!1,u.logout||u.error_url)return void document.location.reload();if(1==f.blockSync)return clearTimeout(f.timeoutControl),void(f.timeoutControl=setTimeout((function(){f.isListLoaded=!1,L()}),confLH.back_office_sinterval));if(1==h.lhcConnectivityProblem&&c(s,h.lhcConnectivityProblem=!1,h),ee.emitEvent("eventLoadChatListSvelte",[u,s]),void 0===u.items_processed){var t=[],e=[],n=[],i=[],a=jQuery("#tabs");for(const[d,r]of Object.entries(u.result))if(c(s,h[d]=r,h),0!=a.length||"pending_chat"!=d&&"my_chats"!=d||r.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&1==confLH.accept_chats&&(1!==t.status||1===t.status&&!0===t.hum)&&ee.emitEvent("chatTabPreload",[t.id,{focus:!1}])})),a.length>0&&("pending_chat"==d||"my_chats"==d?r.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&1==confLH.accept_chats&&(1!==t.status||1===t.status&&!0===t.hum)&&0==jQuery("#chat-tab-link-"+t.id).length&&(a.length>0&&0==lhinst.disableremember&&(lhinst.addOpenTrace("auto_accept"),lhinst.removeSynchroChat(t.id),lhinst.startChatBackground(t.id,a,K(t.nick||"Visitor",10)),f.channel.postMessage({action:"startbackground_chat",args:{nick:K(t.nick||"Visitor",10),chat_id:parseInt(t.id)}})),0==lhinst.disableremember&&i.push(t.id))})):"transfer_chats"==d?r.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&(1==confLH.accept_chats||jQuery("#chat-tab-link-"+t.id).length>0)&&(a.length>0&&0==lhinst.disableremember&&(lhinst.addOpenTrace("auto_accept_transfer"),lhinst.startChatTransfer(t.id,a,K(t.nick||"Visitor",10),t.transfer_id,0==jQuery("#chat-tab-link-"+t.id).length),f.channel.postMessage({action:"startbackground_chat",args:{nick:K(t.nick||"Visitor",10),chat_id:parseInt(t.id)}})),0==lhinst.disableremember&&i.push(t.id))})):"group_chats"==d?a.length>0&&1==confLH.auto_join_private&&r.list.forEach((function(t){1==t.type&&0==t.jtime&&0==jQuery("#chat-tab-link-gc"+t.id).length&&lhinst.startGroupChat(t.id,a,K(t.name,10),!0)})):"support_chats"==d?a.length>0&&1==confLH.auto_join_private&&r.list.forEach((function(t){null===document.getElementById("chat-tab-li-"+t.chat_id)?(lhinst.addOpenTrace("support_chat"),S(t.chat_id,!0)):jQuery("#private-chat-tab-link-"+t.chat_id).attr("private-loaded")?jQuery("#chat-tab-link-"+t.chat_id).hasClass("active")?jQuery("#private-chat-tab-link-"+t.chat_id).hasClass("active")||jQuery("#private-chat-tab-link-"+t.chat_id+" > .whatshot").removeClass("d-none"):jQuery("#chat-tab-link-"+t.chat_id+" > .whatshot").removeClass("d-none"):(jQuery("#private-chat-tab-link-"+t.chat_id).attr("private-loaded",!0),ee.emitEvent("privateChatStart",[t.chat_id,{unread:!0}]))})):"pending_mails"!=d&&"my_mails"!=d||a.length>0&&r.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&1==confLH.accept_mails&&1!==t.status&&null===document.getElementById("chat-tab-li-mc"+t.id)&&lhinst.startMailChat(t.id,a,K(t.subject_front,10),!0)}))),r.last_id_identifier){e=[],t=[];var l=0,o=r.list;"pending_chat"==r.last_id_identifier&&void 0!==h.toggleWidgetData.pending_chats_sort&&"id_asc"==h.toggleWidgetData.pending_chats_sort&&(o=r.list.slice().reverse()),o.forEach((function(n){var i=void 0!==n.user_id?n.user_id:0,a=n.id+"_"+i;if(("bot_chats"!=r.last_id_identifier||n.msg_v&&n.msg_v>h.bot_st.msg_nm&&1==h.bot_st.bot_notifications||n.aalert)&&"transfer_chat_dep"!=r.last_id_identifier){var o=[];if("active_chats"==r.last_id_identifier&&n.aicons&&(a+="_"+(o=Object.keys(n.aicons)).join("_")),t.push(a),void 0===h.statusNotifications[r.last_id_identifier]&&c(s,h.statusNotifications[r.last_id_identifier]=[],h),1==f.isListLoaded&&"subject_chats"==r.last_id_identifier)-1==h.statusNotifications[r.last_id_identifier].indexOf(a)&&-1===lhinst.chatsSynchronising.indexOf(parseInt(n.id))&&e.push(n.id);else if(1==f.isListLoaded&&"active_chats"==r.last_id_identifier){if(-1==h.statusNotifications[r.last_id_identifier].indexOf(a)&&o.length>0&&h.notifIcons.length>0){var d=h.notifIcons.filter((function(t){return-1===h.excludeIcons.indexOf(t)&&-1!==o.indexOf(t)}));d.length>0&&e.push(n.id+"__"+d.join("__"))}}else 1!=f.isListLoaded||0!=l&&2!==n.status_sub_sub||(-1!=h.statusNotifications[r.last_id_identifier].indexOf(a)||0!=i&&"amails"!=r.last_id_identifier||0!=confLH.ownntfonly)&&(-1!=h.statusNotifications[r.last_id_identifier].indexOf(a)||i!=confLH.user_id)?l++:-1===lhinst.chatsSynchronising.indexOf(parseInt(n.id))&&e.push(n.id)}})),e.length>0&&(e.unshift(r.last_id_identifier),n.push(e.join("/"))),!0===f.isListLoaded&&Y(h.statusNotifications[r.last_id_identifier],t,r.last_id_identifier),c(s,h.statusNotifications[r.last_id_identifier]=t,h)}i.length>0&&(i.unshift("active_chat"),F.getNotificationsData(i.join("/")).then((function(t){t.forEach((function(t){lhinst.removeBackgroundChat(parseInt(t.last_id)),lhinst.playSoundNewAction(t.last_id_identifier,parseInt(t.last_id),t.nick?t.nick:"Live Help",t.msg?t.msg:confLH.transLation.new_chat,t.nt),lhinst.backgroundChats.push(parseInt(t.last_id))}))}))),n.length>0&&F.getNotificationsData(n.join("/")).then((function(t){t.forEach((function(t){lhinst.playSoundNewAction(t.last_id_identifier,parseInt(t.last_id),t.nick?t.nick:"Live Help",t.msg?t.msg:confLH.transLation.new_chat,t.nt)}))}))}if(void 0!==u.ou&&1==u.ou){jQuery("#lhc_op_operation").remove();var d=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("id","lhc_op_operation"),r.setAttribute("type","text/javascript"),r.setAttribute("src",WWW_DIR_JAVASCRIPT+"chat/loadoperatorjs"),d.appendChild(r)}if(void 0!==u.fs&&u.fs.length>0&&u.fs.forEach((function(t){lhinst.playSoundNewAction("pending_transfered",parseInt(t.id),t.nick?t.nick:"Live Help",confLH.transLation.transfered,t.nt,t.uid)})),void 0!==u.mac&&u.mac.length>0)(a=jQuery("#tabs")).length>0&&0==lhinst.disableremember&&u.mac.forEach((function(t){lhinst.startChatBackground(t.id,a,K(t.nick||"Visitor",10),!1),$({type:"mac",chat_id:t.id,nick:t.nick})}));s.update((t=>(t.lhcVersion=u.v,t.hideOnline=1===u.ho,t.hideInvisible=1===u.im,t.alwaysOnline=1===u.a_on,t.inActive=1===u.ina,t))),!0===f.setTimeoutEnabled&&(f.timeoutControl=setTimeout((function(){L()}),confLH.back_office_sinterval)),f.isListLoaded=!0}catch(t){c(s,h.lhcConnectivityProblem=!0,h),c(s,h.lhcConnectivityProblemExplain=t,h),f.lhcListRequestInProgress=!1,f.timeoutControl=setTimeout((function(){L()}),confLH.back_office_sinterval),console.error("There has been a problem with your fetch operation:",t)}}}function S(t,e){isNaN(t)||jQuery("#tabs").length>0&&(jQuery("#menu-chat-options").dropdown("toggle"),F.getChatData(t).then((function(n){n.r?document.location=WWW_DIR_JAVASCRIPT+n.r:(lhinst.addOpenTrace("start_chat_by_id"),e?lhinst.startChatBackground(parseInt(t),jQuery("#tabs"),K(n.nick||"Visitor",10),"backgroundid"):function(t,e){if(jQuery("#tabs").length>0)return lhinst.addOpenTrace("click"),lhinst.startChat(t,jQuery("#tabs"),K(e||"Visitor",10));lhinst.startChatNewWindow(t,e)}(parseInt(t),K(n.nick||"Visitor",10)))})))}return t.$$.update=()=>{64&t.$$.dirty[0]&&n(5,i=h.userFilterText),64&t.$$.dirty[0]&&n(4,d=h.depFilterText),64&t.$$.dirty[0]&&n(3,r=h.lmtoggle),64&t.$$.dirty[0]&&n(2,_=h.rmtoggle),64&t.$$.dirty[0]&&n(1,u=h.toggleWidgetData.track_open_chats),64&t.$$.dirty[0]&&n(0,p=h.toggleWidgetData.group_offline_chats),32&t.$$.dirty[0]&&F.searchProvider("users",h.userFilterText).then((function(t){c(s,h.userList=t.items,h)})).catch((function(){c(s,h.userList=[],h)})),16&t.$$.dirty[0]&&F.searchProvider("depswidget",h.depFilterText).then((function(t){c(s,h.userDepartments=t.items,h),c(s,h.userDepartmentsNames=t.items_names,h)})).catch((function(){c(s,h.userDepartments=[],h),c(s,h.userDepartmentsNames=[],h)})),8&t.$$.dirty[0]&&m(),4&t.$$.dirty[0]&&m(),2&t.$$.dirty[0]&&g("track_open_chats"),1&t.$$.dirty[0]&&g("group_offline_chats")},[p,u,_,r,d,i,h]}class Z extends e{constructor(t){super(),n(this,t,z,null,i,{},null,[-1,-1])}}function tt(t){let e,n,i,a=t[1].lhcPendingRefresh&&et(t),s=t[1].lhcConnectivityProblem&&nt(t),l=t[1].inActive&&it();return{c(){e=m("div"),a&&a.c(),n=r(),s&&s.c(),i=r(),l&&l.c(),g(e,"ng-non-bindable",""),g(e,"class","version-updated float-start")},m(t,c){u(t,e,c),a&&a.m(e,null),f(e,n),s&&s.m(e,null),f(e,i),l&&l.m(e,null)},p(t,c){t[1].lhcPendingRefresh?a?a.p(t,c):(a=et(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),t[1].lhcConnectivityProblem?s?s.p(t,c):(s=nt(t),s.c(),s.m(e,i)):s&&(s.d(1),s=null),t[1].inActive?l||(l=it(),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(t){t&&h(e),a&&a.d(),s&&s.d(),l&&l.d()}}}function et(t){let e,n,i,a,s;return{c(){e=m("div"),n=m("i"),n.textContent="update",i=w("This window will be automatically refreshed in "),a=w(t[2]),s=w(" seconds due to a version update."),g(n,"class","material-icons")},m(t,l){u(t,e,l),f(e,n),f(e,i),f(e,a),f(e,s)},p(t,e){4&e&&v(a,t[2])},d(t){t&&h(e)}}}function nt(t){let e,n,i,a=t[1].lhcConnectivityProblemExplain+"";return{c(){e=m("div"),n=w("You have weak internet connection or the server has problems. Try to refresh the  page. Error code "),i=w(a)},m(t,a){u(t,e,a),f(e,n),f(e,i)},p(t,e){2&e&&a!==(a=t[1].lhcConnectivityProblemExplain+"")&&v(i,a)},d(t){t&&h(e)}}}function it(t){let e;return{c(){e=m("div"),e.textContent="You went offline because of inactivity. Please close other chat windows if you have any"},m(t,n){u(t,e,n)},d(t){t&&h(e)}}}function at(t){let e,n,i,a,s,l,c,o=t[1].last_actions_index<t[1].last_actions.length-1&&st(),d=t[1].last_actions_index>0&&lt(),_=t[1].last_actions_index>0&&ct(),p="user_wrote"==t[1].last_actions[t[1].last_actions_index].type&&ot(t),w="user_wrote"!=t[1].last_actions[t[1].last_actions_index].type&&"mac"!=t[1].last_actions[t[1].last_actions_index].type&&"mac_history"!=t[1].last_actions[t[1].last_actions_index].type&&dt(t),v="mac"==t[1].last_actions[t[1].last_actions_index].type&&rt(t),b="mac_history"==t[1].last_actions[t[1].last_actions_index].type&&_t(t);return{c(){e=m("div"),o&&o.c(),n=r(),d&&d.c(),i=r(),_&&_.c(),a=r(),p&&p.c(),s=r(),w&&w.c(),l=r(),v&&v.c(),c=r(),b&&b.c(),g(e,"ng-non-bindable",""),g(e,"class","text-muted float-start fs12 abbr-list d-none d-sm-block")},m(t,r){u(t,e,r),o&&o.m(e,null),f(e,n),d&&d.m(e,null),f(e,i),_&&_.m(e,null),f(e,a),p&&p.m(e,null),f(e,s),w&&w.m(e,null),f(e,l),v&&v.m(e,null),f(e,c),b&&b.m(e,null)},p(t,r){t[1].last_actions_index<t[1].last_actions.length-1?o||(o=st(),o.c(),o.m(e,n)):o&&(o.d(1),o=null),t[1].last_actions_index>0?d||(d=lt(),d.c(),d.m(e,i)):d&&(d.d(1),d=null),t[1].last_actions_index>0?_||(_=ct(),_.c(),_.m(e,a)):_&&(_.d(1),_=null),"user_wrote"==t[1].last_actions[t[1].last_actions_index].type?p?p.p(t,r):(p=ot(t),p.c(),p.m(e,s)):p&&(p.d(1),p=null),"user_wrote"!=t[1].last_actions[t[1].last_actions_index].type&&"mac"!=t[1].last_actions[t[1].last_actions_index].type&&"mac_history"!=t[1].last_actions[t[1].last_actions_index].type?w?w.p(t,r):(w=dt(t),w.c(),w.m(e,l)):w&&(w.d(1),w=null),"mac"==t[1].last_actions[t[1].last_actions_index].type?v?v.p(t,r):(v=rt(t),v.c(),v.m(e,c)):v&&(v.d(1),v=null),"mac_history"==t[1].last_actions[t[1].last_actions_index].type?b?b.p(t,r):(b=_t(t),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},d(t){t&&h(e),o&&o.d(),d&&d.d(),_&&_.d(),p&&p.d(),w&&w.d(),v&&v.d(),b&&b.d()}}}function st(t){let e;return{c(){e=m("span"),e.textContent="expand_more",g(e,"class","material-icons action-image"),g(e,"ng-click","lhc.last_actions_index = lhc.last_actions_index + 1")},m(t,n){u(t,e,n)},d(t){t&&h(e)}}}function lt(t){let e;return{c(){e=m("span"),e.textContent="expand_less",g(e,"ng-click","lhc.last_actions_index = lhc.last_actions_index - 1"),g(e,"class","material-icons action-image")},m(t,n){u(t,e,n)},d(t){t&&h(e)}}}function ct(t){let e;return{c(){e=m("span"),e.textContent="hourglass_full",g(e,"class","material-icons")},m(t,n){u(t,e,n)},d(t){t&&h(e)}}}function ot(t){let e,n,i,a,s,l,c,o,d=t[1].last_actions[t[1].last_actions_index].nick+"",r=t[1].last_actions[t[1].last_actions_index].msg+"",_=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=m("span"),n=m("b"),i=w(d),a=w(" - "),s=m("i"),l=w(r),c=w(" in chat - "),o=w(_)},m(t,d){u(t,e,d),f(e,n),f(n,i),f(e,a),f(e,s),f(s,l),f(e,c),f(e,o)},p(t,e){2&e&&d!==(d=t[1].last_actions[t[1].last_actions_index].nick+"")&&v(i,d),2&e&&r!==(r=t[1].last_actions[t[1].last_actions_index].msg+"")&&v(l,r),2&e&&_!==(_=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&v(o,_)},d(t){t&&h(e)}}}function dt(t){let e,n,i,a,s,l,c,o,d=t[1].last_actions[t[1].last_actions_index].nick+"",r=t[1].last_actions[t[1].last_actions_index].msg+"",_=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=m("span"),n=m("b"),i=w(d),a=w(" - "),s=m("i"),l=w(r),c=w(" - "),o=w(_),g(e,"ng-if","")},m(t,d){u(t,e,d),f(e,n),f(n,i),f(e,a),f(e,s),f(s,l),f(e,c),f(e,o)},p(t,e){2&e&&d!==(d=t[1].last_actions[t[1].last_actions_index].nick+"")&&v(i,d),2&e&&r!==(r=t[1].last_actions[t[1].last_actions_index].msg+"")&&v(l,r),2&e&&_!==(_=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&v(o,_)},d(t){t&&h(e)}}}function rt(t){let e,n,i,a,s,l=t[1].last_actions[t[1].last_actions_index].nick+"",c=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=m("span"),n=m("b"),i=w(l),a=w(" - active chat was opened - "),s=w(c)},m(t,l){u(t,e,l),f(e,n),f(n,i),f(e,a),f(e,s)},p(t,e){2&e&&l!==(l=t[1].last_actions[t[1].last_actions_index].nick+"")&&v(i,l),2&e&&c!==(c=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&v(s,c)},d(t){t&&h(e)}}}function _t(t){let e,n,i,a,s,l=t[1].last_actions[t[1].last_actions_index].nick+"",c=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=m("span"),n=m("b"),i=w(l),a=w(" - previously loaded chat was opened - "),s=w(c)},m(t,l){u(t,e,l),f(e,n),f(n,i),f(e,a),f(e,s)},p(t,e){2&e&&l!==(l=t[1].last_actions[t[1].last_actions_index].nick+"")&&v(i,l),2&e&&c!==(c=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&v(s,c)},d(t){t&&h(e)}}}function ut(t){let e,n,i=(t[1].lhcPendingRefresh||t[1].lhcConnectivityProblem||t[1].inActive)&&tt(t),a=0==t[0]&&!(t[1].lhcPendingRefresh||1==t[1].lhcConnectivityProblem||1==t[1].inActive)&&t[1].last_actions.length>0&&at(t);return{c(){i&&i.c(),e=r(),a&&a.c(),n=_()},m(t,s){i&&i.m(t,s),u(t,e,s),a&&a.m(t,s),u(t,n,s)},p(t,[s]){t[1].lhcPendingRefresh||t[1].lhcConnectivityProblem||t[1].inActive?i?i.p(t,s):(i=tt(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),0==t[0]&&!t[1].lhcPendingRefresh&&1!=t[1].lhcConnectivityProblem&&1!=t[1].inActive&&t[1].last_actions.length>0?a?a.p(t,s):(a=at(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i:p,o:p,d(t){t&&(h(e),h(n)),i&&i.d(t),a&&a.d(t)}}}function pt(t,e,n){let i,l;a(t,s,(t=>n(1,l=t)));let{hide_quick_notification:o=0}=e,d=8,r=0;return t.$$set=t=>{"hide_quick_notification"in t&&n(0,o=t.hide_quick_notification)},t.$$.update=()=>{2&t.$$.dirty&&n(3,i=l.lhcVersion),8&t.$$.dirty&&(0==r&&(r=i),r>0&&i>0&&r!=i&&(c(s,l.lhcPendingRefresh=!0,l),setInterval((()=>{n(2,d-=1),0==d&&document.location.reload(!0)}),1e3)))},[o,l,d,i]}customElements.define("lhc-app",t(Z,{},[],[],!1));class ht extends e{constructor(t){super(),n(this,t,pt,ut,i,{hide_quick_notification:0})}get hide_quick_notification(){return this.$$.ctx[0]}set hide_quick_notification(t){this.$$set({hide_quick_notification:t}),d()}}async function mt(t){t.e&&(t.e.stopPropagation(),t.e.preventDefault());const e=await fetch(WWW_DIR_JAVASCRIPT+t.url,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}}).catch((t=>{alert("We could not change your status! "+t)})),n=await e.json();!1===n.error?t.store.update((e=>(e[t.attr]=!e[t.attr],e))):void 0!==n.message?alert(n.message):void 0!==n.msg?alert(n.msg):alert(n)}function gt(t){let e;function n(t,e){return 1==t[2].hideOnline?wt:ft}let i=n(t),a=i(t);return{c(){a.c(),e=_()},m(t,n){a.m(t,n),u(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&h(e),a.d(t)}}}function ft(t){let e,n=t[3]("homepage.status_online")+"";return{c(){e=w(n)},m(t,n){u(t,e,n)},p(t,i){8&i&&n!==(n=t[3]("homepage.status_online")+"")&&v(e,n)},d(t){t&&h(e)}}}function wt(t){let e,n=t[3]("homepage.status_offline")+"";return{c(){e=w(n)},m(t,n){u(t,e,n)},p(t,i){8&i&&n!==(n=t[3]("homepage.status_offline")+"")&&v(e,n)},d(t){t&&h(e)}}}function vt(t){let e,n,i,a,s,l,c=1==t[2].hideOnline?"flash_off":"flash_on",o=t[0]&&gt(t);return{c(){e=m("a"),n=m("i"),i=w(c),o&&o.c(),g(n,"id","online-offline-user"),g(n,"class","material-icons"),g(n,"title",a=t[3]("homepage.change_online_status")),g(e,"href","#"),g(e,"class",t[1])},m(a,c){u(a,e,c),f(e,n),f(n,i),o&&o.m(e,null),s||(l=b(e,"click",t[4]),s=!0)},p(t,[s]){4&s&&c!==(c=1==t[2].hideOnline?"flash_off":"flash_on")&&v(i,c),8&s&&a!==(a=t[3]("homepage.change_online_status"))&&g(n,"title",a),t[0]?o?o.p(t,s):(o=gt(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null),2&s&&g(e,"class",t[1])},i:p,o:p,d(t){t&&h(e),o&&o.d(),s=!1,l()}}}function bt(t,e,n){let i,l;a(t,s,(t=>n(2,i=t))),a(t,y,(t=>n(3,l=t)));let{show_text:c=!1}=e,{css_class:o="nav-link"}=e;return t.$$set=t=>{"show_text"in t&&n(0,c=t.show_text),"css_class"in t&&n(1,o=t.css_class)},[c,o,i,l,t=>mt({store:s,e:t,attr:"hideOnline",url:"user/setoffline/"+(1==!i.hideOnline?"true":"false")})]}customElements.define("lhc-status",t(ht,{hide_quick_notification:{}},[],[],!1));class yt extends e{constructor(t){super(),n(this,t,bt,vt,i,{show_text:0,css_class:1})}get show_text(){return this.$$.ctx[0]}set show_text(t){this.$$set({show_text:t}),d()}get css_class(){return this.$$.ctx[1]}set css_class(t){this.$$set({css_class:t}),d()}}function xt(t){let e,n=t[1]("homepage.always_online_activity")+"";return{c(){e=w(n)},m(t,n){u(t,e,n)},p(t,i){2&i&&n!==(n=t[1]("homepage.always_online_activity")+"")&&v(e,n)},d(t){t&&h(e)}}}function jt(t){let e,n=t[1]("homepage.always_online_mode")+"";return{c(){e=w(n)},m(t,n){u(t,e,n)},p(t,i){2&i&&n!==(n=t[1]("homepage.always_online_mode")+"")&&v(e,n)},d(t){t&&h(e)}}}function kt(t){let e,n,i,a,s,l,c=1==t[0].hideOnline?"flash_off":1==t[0].alwaysOnline?"toggle_on":"toggle_off";function o(t,e){return 1==t[0].alwaysOnline?jt:xt}let d=o(t),r=d(t);return{c(){e=m("a"),n=m("i"),i=w(c),r.c(),g(n,"class","material-icons"),g(e,"href","#"),g(e,"class","dropdown-item ps-2"),g(e,"title",a=t[1]("homepage.always_online"))},m(a,c){u(a,e,c),f(e,n),f(n,i),r.m(e,null),s||(l=b(e,"click",t[2]),s=!0)},p(t,[n]){1&n&&c!==(c=1==t[0].hideOnline?"flash_off":1==t[0].alwaysOnline?"toggle_on":"toggle_off")&&v(i,c),d===(d=o(t))&&r?r.p(t,n):(r.d(1),r=d(t),r&&(r.c(),r.m(e,null))),2&n&&a!==(a=t[1]("homepage.always_online"))&&g(e,"title",a)},i:p,o:p,d(t){t&&h(e),r.d(),s=!1,l()}}}function $t(t,e,n){let i,l;a(t,s,(t=>n(0,i=t))),a(t,y,(t=>n(1,l=t)));return[i,l,t=>mt({store:s,e:t,attr:"alwaysOnline",url:"user/setalwaysonline/"+(1==!i.alwaysOnline?"true":"false")})]}customElements.define("change-online-status",t(yt,{show_text:{type:"Boolean"},css_class:{}},[],[],!1));class Wt extends e{constructor(t){super(),n(this,t,$t,kt,i,{})}}function Ct(t){let e;function n(t,e){return 1==t[2].hideInvisible?It:Dt}let i=n(t),a=i(t);return{c(){a.c(),e=_()},m(t,n){a.m(t,n),u(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&h(e),a.d(t)}}}function Dt(t){let e,n=t[3]("homepage.visible")+"";return{c(){e=w(n)},m(t,n){u(t,e,n)},p(t,i){8&i&&n!==(n=t[3]("homepage.visible")+"")&&v(e,n)},d(t){t&&h(e)}}}function It(t){let e,n=t[3]("homepage.invisible")+"";return{c(){e=w(n)},m(t,n){u(t,e,n)},p(t,i){8&i&&n!==(n=t[3]("homepage.invisible")+"")&&v(e,n)},d(t){t&&h(e)}}}function Lt(t){let e,n,i,a,s,l,c=1==t[2].hideInvisible?"visibility_off":"visibility",o=!t[1]&&Ct(t);return{c(){e=m("a"),n=m("i"),i=w(c),o&&o.c(),g(n,"id","vi-in-user"),g(n,"class","material-icons"),g(n,"title",a=t[3]("homepage.change_visibility")),g(e,"href","#"),g(e,"class",t[0])},m(a,c){u(a,e,c),f(e,n),f(n,i),o&&o.m(e,null),s||(l=b(e,"click",t[4]),s=!0)},p(t,[s]){4&s&&c!==(c=1==t[2].hideInvisible?"visibility_off":"visibility")&&v(i,c),8&s&&a!==(a=t[3]("homepage.change_visibility"))&&g(n,"title",a),t[1]?o&&(o.d(1),o=null):o?o.p(t,s):(o=Ct(t),o.c(),o.m(e,null)),1&s&&g(e,"class",t[0])},i:p,o:p,d(t){t&&h(e),o&&o.d(),s=!1,l()}}}function St(t,e,n){let i,l;a(t,s,(t=>n(2,i=t))),a(t,y,(t=>n(3,l=t)));let{css_class:c="dropdown-item ps-2"}=e,{hide_text:o=!1}=e;return t.$$set=t=>{"css_class"in t&&n(0,c=t.css_class),"hide_text"in t&&n(1,o=t.hide_text)},[c,o,i,l,t=>mt({store:s,e:t,attr:"hideInvisible",url:"user/setinvisible/"+(1==!i.hideInvisible?"true":"false")})]}customElements.define("change-always-online",t(Wt,{},[],[],!1));class Pt extends e{constructor(t){super(),n(this,t,St,Lt,i,{css_class:0,hide_text:1})}get css_class(){return this.$$.ctx[0]}set css_class(t){this.$$set({css_class:t}),d()}get hide_text(){return this.$$.ctx[1]}set hide_text(t){this.$$set({hide_text:t}),d()}}function Tt(t){let e,n,i,a,s,l,c,o,d,_;return{c(){e=m("div"),n=m("div"),i=m("input"),s=r(),l=m("button"),c=m("i"),c.textContent="chat",g(i,"type","text"),g(i,"class","form-control"),g(i,"placeholder",a=t[1]("front_default.chat_id_to_open")),g(i,"aria-describedby","inputGroupPrepend"),i.required=!0,g(c,"class","material-icons me-0"),g(l,"class","btn btn-secondary"),g(l,"title",o=t[1]("front_default.open_a_chat")),g(l,"type","button"),g(n,"class","input-group input-group-sm"),g(e,"class","dropdown-item")},m(a,o){u(a,e,o),f(e,n),f(n,i),x(i,t[0].chat_to_open),f(n,s),f(n,l),f(l,c),d||(_=[b(i,"input",t[2]),b(i,"keyup",t[3]),b(l,"click",t[4])],d=!0)},p(t,[e]){2&e&&a!==(a=t[1]("front_default.chat_id_to_open"))&&g(i,"placeholder",a),1&e&&i.value!==t[0].chat_to_open&&x(i,t[0].chat_to_open),2&e&&o!==(o=t[1]("front_default.open_a_chat"))&&g(l,"title",o)},i:p,o:p,d(t){t&&h(e),d=!1,j(_)}}}function At(t,e,n){let i,l;a(t,s,(t=>n(0,i=t))),a(t,y,(t=>n(1,l=t)));return[i,l,function(){i.chat_to_open=this.value,s.set(i)},t=>{13===t.keyCode&&ee.emitEvent("angularStartChatbyId",[i.chat_to_open])},t=>ee.emitEvent("angularStartChatbyId",[i.chat_to_open])]}customElements.define("change-visibility-mode",t(Pt,{css_class:{},hide_text:{type:"Boolean"}},[],[],!1));class Ot extends e{constructor(t){super(),n(this,t,At,Tt,i,{})}}function Rt(t,e,n){const i=t.slice();return i[57]=e[n],i}function Et(t,e,n){const i=t.slice();return i[64]=e[n],i}function Nt(t,e,n){const i=t.slice();return i[67]=e[n],i}function Vt(t,e,n){const i=t.slice();return i[70]=e[n],i}function Ht(t,e,n){const i=t.slice();return i[67]=e[n],i}function Jt(t,e,n){const i=t.slice();return i[70]=e[n],i}function Gt(t,e,n){const i=t.slice();return i[77]=e[n][0],i[78]=e[n][1],i}function Mt(t,e,n){const i=t.slice();return i[57]=e[n],i}function Qt(t,e,n){const i=t.slice();return i[57]=e[n],i}function Bt(t,e,n){const i=t.slice();return i[51]=e[n],i}function Ft(t,e,n){const i=t.slice();return i[54]=e[n],i}function qt(t,e,n){const i=t.slice();return i[67]=e[n],i}function Xt(t){let e,n,i,a,s,l,c,o,d,_,p,v,y,x,k,$,C,D,I,L,S,P,T,A,O,R,E,N,V,H,J,G,M,Q,B;function q(t,e){return"online_op"==t[1]?Zt:"depgroups_stats"==t[1]?zt:"active_chats"==t[1]?Yt:"group_chats"==t[1]?Kt:Ut}let X=q(t),U=X(t),K="transfer_chats"==t[1]&&te(t),Y="pending_chats"==t[1]&&ne(t),z=t[12]&&t[10].additionalColumns&&ie(t),Z="subject_chats"==t[1]&&oe(),tt="depgroups_stats"===t[1]&&de(t),et="online_op"===t[1]&&re(t),nt=("pending_chats"===t[1]||"my_mails"===t[1])&&_e(t),it="my_chats"===t[1]&&ue(t),at="unread_chats"===t[1]&&pe(t),st=("active_chats"===t[1]||"bot_chats"===t[1])&&he(t),lt="subject_chats"==t[1]&&me(t),ct="transfer_chats"==t[1]&&ge(t),ot="online_op"==t[1]&&fe(t),dt="active_chats"==t[1]&&we(t),rt="depgroups_stats"==t[1]&&ve(t),_t="depgroups_stats"==t[1]&&be(t);function ut(t,e){return"group_chats"==t[1]?je:"active_chats"==t[1]?xe:"transfer_chats"!=t[1]&&"depgroups_stats"!=t[1]?ye:void 0}let pt=ut(t),ht=pt&&pt(t);return{c(){e=m("thead"),n=m("tr"),i=m("th"),U.c(),a=r(),K&&K.c(),s=r(),Y&&Y.c(),l=r(),z&&z.c(),c=r(),Z&&Z.c(),o=r(),d=m("th"),tt&&tt.c(),_=r(),et&&et.c(),p=r(),nt&&nt.c(),v=r(),it&&it.c(),y=r(),at&&at.c(),x=r(),st&&st.c(),k=r(),lt&&lt.c(),$=r(),ct&&ct.c(),C=r(),ot&&ot.c(),D=r(),dt&&dt.c(),I=r(),rt&&rt.c(),L=r(),S=m("th"),_t&&_t.c(),P=r(),ht&&ht.c(),T=r(),A=m("div"),O=m("a"),R=m("i"),E=w("expand"),V=r(),H=m("a"),J=m("i"),G=w("compress"),g(i,"width",t[7]),g(d,"width",t[6]),g(R,"title",N=t[11]("widget.more_rows")),g(R,"class","material-icons"),g(O,"class","text-muted disable-select"),g(J,"title",M=t[11]("widget.less_rows")),g(J,"class","material-icons"),g(H,"class","text-muted disable-select"),g(A,"class","float-end expand-actions"),g(S,"width",t[8])},m(r,h){u(r,e,h),f(e,n),f(n,i),U.m(i,null),f(i,a),K&&K.m(i,null),f(i,s),Y&&Y.m(i,null),f(n,l),z&&z.m(n,null),f(n,c),Z&&Z.m(n,null),f(n,o),f(n,d),tt&&tt.m(d,null),f(d,_),et&&et.m(d,null),f(d,p),nt&&nt.m(d,null),f(d,v),it&&it.m(d,null),f(d,y),at&&at.m(d,null),f(d,x),st&&st.m(d,null),f(d,k),lt&&lt.m(d,null),f(d,$),ct&&ct.m(d,null),f(n,C),ot&&ot.m(n,null),f(n,D),dt&&dt.m(n,null),f(n,I),rt&&rt.m(n,null),f(n,L),f(n,S),_t&&_t.m(S,null),f(S,P),ht&&ht.m(S,null),f(S,T),f(S,A),f(A,O),f(O,R),f(R,E),f(A,V),f(A,H),f(H,J),f(J,G),Q||(B=[b(O,"click",(function(){W(F.changeWidgetHeight(t[2],t[4],!0))&&F.changeWidgetHeight(t[2],t[4],!0).apply(this,arguments)})),b(H,"click",(function(){W(F.changeWidgetHeight(t[2],t[4],!1))&&F.changeWidgetHeight(t[2],t[4],!1).apply(this,arguments)}))],Q=!0)},p(e,l){X===(X=q(t=e))&&U?U.p(t,l):(U.d(1),U=X(t),U&&(U.c(),U.m(i,a))),"transfer_chats"==t[1]?K?K.p(t,l):(K=te(t),K.c(),K.m(i,s)):K&&(K.d(1),K=null),"pending_chats"==t[1]?Y?Y.p(t,l):(Y=ne(t),Y.c(),Y.m(i,null)):Y&&(Y.d(1),Y=null),128&l[0]&&g(i,"width",t[7]),t[12]&&t[10].additionalColumns?z?z.p(t,l):(z=ie(t),z.c(),z.m(n,c)):z&&(z.d(1),z=null),"subject_chats"==t[1]?Z||(Z=oe(),Z.c(),Z.m(n,o)):Z&&(Z.d(1),Z=null),"depgroups_stats"===t[1]?tt?tt.p(t,l):(tt=de(t),tt.c(),tt.m(d,_)):tt&&(tt.d(1),tt=null),"online_op"===t[1]?et?et.p(t,l):(et=re(t),et.c(),et.m(d,p)):et&&(et.d(1),et=null),"pending_chats"===t[1]||"my_mails"===t[1]?nt?nt.p(t,l):(nt=_e(t),nt.c(),nt.m(d,v)):nt&&(nt.d(1),nt=null),"my_chats"===t[1]?it?it.p(t,l):(it=ue(t),it.c(),it.m(d,y)):it&&(it.d(1),it=null),"unread_chats"===t[1]?at?at.p(t,l):(at=pe(t),at.c(),at.m(d,x)):at&&(at.d(1),at=null),"active_chats"===t[1]||"bot_chats"===t[1]?st?st.p(t,l):(st=he(t),st.c(),st.m(d,k)):st&&(st.d(1),st=null),"subject_chats"==t[1]?lt?lt.p(t,l):(lt=me(t),lt.c(),lt.m(d,$)):lt&&(lt.d(1),lt=null),"transfer_chats"==t[1]?ct?ct.p(t,l):(ct=ge(t),ct.c(),ct.m(d,null)):ct&&(ct.d(1),ct=null),64&l[0]&&g(d,"width",t[6]),"online_op"==t[1]?ot?ot.p(t,l):(ot=fe(t),ot.c(),ot.m(n,D)):ot&&(ot.d(1),ot=null),"active_chats"==t[1]?dt?dt.p(t,l):(dt=we(t),dt.c(),dt.m(n,I)):dt&&(dt.d(1),dt=null),"depgroups_stats"==t[1]?rt?rt.p(t,l):(rt=ve(t),rt.c(),rt.m(n,L)):rt&&(rt.d(1),rt=null),"depgroups_stats"==t[1]?_t?_t.p(t,l):(_t=be(t),_t.c(),_t.m(S,P)):_t&&(_t.d(1),_t=null),pt===(pt=ut(t))&&ht?ht.p(t,l):(ht&&ht.d(1),ht=pt&&pt(t),ht&&(ht.c(),ht.m(S,T))),2048&l[0]&&N!==(N=t[11]("widget.more_rows"))&&g(R,"title",N),2048&l[0]&&M!==(M=t[11]("widget.less_rows"))&&g(J,"title",M),256&l[0]&&g(S,"width",t[8])},d(t){t&&h(e),U.d(),K&&K.d(),Y&&Y.d(),z&&z.d(),Z&&Z.d(),tt&&tt.d(),et&&et.d(),nt&&nt.d(),it&&it.d(),at&&at.d(),st&&st.d(),lt&&lt.d(),ct&&ct.d(),ot&&ot.d(),dt&&dt.d(),rt&&rt.d(),_t&&_t.d(),ht&&ht.d(),Q=!1,j(B)}}}function Ut(t){let e,n,i;return{c(){e=m("i"),n=w("face"),g(e,"title",i=t[11]("widget.visitor")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){2048&n[0]&&i!==(i=t[11]("widget.visitor"))&&g(e,"title",i)},d(t){t&&h(e)}}}function Kt(t){let e,n,i;return{c(){e=m("i"),n=w("group"),g(e,"title",i=t[11]("group_chat.group_name")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){2048&n[0]&&i!==(i=t[11]("group_chat.group_name"))&&g(e,"title",i)},d(t){t&&h(e)}}}function Yt(t){let e,n,i,a,s,l,c,o,d,_,p,y,x,$,W,C,D,I,L,S="loc_dsc"==t[10].toggleWidgetData[t[0]]||"loc_asc"!=t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down",P="u_dsc"==t[10].toggleWidgetData[t[0]]||"u_asc"!=t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("a"),n=m("i"),i=w("location_on"),s=r(),l=m("i"),c=w(S),d=w("   "),_=m("a"),p=m("i"),y=w("face"),$=r(),W=m("i"),C=w(P),g(n,"title",a=t[11]("widget.location")),g(n,"class","material-icons"),g(l,"title",o=t[11]("widget.sort_by_location")),g(l,"class","material-icons"),k(l,"text-muted","loc_asc"!=t[10].toggleWidgetData[t[0]]&&"loc_dsc"!=t[10].toggleWidgetData[t[0]]),g(p,"title",x=t[11]("widget.visitor")),g(p,"class","material-icons"),g(W,"title",D=t[11]("widget.sort_by_nick")),g(W,"class","material-icons"),k(W,"text-muted","u_asc"!=t[10].toggleWidgetData[t[0]]&&"u_dsc"!=t[10].toggleWidgetData[t[0]])},m(a,o){u(a,e,o),f(e,n),f(n,i),f(e,s),f(e,l),f(l,c),u(a,d,o),u(a,_,o),f(_,p),f(p,y),f(_,$),f(_,W),f(W,C),I||(L=[b(e,"click",t[16]),b(_,"click",t[17])],I=!0)},p(t,e){2048&e[0]&&a!==(a=t[11]("widget.location"))&&g(n,"title",a),1025&e[0]&&S!==(S="loc_dsc"==t[10].toggleWidgetData[t[0]]||"loc_asc"!=t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(c,S),2048&e[0]&&o!==(o=t[11]("widget.sort_by_location"))&&g(l,"title",o),1025&e[0]&&k(l,"text-muted","loc_asc"!=t[10].toggleWidgetData[t[0]]&&"loc_dsc"!=t[10].toggleWidgetData[t[0]]),2048&e[0]&&x!==(x=t[11]("widget.visitor"))&&g(p,"title",x),1025&e[0]&&P!==(P="u_dsc"==t[10].toggleWidgetData[t[0]]||"u_asc"!=t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(C,P),2048&e[0]&&D!==(D=t[11]("widget.sort_by_nick"))&&g(W,"title",D),1025&e[0]&&k(W,"text-muted","u_asc"!=t[10].toggleWidgetData[t[0]]&&"u_dsc"!=t[10].toggleWidgetData[t[0]])},d(t){t&&(h(e),h(d),h(_)),I=!1,j(L)}}}function zt(t){let e,n,i;return{c(){e=m("i"),n=w(""),g(e,"title",i=t[11]("widget.dep_group")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){2048&n[0]&&i!==(i=t[11]("widget.dep_group"))&&g(e,"title",i)},d(t){t&&h(e)}}}function Zt(t){let e,n,i,a,s,l,c,o,d,_,p="onl_dsc"==t[10].toggleWidgetData[t[0]]||"onl_asc"!=t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("a"),n=m("i"),i=w("account_box"),s=r(),l=m("i"),c=w(p),g(n,"title",a=t[11]("widget.operator")),g(n,"class","material-icons"),g(l,"title",o=t[11]("widget.sort_by_online_status")),g(l,"class","material-icons"),k(l,"text-muted","onl_dsc"!=t[10].toggleWidgetData[t[0]]&&"onl_asc"!=t[10].toggleWidgetData[t[0]])},m(a,o){u(a,e,o),f(e,n),f(n,i),f(e,s),f(e,l),f(l,c),d||(_=b(e,"click",t[15]),d=!0)},p(t,e){2048&e[0]&&a!==(a=t[11]("widget.operator"))&&g(n,"title",a),1025&e[0]&&p!==(p="onl_dsc"==t[10].toggleWidgetData[t[0]]||"onl_asc"!=t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(c,p),2048&e[0]&&o!==(o=t[11]("widget.sort_by_online_status"))&&g(l,"title",o),1025&e[0]&&k(l,"text-muted","onl_dsc"!=t[10].toggleWidgetData[t[0]]&&"onl_asc"!=t[10].toggleWidgetData[t[0]])},d(t){t&&h(e),d=!1,_()}}}function te(t){let e,n=t[11]("widget.transferred_to_you")+"";return{c(){e=w(n)},m(t,n){u(t,e,n)},p(t,i){2048&i[0]&&n!==(n=t[11]("widget.transferred_to_you")+"")&&v(e,n)},d(t){t&&h(e)}}}function ne(t){let e,n,i,a,s,l,c="id_dsc"===t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("a"),n=m("i"),i=w(c),g(n,"title",a=t[11]("widget.sort")),g(n,"class","material-icons")},m(a,c){u(a,e,c),f(e,n),f(n,i),s||(l=b(e,"click",t[18]),s=!0)},p(t,e){1025&e[0]&&c!==(c="id_dsc"===t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(i,c),2048&e[0]&&a!==(a=t[11]("widget.sort"))&&g(n,"title",a)},d(t){t&&h(e),s=!1,l()}}}function ie(t){let e,n=C(t[10].additionalColumns),i=[];for(let e=0;e<n.length;e+=1)i[e]=ce(qt(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=_()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);u(t,e,n)},p(t,a){if(1540&a[0]){let s;for(n=C(t[10].additionalColumns),s=0;s<n.length;s+=1){const l=qt(t,n,s);i[s]?i[s].p(l,a):(i[s]=ce(l),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&h(e),D(i,t)}}}function ae(t){let e,n,i,a,s=t[67].name+"",l=""!==t[67].icon&&se(t),c=""!==t[9]&&t[67].sorten&&le(t);return{c(){e=m("th"),l&&l.c(),n=w(s),i=r(),c&&c.c(),a=r(),g(e,"width","20%")},m(t,s){u(t,e,s),l&&l.m(e,null),f(e,n),f(e,i),c&&c.m(e,null),f(e,a)},p(t,i){""!==t[67].icon?l?l.p(t,i):(l=se(t),l.c(),l.m(e,n)):l&&(l.d(1),l=null),1024&i[0]&&s!==(s=t[67].name+"")&&v(n,s),""!==t[9]&&t[67].sorten?c?c.p(t,i):(c=le(t),c.c(),c.m(e,a)):c&&(c.d(1),c=null)},d(t){t&&h(e),l&&l.d(),c&&c.d()}}}function se(t){let e,n,i=t[67].icon+"";return{c(){e=m("i"),n=w(i),g(e,"class","material-icons text-muted")},m(t,i){u(t,e,i),f(e,n)},p(t,e){1024&e[0]&&i!==(i=t[67].icon+"")&&v(n,i)},d(t){t&&h(e)}}}function le(t){let e,n,i,a,s,l=t[10].toggleWidgetData[t[9]]==t[67].items[0]+"_dsc"||t[10].toggleWidgetData[t[9]]!=t[67].items[0]+"_asc"?"trending_up":"trending_down";function c(...e){return t[19](t[67],...e)}return{c(){e=m("a"),n=m("i"),i=w(l),g(n,"class","material-icons"),k(n,"text-muted",t[10].toggleWidgetData[t[9]]!=t[67].items[0]+"_asc"&&t[10].toggleWidgetData[t[9]]!=t[67].items[0]+"_dsc")},m(t,l){u(t,e,l),f(e,n),f(n,i),a||(s=b(e,"click",c),a=!0)},p(e,a){t=e,1536&a[0]&&l!==(l=t[10].toggleWidgetData[t[9]]==t[67].items[0]+"_dsc"||t[10].toggleWidgetData[t[9]]!=t[67].items[0]+"_asc"?"trending_up":"trending_down")&&v(i,l),1536&a[0]&&k(n,"text-muted",t[10].toggleWidgetData[t[9]]!=t[67].items[0]+"_asc"&&t[10].toggleWidgetData[t[9]]!=t[67].items[0]+"_dsc")},d(t){t&&h(e),a=!1,s()}}}function ce(t){let e,n=1==t[67].cenabl&&!t[67].iconm&&ae(t);return{c(){n&&n.c(),e=_()},m(t,i){n&&n.m(t,i),u(t,e,i)},p(t,i){1!=t[67].cenabl||t[67].iconm?n&&(n.d(1),n=null):n?n.p(t,i):(n=ae(t),n.c(),n.m(e.parentNode,e))},d(t){t&&h(e),n&&n.d(t)}}}function oe(t){let e;return{c(){e=m("th"),e.innerHTML='<span class="material-icons">label</span>',g(e,"width","25%")},m(t,n){u(t,e,n)},d(t){t&&h(e)}}}function de(t){let e,n,i;return{c(){e=m("i"),n=w("chat"),g(e,"title",i=t[11]("widget_title.pending_chats")),g(e,"class","material-icons chat-pending")},m(t,i){u(t,e,i),f(e,n)},p(t,n){2048&n[0]&&i!==(i=t[11]("widget_title.pending_chats"))&&g(e,"title",i)},d(t){t&&h(e)}}}function re(t){let e,n,i;return{c(){e=m("i"),n=w("access_time"),g(e,"title",i=t[11]("widget.last_activity_ago")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){2048&n[0]&&i!==(i=t[11]("widget.last_activity_ago"))&&g(e,"title",i)},d(t){t&&h(e)}}}function _e(t){let e,n,i;return{c(){e=m("i"),n=w("access_time"),g(e,"title",i=t[11]("widget.wait_time")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){2048&n[0]&&i!==(i=t[11]("widget.wait_time"))&&g(e,"title",i)},d(t){t&&h(e)}}}function ue(t){let e,n,i;return{c(){e=m("i"),n=w("access_time"),g(e,"title",i=t[11]("widget.last_message")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){2048&n[0]&&i!==(i=t[11]("widget.last_message"))&&g(e,"title",i)},d(t){t&&h(e)}}}function pe(t){let e,n,i;return{c(){e=m("i"),n=w("access_time"),g(e,"title",i=t[11]("widget.time_ago")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){2048&n[0]&&i!==(i=t[11]("widget.time_ago"))&&g(e,"title",i)},d(t){t&&h(e)}}}function he(t){let e,n,i,a,s,l,c,o,d,_,p,y="lmt_dsc"==t[10].toggleWidgetData[t[0]]||"lmt_asc"!=t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down",x="id_dsc"==t[10].toggleWidgetData[t[0]]||"id_asc"!=t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("a"),n=m("i"),i=w(y),s=r(),l=m("a"),c=m("i"),o=w(x),g(n,"title",a=t[11]("widget.sort_by_last_msg_time")),g(n,"class","material-icons"),k(n,"text-muted","lmt_asc"!=t[10].toggleWidgetData[t[0]]&&"lmt_dsc"!=t[10].toggleWidgetData[t[0]]),g(c,"title",d=t[11]("widget.sort_by_start_time")),g(c,"class","material-icons"),k(c,"text-muted","id_asc"!=t[10].toggleWidgetData[t[0]]&&"id_dsc"!=t[10].toggleWidgetData[t[0]])},m(a,d){u(a,e,d),f(e,n),f(n,i),u(a,s,d),u(a,l,d),f(l,c),f(c,o),_||(p=[b(e,"click",t[20]),b(l,"click",t[21])],_=!0)},p(t,e){1025&e[0]&&y!==(y="lmt_dsc"==t[10].toggleWidgetData[t[0]]||"lmt_asc"!=t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(i,y),2048&e[0]&&a!==(a=t[11]("widget.sort_by_last_msg_time"))&&g(n,"title",a),1025&e[0]&&k(n,"text-muted","lmt_asc"!=t[10].toggleWidgetData[t[0]]&&"lmt_dsc"!=t[10].toggleWidgetData[t[0]]),1025&e[0]&&x!==(x="id_dsc"==t[10].toggleWidgetData[t[0]]||"id_asc"!=t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(o,x),2048&e[0]&&d!==(d=t[11]("widget.sort_by_start_time"))&&g(c,"title",d),1025&e[0]&&k(c,"text-muted","id_asc"!=t[10].toggleWidgetData[t[0]]&&"id_dsc"!=t[10].toggleWidgetData[t[0]])},d(t){t&&(h(e),h(s),h(l)),_=!1,j(p)}}}function me(t){let e,n,i;return{c(){e=m("i"),n=w("access_time"),g(e,"title",i=t[11]("widget.time_since_last_msg")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){2048&n[0]&&i!==(i=t[11]("widget.time_since_last_msg"))&&g(e,"title",i)},d(t){t&&h(e)}}}function ge(t){let e,n,i;return{c(){e=m("i"),n=w("access_time"),g(e,"title",i=t[11]("widget.created_at")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){2048&n[0]&&i!==(i=t[11]("widget.created_at"))&&g(e,"title",i)},d(t){t&&h(e)}}}function fe(t){let e,n,i,a,s,l,c,o,d,_,p,y="ac_dsc"==t[10].toggleWidgetData[t[0]]||"ac_asc"!=t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("th"),n=m("a"),i=m("i"),a=w("chat"),l=r(),c=m("i"),o=w(y),g(i,"title",s=t[11]("widget_title.active_chats")),g(i,"class","material-icons chat-active"),g(c,"title",d=t[11]("widget.sort_by_chat_number")),g(c,"class","material-icons"),k(c,"text-muted","ac_dsc"!=t[10].toggleWidgetData[t[0]]&&"ac_asc"!=t[10].toggleWidgetData[t[0]]),g(e,"width","15%")},m(s,d){u(s,e,d),f(e,n),f(n,i),f(i,a),f(n,l),f(n,c),f(c,o),_||(p=b(n,"click",t[22]),_=!0)},p(t,e){2048&e[0]&&s!==(s=t[11]("widget_title.active_chats"))&&g(i,"title",s),1025&e[0]&&y!==(y="ac_dsc"==t[10].toggleWidgetData[t[0]]||"ac_asc"!=t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(o,y),2048&e[0]&&d!==(d=t[11]("widget.sort_by_chat_number"))&&g(c,"title",d),1025&e[0]&&k(c,"text-muted","ac_dsc"!=t[10].toggleWidgetData[t[0]]&&"ac_asc"!=t[10].toggleWidgetData[t[0]])},d(t){t&&h(e),_=!1,p()}}}function we(t){let e,n,i,a,s,l,c,o="op_dsc"==t[10].toggleWidgetData[t[0]]||"op_asc"!=t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("th"),n=m("a"),i=m("i"),a=w(o),g(i,"title",s=t[11]("widget.sort_by_op")),g(i,"class","material-icons"),k(i,"text-muted","op_asc"!=t[10].toggleWidgetData[t[0]]&&"op_dsc"!=t[10].toggleWidgetData[t[0]]),g(e,"width","20%")},m(s,o){u(s,e,o),f(e,n),f(n,i),f(i,a),l||(c=b(n,"click",t[23]),l=!0)},p(t,e){1025&e[0]&&o!==(o="op_dsc"==t[10].toggleWidgetData[t[0]]||"op_asc"!=t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(a,o),2048&e[0]&&s!==(s=t[11]("widget.sort_by_op"))&&g(i,"title",s),1025&e[0]&&k(i,"text-muted","op_asc"!=t[10].toggleWidgetData[t[0]]&&"op_dsc"!=t[10].toggleWidgetData[t[0]])},d(t){t&&h(e),l=!1,c()}}}function ve(t){let e,n,i,a,s,l,c,o,d;return{c(){e=m("th"),n=m("i"),i=w("chat"),s=r(),l=m("th"),c=m("i"),o=w("android"),g(n,"title",a=t[11]("widget_title.active_chats")),g(n,"class","material-icons chat-active"),g(e,"width","12%"),g(c,"title",d=t[11]("widget_title.bot_chats")),g(c,"class","material-icons chat-active"),g(l,"width","12%")},m(t,a){u(t,e,a),f(e,n),f(n,i),u(t,s,a),u(t,l,a),f(l,c),f(c,o)},p(t,e){2048&e[0]&&a!==(a=t[11]("widget_title.active_chats"))&&g(n,"title",a),2048&e[0]&&d!==(d=t[11]("widget_title.bot_chats"))&&g(c,"title",d)},d(t){t&&(h(e),h(s),h(l))}}}function be(t){let e,n,i;return{c(){e=m("i"),n=w("donut_large"),g(e,"title",i=t[11]("widget.load_statistic")),g(e,"class","material-icons text-info")},m(t,i){u(t,e,i),f(e,n)},p(t,n){2048&n[0]&&i!==(i=t[11]("widget.load_statistic"))&&g(e,"title",i)},d(t){t&&h(e)}}}function ye(t){let e,n,i;return{c(){e=m("i"),n=w("home"),g(e,"title",i=t[11]("widget.department")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){2048&n[0]&&i!==(i=t[11]("widget.department"))&&g(e,"title",i)},d(t){t&&h(e)}}}function xe(t){let e,n,i,a,s,l,c="dep_dsc"==t[10].toggleWidgetData[t[0]]||"dep_asc"!=t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=m("a"),n=m("i"),i=w(c),g(n,"title",a=t[11]("widget.sort_by_dep")),g(n,"class","material-icons"),k(n,"text-muted","dep_asc"!=t[10].toggleWidgetData[t[0]]&&"dep_dsc"!=t[10].toggleWidgetData[t[0]])},m(a,c){u(a,e,c),f(e,n),f(n,i),s||(l=b(e,"click",t[24]),s=!0)},p(t,e){1025&e[0]&&c!==(c="dep_dsc"==t[10].toggleWidgetData[t[0]]||"dep_asc"!=t[10].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(i,c),2048&e[0]&&a!==(a=t[11]("widget.sort_by_dep"))&&g(n,"title",a),1025&e[0]&&k(n,"text-muted","dep_asc"!=t[10].toggleWidgetData[t[0]]&&"dep_dsc"!=t[10].toggleWidgetData[t[0]])},d(t){t&&h(e),s=!1,l()}}}function je(t){let e,n,i;return{c(){e=m("i"),n=w("access_time"),g(e,"title",i=t[11]("widget.time_ago")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){2048&n[0]&&i!==(i=t[11]("widget.time_ago"))&&g(e,"title",i)},d(t){t&&h(e)}}}function ke(t){let e,n,i=[],a=new Map,s=C(t[10][t[1]].list);const l=t=>t[57].id;for(let e=0;e<s.length;e+=1){let n=Rt(t,s,e),c=l(n);a.set(c,i[e]=Pn(c,n))}let c="group_chats"==t[1]&&Tn(t);return{c(){e=m("tbody");for(let t=0;t<i.length;t+=1)i[t].c();n=r(),c&&c.c()},m(t,a){u(t,e,a);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,null);f(e,n),c&&c.m(e,null)},p(t,o){31786&o[0]&&(s=C(t[10][t[1]].list),i=S(i,o,l,1,t,s,a,e,P,Pn,n,Rt)),"group_chats"==t[1]?c?c.p(t,o):(c=Tn(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(t){t&&h(e);for(let t=0;t<i.length;t+=1)i[t].d();c&&c.d()}}}function $e(t){let e,n,i,a=C(t[10][t[1]].list),s=[];for(let e=0;e<a.length;e+=1)s[e]=Rn(Qt(t,a,e));let l=t[10].transfer_dep_chats.list.length>0&&En(t);return{c(){e=m("tbody");for(let t=0;t<s.length;t+=1)s[t].c();n=r(),l&&l.c(),i=_()},m(t,a){u(t,e,a);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);u(t,n,a),l&&l.m(t,a),u(t,i,a)},p(t,n){if(3082&n[0]){let i;for(a=C(t[10][t[1]].list),i=0;i<a.length;i+=1){const l=Qt(t,a,i);s[i]?s[i].p(l,n):(s[i]=Rn(l),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=a.length}t[10].transfer_dep_chats.list.length>0?l?l.p(t,n):(l=En(t),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},d(t){t&&(h(e),h(n),h(i)),D(s,t),l&&l.d(t)}}}function We(t){let e,n,i=!t[10].departmentd_hide_dgroup&&Hn(t),a=!t[10].departmentd_hide_dep&&t[10].departments_stats.list.length>0&&Qn(t);return{c(){i&&i.c(),e=r(),a&&a.c(),n=_()},m(t,s){i&&i.m(t,s),u(t,e,s),a&&a.m(t,s),u(t,n,s)},p(t,s){t[10].departmentd_hide_dgroup?i&&(i.d(1),i=null):i?i.p(t,s):(i=Hn(t),i.c(),i.m(e.parentNode,e)),!t[10].departmentd_hide_dep&&t[10].departments_stats.list.length>0?a?a.p(t,s):(a=Qn(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(t){t&&(h(e),h(n)),i&&i.d(t),a&&a.d(t)}}}function Ce(t){let e,n,i,a,s,l,c,o,d,_,p,w="pending_chats"==t[1]&&-1!==t[5].indexOf("lhchat_deletechat"),v=t[57].can_edit_chat&&"pending_chats"==t[1]&&-1!==t[5].indexOf("lhchat_redirectcontact"),b="subject_chats"==t[1]&&Le(t),y=w&&Se(t),x=t[57].country_code&&Pe(t),j=v&&Te(t);function k(t,e){return"my_mails"==t[1]?Oe:Ae}let $=k(t),W=$(t),C=7==t[57].status_sub&&Ee(t),D="bot_chats"==t[1]&&Ne(t),I=t[57].hum&&("active_chats"==t[1]||"my_chats"==t[1])&&He(t),L=t[57].aicons&&Je(t),S=t[10].additionalColumns&&Qe(t),P="my_mails"!=t[1]&&Ue(t);return{c(){e=m("div"),b&&b.c(),n=r(),y&&y.c(),i=r(),x&&x.c(),a=r(),j&&j.c(),s=r(),W.c(),l=r(),C&&C.c(),c=r(),D&&D.c(),o=r(),I&&I.c(),d=r(),L&&L.c(),_=r(),S&&S.c(),p=r(),P&&P.c(),g(e,"class","abbr-list")},m(t,r){u(t,e,r),b&&b.m(e,null),f(e,n),y&&y.m(e,null),f(e,i),x&&x.m(e,null),f(e,a),j&&j.m(e,null),f(e,s),W.m(e,null),f(e,l),C&&C.m(e,null),f(e,c),D&&D.m(e,null),f(e,o),I&&I.m(e,null),f(e,d),L&&L.m(e,null),f(e,_),S&&S.m(e,null),f(e,p),P&&P.m(e,null)},p(t,r){"subject_chats"==t[1]?b?b.p(t,r):(b=Le(t),b.c(),b.m(e,n)):b&&(b.d(1),b=null),34&r[0]&&(w="pending_chats"==t[1]&&-1!==t[5].indexOf("lhchat_deletechat")),w?y?y.p(t,r):(y=Se(t),y.c(),y.m(e,i)):y&&(y.d(1),y=null),t[57].country_code?x?x.p(t,r):(x=Pe(t),x.c(),x.m(e,a)):x&&(x.d(1),x=null),1058&r[0]&&(v=t[57].can_edit_chat&&"pending_chats"==t[1]&&-1!==t[5].indexOf("lhchat_redirectcontact")),v?j?j.p(t,r):(j=Te(t),j.c(),j.m(e,s)):j&&(j.d(1),j=null),$===($=k(t))&&W?W.p(t,r):(W.d(1),W=$(t),W&&(W.c(),W.m(e,l))),7==t[57].status_sub?C?C.p(t,r):(C=Ee(t),C.c(),C.m(e,c)):C&&(C.d(1),C=null),"bot_chats"==t[1]?D?D.p(t,r):(D=Ne(t),D.c(),D.m(e,o)):D&&(D.d(1),D=null),!t[57].hum||"active_chats"!=t[1]&&"my_chats"!=t[1]?I&&(I.d(1),I=null):I?I.p(t,r):(I=He(t),I.c(),I.m(e,d)),t[57].aicons?L?L.p(t,r):(L=Je(t),L.c(),L.m(e,_)):L&&(L.d(1),L=null),t[10].additionalColumns?S?S.p(t,r):(S=Qe(t),S.c(),S.m(e,p)):S&&(S.d(1),S=null),"my_mails"!=t[1]?P?P.p(t,r):(P=Ue(t),P.c(),P.m(e,null)):P&&(P.d(1),P=null)},d(t){t&&h(e),b&&b.d(),y&&y.d(),x&&x.d(),j&&j.d(),W.d(),C&&C.d(),D&&D.d(),I&&I.d(),L&&L.d(),S&&S.d(),P&&P.d()}}}function De(t){let e,n,i,a,s,l,c,o,d,_,p,y=1==t[57].type?"security":"public",x=t[57].tm+"",j=t[57].name+"",k=1==t[57].is_member&&(!t[57].ls_id||t[57].ls_id<t[57].last_msg_id)&&Ke(t),$=t[57].user_id==t[10].current_user_id&&Ye();function W(...e){return t[36](t[57],...e)}return{c(){e=m("div"),n=m("a"),k&&k.c(),i=r(),a=m("i"),s=w(y),$&&$.c(),l=w("["),c=w(x),o=w("] "),d=w(j),g(a,"class","material-icons"),g(n,"class","d-block action-image"),g(e,"class","abbr-list")},m(t,r){u(t,e,r),f(e,n),k&&k.m(n,null),f(n,i),f(n,a),f(a,s),$&&$.m(n,null),f(n,l),f(n,c),f(n,o),f(n,d),_||(p=b(n,"click",W),_=!0)},p(e,a){1==(t=e)[57].is_member&&(!t[57].ls_id||t[57].ls_id<t[57].last_msg_id)?k?k.p(t,a):(k=Ke(t),k.c(),k.m(n,i)):k&&(k.d(1),k=null),1026&a[0]&&y!==(y=1==t[57].type?"security":"public")&&v(s,y),t[57].user_id==t[10].current_user_id?$||($=Ye(),$.c(),$.m(n,l)):$&&($.d(1),$=null),1026&a[0]&&x!==(x=t[57].tm+"")&&v(c,x),1026&a[0]&&j!==(j=t[57].name+"")&&v(d,j)},d(t){t&&h(e),k&&k.d(),$&&$.d(),_=!1,p()}}}function Ie(t){let e,n,i,a,s,l,c=t[57].user_id!=t[10].current_user_id&&-1!==t[5].indexOf("lhgroupchat_use"),o=t[57].avatar&&ze(t),d=c&&Ze(t);function p(t,e){return 32&e[0]&&(i=null),null==i&&(i=!(-1===t[5].indexOf("lhuser_setopstatus"))),i?en:tn}let m=p(t,[-1,-1,-1]),g=m(t);function f(t,e){return 32&e[0]&&(s=null),null==s&&(s=!(-1===t[5].indexOf("lhstatistic_userstats"))),s?an:nn}let w=f(t,[-1,-1,-1]),v=w(t);return{c(){o&&o.c(),e=r(),d&&d.c(),n=r(),g.c(),a=r(),v.c(),l=_()},m(t,i){o&&o.m(t,i),u(t,e,i),d&&d.m(t,i),u(t,n,i),g.m(t,i),u(t,a,i),v.m(t,i),u(t,l,i)},p(t,i){t[57].avatar?o?o.p(t,i):(o=ze(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),1058&i[0]&&(c=t[57].user_id!=t[10].current_user_id&&-1!==t[5].indexOf("lhgroupchat_use")),c?d?d.p(t,i):(d=Ze(t),d.c(),d.m(n.parentNode,n)):d&&(d.d(1),d=null),m===(m=p(t,i))&&g?g.p(t,i):(g.d(1),g=m(t),g&&(g.c(),g.m(a.parentNode,a))),w===(w=f(t,i))&&v?v.p(t,i):(v.d(1),v=w(t),v&&(v.c(),v.m(l.parentNode,l)))},d(t){t&&(h(e),h(n),h(a),h(l)),o&&o.d(t),d&&d.d(t),g.d(t),v.d(t)}}}function Le(t){let e,n,i=5==t[57].status?"android":"chat";return{c(){e=m("span"),n=w(i),g(e,"class","material-icons chat-pending"),k(e,"chat-active",1==t[57].status||5==t[57].status)},m(t,i){u(t,e,i),f(e,n)},p(t,a){1026&a[0]&&i!==(i=5==t[57].status?"android":"chat")&&v(n,i),1026&a[0]&&k(e,"chat-active",1==t[57].status||5==t[57].status)},d(t){t&&h(e)}}}function Se(t){let e,n,i,a,s;function l(...e){return t[37](t[57],...e)}return{c(){e=m("a"),n=w("delete"),g(e,"title",i=t[11]("widget.delete_chat")),g(e,"class","material-icons float-end")},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",l),a=!0)},p(n,a){t=n,2048&a[0]&&i!==(i=t[11]("widget.delete_chat"))&&g(e,"title",i)},d(t){t&&h(e),a=!1,s()}}}function Pe(t){let e,n,i,a,s;return{c(){e=m("span"),n=m("img"),O(n.src,i=t[3]+"/"+t[57].country_code+".png")||g(n,"src",i),g(n,"alt",a=t[57].country_name),g(n,"title",s=t[57].country_name)},m(t,i){u(t,e,i),f(e,n)},p(t,e){1034&e[0]&&!O(n.src,i=t[3]+"/"+t[57].country_code+".png")&&g(n,"src",i),1026&e[0]&&a!==(a=t[57].country_name)&&g(n,"alt",a),1026&e[0]&&s!==(s=t[57].country_name)&&g(n,"title",s)},d(t){t&&h(e)}}}function Te(t){let e,n,i,a,s;function l(...e){return t[38](t[57],...e)}return{c(){e=m("a"),n=w("reply"),g(e,"class","material-icons me-0"),g(e,"title",i=t[11]("widget.redirect_contact"))},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",l),a=!0)},p(n,a){t=n,2048&a[0]&&i!==(i=t[11]("widget.redirect_contact"))&&g(e,"title",i)},d(t){t&&h(e),a=!1,s()}}}function Ae(t){let e,n,i,a,s;function l(...e){return t[40](t[57],...e)}return{c(){e=m("a"),n=w("info_outline"),g(e,"title",i="["+t[57].id+"] "+t[57].time_created_front),g(e,"class","material-icons me-0")},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",l),a=!0)},p(n,a){t=n,1026&a[0]&&i!==(i="["+t[57].id+"] "+t[57].time_created_front)&&g(e,"title",i)},d(t){t&&h(e),a=!1,s()}}}function Oe(t){let e,n,i,a,s,l,c,o,d,_,p,y=t[57].from_name+"",x=t[57].subject_front+"",j=1!=t[57].status&&Re();function k(...e){return t[39](t[57],...e)}return{c(){j&&j.c(),e=r(),n=m("a"),i=w("info_outline"),s=m("span"),l=w(y),c=w(" | "),o=w(x),g(n,"title",a=t[57].id),g(n,"class","material-icons"),g(s,"title",d=t[57].from_address)},m(t,a){j&&j.m(t,a),u(t,e,a),u(t,n,a),f(n,i),u(t,s,a),f(s,l),f(s,c),f(s,o),_||(p=b(n,"click",k),_=!0)},p(i,c){1!=(t=i)[57].status?j||(j=Re(),j.c(),j.m(e.parentNode,e)):j&&(j.d(1),j=null),1026&c[0]&&a!==(a=t[57].id)&&g(n,"title",a),1026&c[0]&&y!==(y=t[57].from_name+"")&&v(l,y),1026&c[0]&&x!==(x=t[57].subject_front+"")&&v(o,x),1026&c[0]&&d!==(d=t[57].from_address)&&g(s,"title",d)},d(t){t&&(h(e),h(n),h(s)),j&&j.d(t),_=!1,p()}}}function Re(t){let e;return{c(){e=m("i"),e.textContent="",g(e,"title","Pending chat"),g(e,"class","material-icons me-0 chat-unread")},m(t,n){u(t,e,n)},d(t){t&&h(e)}}}function Ee(t){let e,n,i;return{c(){e=m("i"),n=w("mail"),g(e,"class","material-icons me-0"),g(e,"title",i=t[11]("widget.offline_request"))},m(t,i){u(t,e,i),f(e,n)},p(t,n){2048&n[0]&&i!==(i=t[11]("widget.offline_request"))&&g(e,"title",i)},d(t){t&&h(e)}}}function Ne(t){let e,n,i,a,s,l,c,o=(t[57].msg_v||0)+"",d=t[57].msg_v>t[10].bot_st.msg_nm&&Ve(t);return{c(){e=m("span"),n=w("["),i=w(o),a=w("]"),l=r(),d&&d.c(),c=_(),g(e,"title",s=t[11]("widget.msg_v_number"))},m(t,s){u(t,e,s),f(e,n),f(e,i),f(e,a),u(t,l,s),d&&d.m(t,s),u(t,c,s)},p(t,n){1026&n[0]&&o!==(o=(t[57].msg_v||0)+"")&&v(i,o),2048&n[0]&&s!==(s=t[11]("widget.msg_v_number"))&&g(e,"title",s),t[57].msg_v>t[10].bot_st.msg_nm?d?d.p(t,n):(d=Ve(t),d.c(),d.m(c.parentNode,c)):d&&(d.d(1),d=null)},d(t){t&&(h(e),h(l),h(c)),d&&d.d(t)}}}function Ve(t){let e,n,i;return{c(){e=m("i"),n=w("whatshot"),g(e,"title",i=t[11]("widget.more_than")+" "+String(t[10].bot_st.msg_nm)+" "+t[11]("widget.user_msgs")),g(e,"class","material-icons text-warning me-0")},m(t,i){u(t,e,i),f(e,n)},p(t,n){3072&n[0]&&i!==(i=t[11]("widget.more_than")+" "+String(t[10].bot_st.msg_nm)+" "+t[11]("widget.user_msgs"))&&g(e,"title",i)},d(t){t&&h(e)}}}function He(t){let e,n,i;return{c(){e=m("i"),n=w("feedback"),g(e,"title",i=t[11]("widget.has_unread_messages")),g(e,"class","material-icons me-0 text-danger")},m(t,i){u(t,e,i),f(e,n)},p(t,n){2048&n[0]&&i!==(i=t[11]("widget.has_unread_messages"))&&g(e,"title",i)},d(t){t&&h(e)}}}function Je(t){let e,n=C(Object.entries(t[57].aicons)),i=[];for(let e=0;e<n.length;e+=1)i[e]=Me(Gt(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=_()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);u(t,e,n)},p(t,a){if(1026&a[0]){let s;for(n=C(Object.entries(t[57].aicons)),s=0;s<n.length;s+=1){const l=Gt(t,n,s);i[s]?i[s].p(l,a):(i[s]=Me(l),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&h(e),D(i,t)}}}function Ge(t){let e,n,i,a=(t[78].i||t[78])+"";return{c(){e=m("i"),n=w(a),g(e,"class","material-icons me-0"),g(e,"title",i=t[78].t?t[78].t:t[78].i),R(e,"color",t[78].c?t[78].c:"#6c757d")},m(t,i){u(t,e,i),f(e,n)},p(t,s){1026&s[0]&&a!==(a=(t[78].i||t[78])+"")&&v(n,a),1026&s[0]&&i!==(i=t[78].t?t[78].t:t[78].i)&&g(e,"title",i),1026&s[0]&&R(e,"color",t[78].c?t[78].c:"#6c757d")},d(t){t&&h(e)}}}function Me(t){let e,n=0==t[10].excludeIcons.length||-1===t[10].excludeIcons.indexOf(t[78].i),i=n&&Ge(t);return{c(){i&&i.c(),e=_()},m(t,n){i&&i.m(t,n),u(t,e,n)},p(t,a){1026&a[0]&&(n=0==t[10].excludeIcons.length||-1===t[10].excludeIcons.indexOf(t[78].i)),n?i?i.p(t,a):(i=Ge(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&h(e),i&&i.d(t)}}}function Qe(t){let e,n=C(t[10].additionalColumns),i=[];for(let e=0;e<n.length;e+=1)i[e]=Xe(Ht(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=_()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);u(t,e,n)},p(t,a){if(1026&a[0]){let s;for(n=C(t[10].additionalColumns),s=0;s<n.length;s+=1){const l=Ht(t,n,s);i[s]?i[s].p(l,a):(i[s]=Xe(l),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&h(e),D(i,t)}}}function Be(t){let e,n=C(t[67].items),i=[];for(let e=0;e<n.length;e+=1)i[e]=qe(Jt(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=_()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);u(t,e,n)},p(t,a){if(1026&a[0]){let s;for(n=C(t[67].items),s=0;s<n.length;s+=1){const l=Jt(t,n,s);i[s]?i[s].p(l,a):(i[s]=qe(l),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&h(e),D(i,t)}}}function Fe(t){let e,n,i,a,s,l=t[67].icon[t[57][t[70]]].icon+"";function c(...e){return t[41](t[67],t[57],...e)}return{c(){e=m("span"),n=w(l),g(e,"class","material-icons me-0"),g(e,"title",i=(1==t[67].iconp?"Click for more information | ":"")+(t[57][t[70]+"_tt"]?t[57][t[70]+"_tt"]:t[57][t[70]])),R(e,"color",t[67].icon[t[57][t[70]]].color)},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",c),a=!0)},p(a,s){t=a,1026&s[0]&&l!==(l=t[67].icon[t[57][t[70]]].icon+"")&&v(n,l),1026&s[0]&&i!==(i=(1==t[67].iconp?"Click for more information | ":"")+(t[57][t[70]+"_tt"]?t[57][t[70]+"_tt"]:t[57][t[70]]))&&g(e,"title",i),1026&s[0]&&R(e,"color",t[67].icon[t[57][t[70]]].color)},d(t){t&&h(e),a=!1,s()}}}function qe(t){let e,n=t[57][t[70]]&&Fe(t);return{c(){n&&n.c(),e=_()},m(t,i){n&&n.m(t,i),u(t,e,i)},p(t,i){t[57][t[70]]?n?n.p(t,i):(n=Fe(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&h(e),n&&n.d(t)}}}function Xe(t){let e,n=1==t[67].cenabl&&1==t[67].iconm&&Be(t);return{c(){n&&n.c(),e=_()},m(t,i){n&&n.m(t,i),u(t,e,i)},p(t,i){1==t[67].cenabl&&1==t[67].iconm?n?n.p(t,i):(n=Be(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&h(e),n&&n.d(t)}}}function Ue(t){let e,n,i,a=t[57].nick+"",s="pending_chats"!=t[1]&&"subject_chats"!=t[1]||void 0===t[57].plain_user_name?"":" | "+t[57].plain_user_name;return{c(){e=w(a),n=m("small"),i=w(s)},m(t,a){u(t,e,a),u(t,n,a),f(n,i)},p(t,n){1026&n[0]&&a!==(a=t[57].nick+"")&&v(e,a),1026&n[0]&&s!==(s="pending_chats"!=t[1]&&"subject_chats"!=t[1]||void 0===t[57].plain_user_name?"":" | "+t[57].plain_user_name)&&v(i,s)},d(t){t&&(h(e),h(n))}}}function Ke(t){let e,n,i;return{c(){e=m("i"),n=w("whatshot"),g(e,"class","material-icons text-warning"),g(e,"title",i=t[11]("group_chat.unread_messages"))},m(t,i){u(t,e,i),f(e,n)},p(t,n){2048&n[0]&&i!==(i=t[11]("group_chat.unread_messages"))&&g(e,"title",i)},d(t){t&&h(e)}}}function Ye(t){let e;return{c(){e=m("i"),e.textContent="account_balance",g(e,"class","material-icons")},m(t,n){u(t,e,n)},d(t){t&&h(e)}}}function ze(t){let e,n;return{c(){e=m("img"),g(e,"class","rounded-circle"),O(e.src,n=t[57].avatar)||g(e,"src",n),g(e,"alt",""),g(e,"width","20")},m(t,n){u(t,e,n)},p(t,i){1026&i[0]&&!O(e.src,n=t[57].avatar)&&g(e,"src",n)},d(t){t&&h(e)}}}function Ze(t){let e,n,i,a,s;function l(...e){return t[33](t[57],...e)}return{c(){e=m("a"),n=m("i"),n.textContent="chat",g(n,"class","material-icons"),g(e,"href","#"),g(e,"title",i=t[11]("widget.start_chat"))},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",l),a=!0)},p(n,a){t=n,2048&a[0]&&i!==(i=t[11]("widget.start_chat"))&&g(e,"title",i)},d(t){t&&h(e),a=!1,s()}}}function tn(t){let e,n,i=1==t[57].hide_online?"flash_off":"flash_on";return{c(){e=m("i"),n=w(i),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,e){1026&e[0]&&i!==(i=1==t[57].hide_online?"flash_off":"flash_on")&&v(n,i)},d(t){t&&h(e)}}}function en(t){let e,n,i,a,s,l=1==t[57].hide_online?"flash_off":"flash_on";function c(...e){return t[34](t[57],...e)}return{c(){e=m("i"),n=w(l),g(e,"class","material-icons action-image"),g(e,"title",i=t[11]("widget.change_op_status"))},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",c),a=!0)},p(a,s){t=a,1026&s[0]&&l!==(l=1==t[57].hide_online?"flash_off":"flash_on")&&v(n,l),2048&s[0]&&i!==(i=t[11]("widget.change_op_status"))&&g(e,"title",i)},d(t){t&&h(e),a=!1,s()}}}function nn(t){let e,n,i,a=(1==t[57].hide_online?t[57].offline_since:"")+"",s=t[57].name_official+"";return{c(){e=w(a),n=r(),i=w(s)},m(t,a){u(t,e,a),u(t,n,a),u(t,i,a)},p(t,n){1026&n[0]&&a!==(a=(1==t[57].hide_online?t[57].offline_since:"")+"")&&v(e,a),1026&n[0]&&s!==(s=t[57].name_official+"")&&v(i,s)},d(t){t&&(h(e),h(n),h(i))}}}function an(t){let e,n,i,a,s,l,c,o=(1==t[57].hide_online?t[57].offline_since:"")+"",d=t[57].name_official+"";function _(...e){return t[35](t[57],...e)}return{c(){e=m("a"),n=w(o),i=r(),a=w(d),g(e,"href","#"),g(e,"title",s=t[11]("widget.see_op_stats")),k(e,"text-muted",t[57].ro)},m(t,s){u(t,e,s),f(e,n),f(e,i),f(e,a),l||(c=b(e,"click",_),l=!0)},p(i,l){t=i,1026&l[0]&&o!==(o=(1==t[57].hide_online?t[57].offline_since:"")+"")&&v(n,o),1026&l[0]&&d!==(d=t[57].name_official+"")&&v(a,d),2048&l[0]&&s!==(s=t[11]("widget.see_op_stats"))&&g(e,"title",s),1026&l[0]&&k(e,"text-muted",t[57].ro)},d(t){t&&h(e),l=!1,c()}}}function sn(t){let e,n=C(t[10].additionalColumns),i=[];for(let e=0;e<n.length;e+=1)i[e]=dn(Nt(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=_()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);u(t,e,n)},p(t,a){if(1026&a[0]){let s;for(n=C(t[10].additionalColumns),s=0;s<n.length;s+=1){const l=Nt(t,n,s);i[s]?i[s].p(l,a):(i[s]=dn(l),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&h(e),D(i,t)}}}function ln(t){let e,n,i=C(t[67].items),a=[];for(let e=0;e<i.length;e+=1)a[e]=on(Vt(t,i,e));return{c(){e=m("td");for(let t=0;t<a.length;t+=1)a[t].c();n=r()},m(t,i){u(t,e,i);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,null);f(e,n)},p(t,s){if(1026&s[0]){let l;for(i=C(t[67].items),l=0;l<i.length;l+=1){const c=Vt(t,i,l);a[l]?a[l].p(c,s):(a[l]=on(c),a[l].c(),a[l].m(e,n))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}},d(t){t&&h(e),D(a,t)}}}function cn(t){let e,n,i=t[57][t[70]]+"";return{c(){e=m("div"),n=w(i),g(e,"class","abbr-list")},m(t,i){u(t,e,i),f(e,n)},p(t,e){1026&e[0]&&i!==(i=t[57][t[70]]+"")&&v(n,i)},d(t){t&&h(e)}}}function on(t){let e,n=t[57][t[70]]&&cn(t);return{c(){n&&n.c(),e=_()},m(t,i){n&&n.m(t,i),u(t,e,i)},p(t,i){t[57][t[70]]?n?n.p(t,i):(n=cn(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&h(e),n&&n.d(t)}}}function dn(t){let e,n=1==t[67].cenabl&&!t[67].iconm&&ln(t);return{c(){n&&n.c(),e=_()},m(t,i){n&&n.m(t,i),u(t,e,i)},p(t,i){1!=t[67].cenabl||t[67].iconm?n&&(n.d(1),n=null):n?n.p(t,i):(n=ln(t),n.c(),n.m(e.parentNode,e))},d(t){t&&h(e),n&&n.d(t)}}}function rn(t){let e,n=t[57].subject_list&&_n(t);return{c(){e=m("td"),n&&n.c()},m(t,i){u(t,e,i),n&&n.m(e,null)},p(t,i){t[57].subject_list?n?n.p(t,i):(n=_n(t),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(t){t&&h(e),n&&n.d()}}}function _n(t){let e,n=C(t[57].subject_list),i=[];for(let e=0;e<n.length;e+=1)i[e]=un(Et(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=_()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);u(t,e,n)},p(t,a){if(1026&a[0]){let s;for(n=C(t[57].subject_list),s=0;s<n.length;s+=1){const l=Et(t,n,s);i[s]?i[s].p(l,a):(i[s]=un(l),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&h(e),D(i,t)}}}function un(t){let e,n,i=t[64]+"";return{c(){e=m("span"),n=w(i),g(e,"class","badge bg-info fs12 me-1")},m(t,i){u(t,e,i),f(e,n)},p(t,e){1026&e[0]&&i!==(i=t[64]+"")&&v(n,i)},d(t){t&&h(e)}}}function pn(t){let e,n,i,a,s=1==t[57].is_member&&0==t[57].jtime&&hn(t),l=1==t[57].is_member&&0==t[57].jtime&&mn(t),c=0==t[57].is_member&&0==t[57].jtime&&gn(t),o=1==t[57].is_member&&t[57].jtime>0&&fn(t);return{c(){s&&s.c(),e=r(),l&&l.c(),n=r(),c&&c.c(),i=r(),o&&o.c(),a=_()},m(t,d){s&&s.m(t,d),u(t,e,d),l&&l.m(t,d),u(t,n,d),c&&c.m(t,d),u(t,i,d),o&&o.m(t,d),u(t,a,d)},p(t,d){1==t[57].is_member&&0==t[57].jtime?s?s.p(t,d):(s=hn(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),1==t[57].is_member&&0==t[57].jtime?l?l.p(t,d):(l=mn(t),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null),0==t[57].is_member&&0==t[57].jtime?c?c.p(t,d):(c=gn(t),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null),1==t[57].is_member&&t[57].jtime>0?o?o.p(t,d):(o=fn(t),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d(t){t&&(h(e),h(n),h(i),h(a)),s&&s.d(t),l&&l.d(t),c&&c.d(t),o&&o.d(t)}}}function hn(t){let e,n,i,a,s;function l(...e){return t[42](t[57],...e)}return{c(){e=m("button"),n=w("Accept invite"),g(e,"title",i=t[11]("group_chat.accept_join")),g(e,"class","btn btn-xs btn-outline-info")},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",l),a=!0)},p(n,a){t=n,2048&a[0]&&i!==(i=t[11]("group_chat.accept_join"))&&g(e,"title",i)},d(t){t&&h(e),a=!1,s()}}}function mn(t){let e,n,i,a,s;function l(...e){return t[43](t[57],...e)}return{c(){e=m("button"),n=w("Reject invite"),g(e,"title",i=t[11]("group_chat.reject_private")),g(e,"class","btn btn-xs btn-outline-danger")},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",l),a=!0)},p(n,a){t=n,2048&a[0]&&i!==(i=t[11]("group_chat.reject_private"))&&g(e,"title",i)},d(t){t&&h(e),a=!1,s()}}}function gn(t){let e,n,i,a,s;function l(...e){return t[44](t[57],...e)}return{c(){e=m("button"),n=w("Join public chat"),g(e,"title",i=t[11]("group_chat.join_public")),g(e,"class","btn btn-xs btn-outline-info")},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",l),a=!0)},p(n,a){t=n,2048&a[0]&&i!==(i=t[11]("group_chat.join_public"))&&g(e,"title",i)},d(t){t&&h(e),a=!1,s()}}}function fn(t){let e,n,i,a,s;function l(...e){return t[45](t[57],...e)}return{c(){e=m("button"),n=w("Member"),g(e,"title",i=t[11]("group_chat.already_member")),g(e,"class","btn btn-xs btn-outline-secondary")},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",l),a=!0)},p(n,a){t=n,2048&a[0]&&i!==(i=t[11]("group_chat.already_member"))&&g(e,"title",i)},d(t){t&&h(e),a=!1,s()}}}function wn(t){let e,n,i,a=t[57].wait_time_pending+"";return{c(){e=m("div"),n=w(a),g(e,"class","abbr-list"),g(e,"title",i=t[57].wait_time_pending)},m(t,i){u(t,e,i),f(e,n)},p(t,s){1026&s[0]&&a!==(a=t[57].wait_time_pending+"")&&v(n,a),1026&s[0]&&i!==(i=t[57].wait_time_pending)&&g(e,"title",i)},d(t){t&&h(e)}}}function vn(t){let e,n,i,a=t[57].wait_time_pending+"";return{c(){e=m("div"),n=w(a),g(e,"class","abbr-list"),g(e,"title",i=t[57].wait_time_pending)},m(t,i){u(t,e,i),f(e,n)},p(t,s){1026&s[0]&&a!==(a=t[57].wait_time_pending+"")&&v(n,a),1026&s[0]&&i!==(i=t[57].wait_time_pending)&&g(e,"title",i)},d(t){t&&h(e)}}}function bn(t){let e,n,i,a=t[57].lastactivity_ago+"";return{c(){e=m("div"),n=w(a),g(e,"class","abbr-list"),g(e,"title",i=t[57].lastactivity_ago)},m(t,i){u(t,e,i),f(e,n)},p(t,s){1026&s[0]&&a!==(a=t[57].lastactivity_ago+"")&&v(n,a),1026&s[0]&&i!==(i=t[57].lastactivity_ago)&&g(e,"title",i)},d(t){t&&h(e)}}}function yn(t){let e,n,i,a,s,l,c=!0===t[57].pnd_rsp?"call_received":"call_made",o=(t[57].last_msg_time_front?t[57].last_msg_time_front:"&#x2709;")+"";return{c(){e=m("div"),n=m("span"),i=w(c),s=w(o),g(n,"class","material-icons text-success"),g(n,"title",a=t[11]("widget.send_receive")),k(n,"text-danger",t[57].pnd_rsp),g(e,"class","abbr-list"),g(e,"title",l="Chat started at - "+t[57].time_created_front)},m(t,a){u(t,e,a),f(e,n),f(n,i),f(e,s)},p(t,d){1026&d[0]&&c!==(c=!0===t[57].pnd_rsp?"call_received":"call_made")&&v(i,c),2048&d[0]&&a!==(a=t[11]("widget.send_receive"))&&g(n,"title",a),1026&d[0]&&k(n,"text-danger",t[57].pnd_rsp),1026&d[0]&&o!==(o=(t[57].last_msg_time_front?t[57].last_msg_time_front:"&#x2709;")+"")&&v(s,o),1026&d[0]&&l!==(l="Chat started at - "+t[57].time_created_front)&&g(e,"title",l)},d(t){t&&h(e)}}}function xn(t){let e,n,i,a,s,l,c,o,d=t[57].unread_time.hours+"",r=t[57].unread_time.minits+"",_=t[57].unread_time.seconds+"";return{c(){e=m("div"),n=w(d),i=w(" h. "),a=w(r),s=w(" m. "),l=w(_),c=w(" s."),g(e,"class","abbr-list"),g(e,"title",o=t[57].unread_time.hours+" h. "+t[57].unread_time.minits+" m. "+t[57].unread_time.seconds+" s.")},m(t,o){u(t,e,o),f(e,n),f(e,i),f(e,a),f(e,s),f(e,l),f(e,c)},p(t,i){1026&i[0]&&d!==(d=t[57].unread_time.hours+"")&&v(n,d),1026&i[0]&&r!==(r=t[57].unread_time.minits+"")&&v(a,r),1026&i[0]&&_!==(_=t[57].unread_time.seconds+"")&&v(l,_),1026&i[0]&&o!==(o=t[57].unread_time.hours+" h. "+t[57].unread_time.minits+" m. "+t[57].unread_time.seconds+" s.")&&g(e,"title",o)},d(t){t&&h(e)}}}function jn(t){let e,n,i,a,s,l,c=!0===t[57].pnd_rsp?"call_received":"call_made",o=(0==t[57].status?"&#x23F3; "+t[57].wait_time_pending:t[57].last_msg_time_front)+"",d=1!=t[57].status&&kn(t);return{c(){e=m("div"),d&&d.c(),n=m("span"),i=w(c),s=w(o),g(n,"class","material-icons text-success"),g(n,"title",a=t[11]("widget.send_receive")),k(n,"text-danger",t[57].pnd_rsp),g(e,"class","abbr-list"),g(e,"title",l=1==t[57].status?t[11]("widget.active"):t[11]("widget.pending"))},m(t,a){u(t,e,a),d&&d.m(e,null),f(e,n),f(n,i),f(e,s)},p(t,r){1!=t[57].status?d?d.p(t,r):(d=kn(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),1026&r[0]&&c!==(c=!0===t[57].pnd_rsp?"call_received":"call_made")&&v(i,c),2048&r[0]&&a!==(a=t[11]("widget.send_receive"))&&g(n,"title",a),1026&r[0]&&k(n,"text-danger",t[57].pnd_rsp),1026&r[0]&&o!==(o=(0==t[57].status?"&#x23F3; "+t[57].wait_time_pending:t[57].last_msg_time_front)+"")&&v(s,o),3074&r[0]&&l!==(l=1==t[57].status?t[11]("widget.active"):t[11]("widget.pending"))&&g(e,"title",l)},d(t){t&&h(e),d&&d.d()}}}function kn(t){let e,n,i;return{c(){e=m("i"),n=w(""),g(e,"title",i=t[11]("widget.pending")),g(e,"class","material-icons chat-unread")},m(t,i){u(t,e,i),f(e,n)},p(t,n){2048&n[0]&&i!==(i=t[11]("widget.pending"))&&g(e,"title",i)},d(t){t&&h(e)}}}function $n(t){let e,n,i,a,s,l,c,o,d,_,p,b,y,x=t[57].active_chats+"",j=(t[57].max_chats&&t[57].max_chats>0?t[57].max_chats-t[57].active_chats:" n/a")+"";return{c(){e=m("td"),n=w(x),i=r(),a=m("abbr"),s=w("a.c"),c=w(", "),o=w(j),d=r(),_=m("abbr"),p=w("f.s"),g(a,"title",l=t[11]("widget_title.active_chats")),g(_,"title",b=t[11]("widget.free_slots")),g(e,"title",y=t[11]("widget.max")+" - "+(t[57].max_chats&&t[57].max_chats>0?t[57].max_chats:"n/a")+" "+t[11]("widget.chats")),g(e,"class","align-middle"),k(e,"text-danger",t[57].max_chats&&t[57].max_chats>0&&t[57].max_chats-t[57].active_chats<=0),k(e,"text-success",t[57].max_chats&&t[57].max_chats>0&&t[57].max_chats-t[57].active_chats>=1)},m(t,l){u(t,e,l),f(e,n),f(e,i),f(e,a),f(a,s),f(e,c),f(e,o),f(e,d),f(e,_),f(_,p)},p(t,i){1026&i[0]&&x!==(x=t[57].active_chats+"")&&v(n,x),2048&i[0]&&l!==(l=t[11]("widget_title.active_chats"))&&g(a,"title",l),1026&i[0]&&j!==(j=(t[57].max_chats&&t[57].max_chats>0?t[57].max_chats-t[57].active_chats:" n/a")+"")&&v(o,j),2048&i[0]&&b!==(b=t[11]("widget.free_slots"))&&g(_,"title",b),3074&i[0]&&y!==(y=t[11]("widget.max")+" - "+(t[57].max_chats&&t[57].max_chats>0?t[57].max_chats:"n/a")+" "+t[11]("widget.chats"))&&g(e,"title",y),1026&i[0]&&k(e,"text-danger",t[57].max_chats&&t[57].max_chats>0&&t[57].max_chats-t[57].active_chats<=0),1026&i[0]&&k(e,"text-success",t[57].max_chats&&t[57].max_chats>0&&t[57].max_chats-t[57].active_chats>=1)},d(t){t&&h(e)}}}function Wn(t){let e,n,i,a,s=t[57].n_office+"";return{c(){e=m("td"),n=m("div"),i=w(s),g(n,"class","abbr-list"),g(n,"title",a=t[57].n_off_full+" | "+t[57].plain_user_name)},m(t,a){u(t,e,a),f(e,n),f(n,i)},p(t,e){1026&e[0]&&s!==(s=t[57].n_office+"")&&v(i,s),1026&e[0]&&a!==(a=t[57].n_off_full+" | "+t[57].plain_user_name)&&g(n,"title",a)},d(t){t&&h(e)}}}function Cn(t){let e,n,i;function a(t,e){return 34&e[0]&&(n=null),null==n&&(n=!("active_chats"!==t[1]&&"pending_chats"!==t[1]||-1===t[5].indexOf("lhstatistic_statisticdep"))),n?Sn:Ln}let s=a(t,[-1,-1,-1]),l=s(t);return{c(){e=m("div"),l.c(),g(e,"class","abbr-list"),g(e,"title",i=t[57].department_name+(t[57].product_name?" | "+t[57].product_name:""))},m(t,n){u(t,e,n),l.m(e,null)},p(t,n){s===(s=a(t,n))&&l?l.p(t,n):(l.d(1),l=s(t),l&&(l.c(),l.m(e,null))),1026&n[0]&&i!==(i=t[57].department_name+(t[57].product_name?" | "+t[57].product_name:""))&&g(e,"title",i)},d(t){t&&h(e),l.d()}}}function Dn(t){let e,n,i,a=t[57].time_front+"";return{c(){e=m("div"),n=w(a),g(e,"class","abbr-list"),g(e,"title",i=t[57].time_front)},m(t,i){u(t,e,i),f(e,n)},p(t,s){1026&s[0]&&a!==(a=t[57].time_front+"")&&v(n,a),1026&s[0]&&i!==(i=t[57].time_front)&&g(e,"title",i)},d(t){t&&h(e)}}}function In(t){let e,n,i,a=t[57].departments_names.join(", ")+"";return{c(){e=m("div"),n=w(a),g(e,"class","abbr-list"),g(e,"title",i=t[57].departments_names.join(", "))},m(t,i){u(t,e,i),f(e,n)},p(t,s){1026&s[0]&&a!==(a=t[57].departments_names.join(", ")+"")&&v(n,a),1026&s[0]&&i!==(i=t[57].departments_names.join(", "))&&g(e,"title",i)},d(t){t&&h(e)}}}function Ln(t){let e,n,i=t[57].department_name+"",a=t[57].product_name?" | "+t[57].product_name:"";return{c(){e=w(i),n=w(a)},m(t,i){u(t,e,i),u(t,n,i)},p(t,s){1026&s[0]&&i!==(i=t[57].department_name+"")&&v(e,i),1026&s[0]&&a!==(a=t[57].product_name?" | "+t[57].product_name:"")&&v(n,a)},d(t){t&&(h(e),h(n))}}}function Sn(t){let e,n,i,a,s,l,c=t[57].department_name+"",o=t[57].product_name?" | "+t[57].product_name:"";function d(...e){return t[46](t[57],...e)}return{c(){e=m("a"),n=m("i"),n.textContent="donut_large",i=w(c),a=w(o),g(n,"class","material-icons"),g(e,"class","text-primary")},m(t,c){u(t,e,c),f(e,n),f(e,i),f(e,a),s||(l=b(e,"click",d),s=!0)},p(e,n){t=e,1026&n[0]&&c!==(c=t[57].department_name+"")&&v(i,c),1026&n[0]&&o!==(o=t[57].product_name?" | "+t[57].product_name:"")&&v(a,o)},d(t){t&&h(e),s=!1,l()}}}function Pn(t,e){let n,i,a,s,l,c,o,d,_,p,g,w,v,y,x,j,$,W;function C(t,e){return"online_op"==t[1]?Ie:"group_chats"==t[1]?De:Ce}let D=C(e),I=D(e),L=e[12]&&e[10].additionalColumns&&sn(e),S="subject_chats"==e[1]&&rn(e),P="group_chats"==e[1]&&pn(e),T=e[57].can_edit_chat&&"pending_chats"==e[1]&&wn(e),A="my_mails"==e[1]&&vn(e),O="online_op"==e[1]&&bn(e),R=("active_chats"==e[1]||"subject_chats"==e[1]||"bot_chats"==e[1])&&yn(e),E="unread_chats"==e[1]&&xn(e),N="my_chats"==e[1]&&jn(e),V="online_op"==e[1]&&$n(e),H="active_chats"==e[1]&&Wn(e);function J(t,e){return"online_op"==t[1]?In:"group_chats"==t[1]?Dn:Cn}let G=J(e),M=G(e);function Q(...t){return e[47](e[57],...t)}return{key:t,first:null,c(){n=m("tr"),i=m("td"),I.c(),a=r(),L&&L.c(),s=r(),S&&S.c(),l=r(),c=m("td"),P&&P.c(),o=r(),T&&T.c(),d=r(),A&&A.c(),_=r(),O&&O.c(),p=r(),R&&R.c(),g=r(),E&&E.c(),w=r(),N&&N.c(),v=r(),V&&V.c(),y=r(),H&&H.c(),x=r(),j=m("td"),M.c(),k(c,"align-middle","online_op"==e[1]),k(j,"align-middle","online_op"==e[1]),k(n,"user-away-row",e[13]&&e[12]&&2==e[57].user_status_front),k(n,"user-online-row",e[13]&&e[12]&&!e[57].user_status_front),this.first=n},m(t,e){u(t,n,e),f(n,i),I.m(i,null),f(n,a),L&&L.m(n,null),f(n,s),S&&S.m(n,null),f(n,l),f(n,c),P&&P.m(c,null),f(c,o),T&&T.m(c,null),f(c,d),A&&A.m(c,null),f(c,_),O&&O.m(c,null),f(c,p),R&&R.m(c,null),f(c,g),E&&E.m(c,null),f(c,w),N&&N.m(c,null),f(n,v),V&&V.m(n,null),f(n,y),H&&H.m(n,null),f(n,x),f(n,j),M.m(j,null),$||(W=b(n,"click",Q),$=!0)},p(t,a){D===(D=C(e=t))&&I?I.p(e,a):(I.d(1),I=D(e),I&&(I.c(),I.m(i,null))),e[12]&&e[10].additionalColumns?L?L.p(e,a):(L=sn(e),L.c(),L.m(n,s)):L&&(L.d(1),L=null),"subject_chats"==e[1]?S?S.p(e,a):(S=rn(e),S.c(),S.m(n,l)):S&&(S.d(1),S=null),"group_chats"==e[1]?P?P.p(e,a):(P=pn(e),P.c(),P.m(c,o)):P&&(P.d(1),P=null),e[57].can_edit_chat&&"pending_chats"==e[1]?T?T.p(e,a):(T=wn(e),T.c(),T.m(c,d)):T&&(T.d(1),T=null),"my_mails"==e[1]?A?A.p(e,a):(A=vn(e),A.c(),A.m(c,_)):A&&(A.d(1),A=null),"online_op"==e[1]?O?O.p(e,a):(O=bn(e),O.c(),O.m(c,p)):O&&(O.d(1),O=null),"active_chats"==e[1]||"subject_chats"==e[1]||"bot_chats"==e[1]?R?R.p(e,a):(R=yn(e),R.c(),R.m(c,g)):R&&(R.d(1),R=null),"unread_chats"==e[1]?E?E.p(e,a):(E=xn(e),E.c(),E.m(c,w)):E&&(E.d(1),E=null),"my_chats"==e[1]?N?N.p(e,a):(N=jn(e),N.c(),N.m(c,null)):N&&(N.d(1),N=null),2&a[0]&&k(c,"align-middle","online_op"==e[1]),"online_op"==e[1]?V?V.p(e,a):(V=$n(e),V.c(),V.m(n,y)):V&&(V.d(1),V=null),"active_chats"==e[1]?H?H.p(e,a):(H=Wn(e),H.c(),H.m(n,x)):H&&(H.d(1),H=null),G===(G=J(e))&&M?M.p(e,a):(M.d(1),M=G(e),M&&(M.c(),M.m(j,null))),2&a[0]&&k(j,"align-middle","online_op"==e[1]),13314&a[0]&&k(n,"user-away-row",e[13]&&e[12]&&2==e[57].user_status_front),13314&a[0]&&k(n,"user-online-row",e[13]&&e[12]&&!e[57].user_status_front)},d(t){t&&h(n),I.d(),L&&L.d(),S&&S.d(),P&&P.d(),T&&T.d(),A&&A.d(),O&&O.d(),R&&R.d(),E&&E.d(),N&&N.d(),V&&V.d(),H&&H.d(),M.d(),$=!1,W()}}}function Tn(t){let e,n,i,a,s,l,c,o,d,_,p,y,k,$,W,C=t[11]("group_chat.private_group")+"",D=-1!==t[5].indexOf("lhgroupchat_public_chat"),I=t[11]("group_chat.new")+"",L=D&&An(t);return{c(){e=m("tr"),n=m("td"),i=m("input"),s=r(),l=m("td"),c=m("select"),o=m("option"),d=w(C),L&&L.c(),_=r(),p=m("td"),y=m("button"),k=w(I),g(i,"type","text"),g(i,"name",""),g(i,"class","form-control form-control-sm"),g(i,"placeholder",a=t[11]("group_chat.new_group_name")),o.__value="1",x(o,o.__value),g(c,"class","form-control form-control-sm"),void 0===t[10].new_group_type&&T((()=>t[49].call(c))),g(y,"type","button"),g(y,"class","btn btn-sm btn-outline-secondary w-100 d-block")},m(a,r){u(a,e,r),f(e,n),f(n,i),x(i,t[10].new_group_name),f(e,s),f(e,l),f(l,c),f(c,o),f(o,d),L&&L.m(c,null),A(c,t[10].new_group_type,!0),f(e,_),f(e,p),f(p,y),f(y,k),$||(W=[b(i,"input",t[48]),b(c,"change",t[49]),b(y,"click",t[50])],$=!0)},p(t,e){2048&e[0]&&a!==(a=t[11]("group_chat.new_group_name"))&&g(i,"placeholder",a),1024&e[0]&&i.value!==t[10].new_group_name&&x(i,t[10].new_group_name),2048&e[0]&&C!==(C=t[11]("group_chat.private_group")+"")&&v(d,C),32&e[0]&&(D=-1!==t[5].indexOf("lhgroupchat_public_chat")),D?L?L.p(t,e):(L=An(t),L.c(),L.m(c,null)):L&&(L.d(1),L=null),1024&e[0]&&A(c,t[10].new_group_type),2048&e[0]&&I!==(I=t[11]("group_chat.new")+"")&&v(k,I)},d(t){t&&h(e),L&&L.d(),$=!1,j(W)}}}function An(t){let e,n,i=t[11]("group_chat.public_group")+"";return{c(){e=m("option"),n=w(i),e.__value="",x(e,e.__value)},m(t,i){u(t,e,i),f(e,n)},p(t,e){2048&e[0]&&i!==(i=t[11]("group_chat.public_group")+"")&&v(n,i)},d(t){t&&h(e)}}}function On(t){let e,n,i,a,s;return{c(){e=m("span"),n=m("img"),O(n.src,i=t[3]+"/"+t[57].country_code+".png")||g(n,"src",i),g(n,"alt",a=t[57].country_name),g(n,"title",s=t[57].country_name)},m(t,i){u(t,e,i),f(e,n)},p(t,e){1034&e[0]&&!O(n.src,i=t[3]+"/"+t[57].country_code+".png")&&g(n,"src",i),1026&e[0]&&a!==(a=t[57].country_name)&&g(n,"alt",a),1026&e[0]&&s!==(s=t[57].country_name)&&g(n,"title",s)},d(t){t&&h(e)}}}function Rn(t){let e,n,i,a,s,l,c,o,d,_,p,y,x,k,$,W,C,D,I,L,S,P=t[57].nick+"",T=t[57].time_front+"",A=t[57].country_code&&On(t);function O(...e){return t[27](t[57],...e)}function R(...e){return t[28](t[57],...e)}function E(...e){return t[29](t[57],...e)}return{c(){e=m("tr"),n=m("td"),A&&A.c(),i=r(),a=m("a"),s=w("open_in_new"),c=r(),o=m("a"),d=w("info_outline"),p=r(),y=m("a"),x=w(P),$=r(),W=m("td"),C=m("div"),D=w(T),I=r(),g(a,"title",l=t[11]("widget.open_new_window")),g(a,"class","material-icons"),g(o,"title",_="["+t[57].id+"]"),g(o,"class","material-icons"),g(y,"title",k=t[11]("widget.accept_chat")),g(C,"class","abbr-list"),g(W,"nowrap","nowrap"),g(W,"colspan","2")},m(t,l){u(t,e,l),f(e,n),A&&A.m(n,null),f(n,i),f(n,a),f(a,s),f(n,c),f(n,o),f(o,d),f(n,p),f(n,y),f(y,x),f(e,$),f(e,W),f(W,C),f(C,D),f(e,I),L||(S=[b(a,"click",O),b(o,"click",R),b(y,"click",E)],L=!0)},p(e,s){(t=e)[57].country_code?A?A.p(t,s):(A=On(t),A.c(),A.m(n,i)):A&&(A.d(1),A=null),2048&s[0]&&l!==(l=t[11]("widget.open_new_window"))&&g(a,"title",l),1026&s[0]&&_!==(_="["+t[57].id+"]")&&g(o,"title",_),1026&s[0]&&P!==(P=t[57].nick+"")&&v(x,P),2048&s[0]&&k!==(k=t[11]("widget.accept_chat"))&&g(y,"title",k),1026&s[0]&&T!==(T=t[57].time_front+"")&&v(D,T)},d(t){t&&h(e),A&&A.d(),L=!1,j(S)}}}function En(t){let e,n,i,a,s,l,c,o,d,_,p,b,y,x=t[11]("widget.transferred_to_dep")+"",j=C(t[10].transfer_dep_chats.list),k=[];for(let e=0;e<j.length;e+=1)k[e]=Vn(Mt(t,j,e));return{c(){e=m("thead"),n=m("tr"),i=m("th"),a=m("i"),a.textContent="face",s=r(),l=w(x),c=r(),o=m("th"),d=m("i"),_=w("access_time"),b=r(),y=m("tbody");for(let t=0;t<k.length;t+=1)k[t].c();g(a,"title","Visitor"),g(a,"class","material-icons"),g(i,"width","60%"),g(d,"title",p=t[11]("widget.transfer_time")),g(d,"class","material-icons"),g(o,"width","40%"),g(o,"colspan","2")},m(t,r){u(t,e,r),f(e,n),f(n,i),f(i,a),f(i,s),f(i,l),f(n,c),f(n,o),f(o,d),f(d,_),u(t,b,r),u(t,y,r);for(let t=0;t<k.length;t+=1)k[t]&&k[t].m(y,null)},p(t,e){if(2048&e[0]&&x!==(x=t[11]("widget.transferred_to_dep")+"")&&v(l,x),2048&e[0]&&p!==(p=t[11]("widget.transfer_time"))&&g(d,"title",p),3080&e[0]){let n;for(j=C(t[10].transfer_dep_chats.list),n=0;n<j.length;n+=1){const i=Mt(t,j,n);k[n]?k[n].p(i,e):(k[n]=Vn(i),k[n].c(),k[n].m(y,null))}for(;n<k.length;n+=1)k[n].d(1);k.length=j.length}},d(t){t&&(h(e),h(b),h(y)),D(k,t)}}}function Nn(t){let e,n,i,a,s;return{c(){e=m("span"),n=m("img"),O(n.src,i=t[3]+"/"+t[57].country_code+".png")||g(n,"src",i),g(n,"alt",a=t[57].country_name),g(n,"title",s=t[57].country_name)},m(t,i){u(t,e,i),f(e,n)},p(t,e){1032&e[0]&&!O(n.src,i=t[3]+"/"+t[57].country_code+".png")&&g(n,"src",i),1024&e[0]&&a!==(a=t[57].country_name)&&g(n,"alt",a),1024&e[0]&&s!==(s=t[57].country_name)&&g(n,"title",s)},d(t){t&&h(e)}}}function Vn(t){let e,n,i,a,s,l,c,o,d,_,p,y,x,k,$,W,C,D,I,L,S,P=t[57].nick+"",T=t[57].time_front+"",A=t[57].country_code&&Nn(t);function O(...e){return t[30](t[57],...e)}function R(...e){return t[31](t[57],...e)}function E(...e){return t[32](t[57],...e)}return{c(){e=m("tr"),n=m("td"),A&&A.c(),i=r(),a=m("a"),s=w("open_in_new"),c=r(),o=m("a"),d=w("info_outline"),p=r(),y=m("a"),x=w(P),$=r(),W=m("td"),C=m("div"),D=w(T),I=r(),g(a,"title",l=t[11]("widget.open_new_window")),g(a,"class","material-icons"),g(o,"title",_="["+t[57].id+"]"),g(o,"class","material-icons"),g(y,"title",k=t[11]("widget.accept_chat")),g(C,"class","abbr-list"),g(W,"nowrap","nowrap"),g(W,"colspan","2")},m(t,l){u(t,e,l),f(e,n),A&&A.m(n,null),f(n,i),f(n,a),f(a,s),f(n,c),f(n,o),f(o,d),f(n,p),f(n,y),f(y,x),f(e,$),f(e,W),f(W,C),f(C,D),f(e,I),L||(S=[b(a,"click",O),b(o,"click",R),b(y,"click",E)],L=!0)},p(e,s){(t=e)[57].country_code?A?A.p(t,s):(A=Nn(t),A.c(),A.m(n,i)):A&&(A.d(1),A=null),2048&s[0]&&l!==(l=t[11]("widget.open_new_window"))&&g(a,"title",l),1024&s[0]&&_!==(_="["+t[57].id+"]")&&g(o,"title",_),1024&s[0]&&P!==(P=t[57].nick+"")&&v(x,P),2048&s[0]&&k!==(k=t[11]("widget.accept_chat"))&&g(y,"title",k),1024&s[0]&&T!==(T=t[57].time_front+"")&&v(D,T)},d(t){t&&h(e),A&&A.d(),L=!1,j(S)}}}function Hn(t){let e,n=[],i=new Map,a=C(t[10][t[1]].list);const s=t=>t[54].id;for(let e=0;e<a.length;e+=1){let l=Ft(t,a,e),c=s(l);i.set(c,n[e]=Mn(c,l))}return{c(){e=m("tbody");for(let t=0;t<n.length;t+=1)n[t].c()},m(t,i){u(t,e,i);for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,null)},p(t,l){3106&l[0]&&(a=C(t[10][t[1]].list),n=S(n,l,s,1,t,a,i,e,P,Mn,null,Ft))},d(t){t&&h(e);for(let t=0;t<n.length;t+=1)n[t].d()}}}function Jn(t){let e,n,i,a,s,l,c=(t[54].max_load_h?t[54].max_load_h-(t[54].acopchats_cnt-(t[54].inopchats_cnt?t[54].inopchats_cnt:0)):"n/a")+"",o=(t[54].max_load?t[54].max_load-(t[54].achats_cnt-(t[54].inachats_cnt?t[54].inachats_cnt:0)):"n/a")+"";return{c(){e=m("span"),n=w(c),a=w(" ("),s=w(o),l=w(")"),g(e,"class",i=t[54].max_load_h&&t[54].max_load_h-(t[54].acopchats_cnt-(t[54].inopchats_cnt?t[54].inopchats_cnt:0))<=3?"text-danger fw-bold":"")},m(t,i){u(t,e,i),f(e,n),u(t,a,i),u(t,s,i),u(t,l,i)},p(t,a){1026&a[0]&&c!==(c=(t[54].max_load_h?t[54].max_load_h-(t[54].acopchats_cnt-(t[54].inopchats_cnt?t[54].inopchats_cnt:0)):"n/a")+"")&&v(n,c),1026&a[0]&&i!==(i=t[54].max_load_h&&t[54].max_load_h-(t[54].acopchats_cnt-(t[54].inopchats_cnt?t[54].inopchats_cnt:0))<=3?"text-danger fw-bold":"")&&g(e,"class",i),1026&a[0]&&o!==(o=(t[54].max_load?t[54].max_load-(t[54].achats_cnt-(t[54].inachats_cnt?t[54].inachats_cnt:0)):"n/a")+"")&&v(s,o)},d(t){t&&(h(e),h(a),h(s),h(l))}}}function Gn(t){let e,n,i,a,s,l,c,o,d,r=(t[54].max_load_h?t[54].max_load_h-(t[54].acopchats_cnt-(t[54].inopchats_cnt?t[54].inopchats_cnt:0)):"n/a")+"",_=(t[54].max_load?t[54].max_load-(t[54].achats_cnt-(t[54].inachats_cnt?t[54].inachats_cnt:0)):"n/a")+"";function p(...e){return t[25](t[54],...e)}return{c(){e=m("a"),n=m("span"),i=w(r),s=w(" ("),l=w(_),c=w(")"),g(n,"class",a=t[54].max_load_h&&t[54].max_load_h-(t[54].acopchats_cnt-(t[54].inopchats_cnt?t[54].inopchats_cnt:0))<=3?"text-danger fw-bold":""),g(e,"href","#")},m(t,a){u(t,e,a),f(e,n),f(n,i),f(e,s),f(e,l),f(e,c),o||(d=b(e,"click",p),o=!0)},p(e,s){t=e,1026&s[0]&&r!==(r=(t[54].max_load_h?t[54].max_load_h-(t[54].acopchats_cnt-(t[54].inopchats_cnt?t[54].inopchats_cnt:0)):"n/a")+"")&&v(i,r),1026&s[0]&&a!==(a=t[54].max_load_h&&t[54].max_load_h-(t[54].acopchats_cnt-(t[54].inopchats_cnt?t[54].inopchats_cnt:0))<=3?"text-danger fw-bold":"")&&g(n,"class",a),1026&s[0]&&_!==(_=(t[54].max_load?t[54].max_load-(t[54].achats_cnt-(t[54].inachats_cnt?t[54].inachats_cnt:0)):"n/a")+"")&&v(l,_)},d(t){t&&h(e),o=!1,d()}}}function Mn(t,e){let n,i,a,s,l,c,o,d,_,p,b,y,x,j,k,$,W,C,D,I,L,S,P,T,A,O,R,E=e[54].name+"",N=(e[54].pchats_cnt?e[54].pchats_cnt:0)+"",V=(e[54].achats_cnt?e[54].achats_cnt:0)+"",H=(e[54].bchats_cnt?e[54].bchats_cnt:0)+"";function J(t,e){return 32&e[0]&&(A=null),null==A&&(A=!(-1===t[5].indexOf("lhstatistic_statisticdep"))),A?Gn:Jn}let G=J(e,[-1,-1,-1]),M=G(e);return{key:t,first:null,c(){n=m("tr"),i=m("td"),a=m("div"),s=m("a"),l=w(E),d=r(),_=m("td"),p=m("a"),b=w(N),x=r(),j=m("td"),k=m("a"),$=w(V),C=r(),D=m("td"),I=m("a"),L=w(H),P=r(),T=m("td"),M.c(),R=r(),g(s,"class","d-block"),g(s,"href",c=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[54].id+"/(chat_status_ids)/0/1/5"),g(a,"class","abbr-list"),g(a,"title",o=e[54].name),g(p,"class","d-block"),g(p,"href",y=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[54].id+"/(chat_status_ids)/0"),g(k,"class","d-block"),g(k,"href",W=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[54].id+"/(chat_status_ids)/1"),g(I,"class","d-block"),g(I,"href",S=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[54].id+"/(chat_status_ids)/5"),g(T,"nowrap",""),g(T,"title",O=(e[54].inachats_cnt?e[54].inachats_cnt:"0")+" "+e[11]("widget.inactive_chats")+".\n"+(e[54].inopchats_cnt?e[54].inopchats_cnt:"0")+" "+e[11]("widget.inactive_op_chats")+".\n"+(e[54].acopchats_cnt?e[54].acopchats_cnt:"0")+" "+e[11]("widget.active_op_chats")+".\n"+e[11]("widget.hard_limit")+" - "+(e[54].max_load_h?e[54].max_load_h:"0")+", "+e[11]("widget.soft_limit")+" - "+(e[54].max_load?e[54].max_load:"0")+".\n"+e[11]("widget.hard_limit_explain")),this.first=n},m(t,e){u(t,n,e),f(n,i),f(i,a),f(a,s),f(s,l),f(n,d),f(n,_),f(_,p),f(p,b),f(n,x),f(n,j),f(j,k),f(k,$),f(n,C),f(n,D),f(D,I),f(I,L),f(n,P),f(n,T),M.m(T,null),f(n,R)},p(t,n){e=t,1026&n[0]&&E!==(E=e[54].name+"")&&v(l,E),1026&n[0]&&c!==(c=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[54].id+"/(chat_status_ids)/0/1/5")&&g(s,"href",c),1026&n[0]&&o!==(o=e[54].name)&&g(a,"title",o),1026&n[0]&&N!==(N=(e[54].pchats_cnt?e[54].pchats_cnt:0)+"")&&v(b,N),1026&n[0]&&y!==(y=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[54].id+"/(chat_status_ids)/0")&&g(p,"href",y),1026&n[0]&&V!==(V=(e[54].achats_cnt?e[54].achats_cnt:0)+"")&&v($,V),1026&n[0]&&W!==(W=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[54].id+"/(chat_status_ids)/1")&&g(k,"href",W),1026&n[0]&&H!==(H=(e[54].bchats_cnt?e[54].bchats_cnt:0)+"")&&v(L,H),1026&n[0]&&S!==(S=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[54].id+"/(chat_status_ids)/5")&&g(I,"href",S),G===(G=J(e,n))&&M?M.p(e,n):(M.d(1),M=G(e),M&&(M.c(),M.m(T,null))),3074&n[0]&&O!==(O=(e[54].inachats_cnt?e[54].inachats_cnt:"0")+" "+e[11]("widget.inactive_chats")+".\n"+(e[54].inopchats_cnt?e[54].inopchats_cnt:"0")+" "+e[11]("widget.inactive_op_chats")+".\n"+(e[54].acopchats_cnt?e[54].acopchats_cnt:"0")+" "+e[11]("widget.active_op_chats")+".\n"+e[11]("widget.hard_limit")+" - "+(e[54].max_load_h?e[54].max_load_h:"0")+", "+e[11]("widget.soft_limit")+" - "+(e[54].max_load?e[54].max_load:"0")+".\n"+e[11]("widget.hard_limit_explain"))&&g(T,"title",O)},d(t){t&&h(n),M.d()}}}function Qn(t){let e,n,i,a,s,l,c,o,d,_,p,v,b,y,x,j,k,$,W,D,I,L,T,A,O,R,E,N,V=[],H=new Map,J=C(t[10].departments_stats.list);const G=t=>t[51].id;for(let e=0;e<J.length;e+=1){let n=Bt(t,J,e),i=G(n);H.set(i,V[e]=qn(i,n))}return{c(){e=m("thead"),n=m("tr"),i=m("th"),a=m("i"),s=w("home"),c=r(),o=m("th"),d=m("i"),_=w("chat"),v=r(),b=m("th"),y=m("i"),x=w("chat"),k=r(),$=m("th"),W=m("i"),D=w("android"),L=r(),T=m("th"),A=m("i"),O=w("donut_large"),E=r(),N=m("tbody");for(let t=0;t<V.length;t+=1)V[t].c();g(a,"title",l=t[11]("widget.department")),g(a,"class","material-icons"),g(i,"width","40%"),g(d,"title",p=t[11]("widget_title.pending_chats")),g(d,"class","material-icons chat-pending"),g(o,"width","12%"),g(y,"title",j=t[11]("widget_title.active_chats")),g(y,"class","material-icons chat-active"),g(b,"width","12%"),g(W,"title",I=t[11]("widget_title.bot_chats")),g(W,"class","material-icons chat-active"),g($,"width","12%"),g(A,"title",R=t[11]("widget.load_statistic")),g(A,"class","material-icons text-info"),g(T,"width","21%")},m(t,l){u(t,e,l),f(e,n),f(n,i),f(i,a),f(a,s),f(n,c),f(n,o),f(o,d),f(d,_),f(n,v),f(n,b),f(b,y),f(y,x),f(n,k),f(n,$),f($,W),f(W,D),f(n,L),f(n,T),f(T,A),f(A,O),u(t,E,l),u(t,N,l);for(let t=0;t<V.length;t+=1)V[t]&&V[t].m(N,null)},p(t,e){2048&e[0]&&l!==(l=t[11]("widget.department"))&&g(a,"title",l),2048&e[0]&&p!==(p=t[11]("widget_title.pending_chats"))&&g(d,"title",p),2048&e[0]&&j!==(j=t[11]("widget_title.active_chats"))&&g(y,"title",j),2048&e[0]&&I!==(I=t[11]("widget_title.bot_chats"))&&g(W,"title",I),2048&e[0]&&R!==(R=t[11]("widget.load_statistic"))&&g(A,"title",R),3104&e[0]&&(J=C(t[10].departments_stats.list),V=S(V,e,G,1,t,J,H,N,P,qn,null,Bt))},d(t){t&&(h(e),h(E),h(N));for(let t=0;t<V.length;t+=1)V[t].d()}}}function Bn(t){let e,n,i,a,s,l,c=(t[51].max_load_h?t[51].max_load_h-(t[51].acop_chats_cnt-(t[51].inop_chats_cnt?t[51].inop_chats_cnt:0)):"n/a")+"",o=(t[51].max_load?t[51].max_load-(t[51].active_chats_counter-(t[51].inactive_chats_cnt?t[51].inactive_chats_cnt:0)):"n/a")+"";return{c(){e=m("span"),n=w(c),a=w(" ("),s=w(o),l=w(")"),g(e,"class",i=t[51].max_load_h&&t[51].max_load_h-(t[51].acop_chats_cnt-(t[51].inop_chats_cnt?t[51].inop_chats_cnt:0))<=3?"text-danger fw-bold":"")},m(t,i){u(t,e,i),f(e,n),u(t,a,i),u(t,s,i),u(t,l,i)},p(t,a){1024&a[0]&&c!==(c=(t[51].max_load_h?t[51].max_load_h-(t[51].acop_chats_cnt-(t[51].inop_chats_cnt?t[51].inop_chats_cnt:0)):"n/a")+"")&&v(n,c),1024&a[0]&&i!==(i=t[51].max_load_h&&t[51].max_load_h-(t[51].acop_chats_cnt-(t[51].inop_chats_cnt?t[51].inop_chats_cnt:0))<=3?"text-danger fw-bold":"")&&g(e,"class",i),1024&a[0]&&o!==(o=(t[51].max_load?t[51].max_load-(t[51].active_chats_counter-(t[51].inactive_chats_cnt?t[51].inactive_chats_cnt:0)):"n/a")+"")&&v(s,o)},d(t){t&&(h(e),h(a),h(s),h(l))}}}function Fn(t){let e,n,i,a,s,l,c,o,d,r=(t[51].max_load_h?t[51].max_load_h-(t[51].acop_chats_cnt-(t[51].inop_chats_cnt?t[51].inop_chats_cnt:0)):"n/a")+"",_=(t[51].max_load?t[51].max_load-(t[51].active_chats_counter-(t[51].inactive_chats_cnt?t[51].inactive_chats_cnt:0)):"n/a")+"";function p(...e){return t[26](t[51],...e)}return{c(){e=m("a"),n=m("span"),i=w(r),s=w(" ("),l=w(_),c=w(")"),g(n,"class",a=t[51].max_load_h&&t[51].max_load_h-(t[51].acop_chats_cnt-(t[51].inop_chats_cnt?t[51].inop_chats_cnt:0))<=3?"text-danger fw-bold":""),g(e,"href","#")},m(t,a){u(t,e,a),f(e,n),f(n,i),f(e,s),f(e,l),f(e,c),o||(d=b(e,"click",p),o=!0)},p(e,s){t=e,1024&s[0]&&r!==(r=(t[51].max_load_h?t[51].max_load_h-(t[51].acop_chats_cnt-(t[51].inop_chats_cnt?t[51].inop_chats_cnt:0)):"n/a")+"")&&v(i,r),1024&s[0]&&a!==(a=t[51].max_load_h&&t[51].max_load_h-(t[51].acop_chats_cnt-(t[51].inop_chats_cnt?t[51].inop_chats_cnt:0))<=3?"text-danger fw-bold":"")&&g(n,"class",a),1024&s[0]&&_!==(_=(t[51].max_load?t[51].max_load-(t[51].active_chats_counter-(t[51].inactive_chats_cnt?t[51].inactive_chats_cnt:0)):"n/a")+"")&&v(l,_)},d(t){t&&h(e),o=!1,d()}}}function qn(t,e){let n,i,a,s,l,c,o,d,_,p,b,y,x,j,k,$,W,C,D,I,L,S,P,T,A,O,R,E=e[51].name+"",N=(e[51].pending_chats_counter?e[51].pending_chats_counter:0)+"",V=(e[51].active_chats_counter?e[51].active_chats_counter:0)+"",H=(e[51].bot_chats_counter?e[51].bot_chats_counter:0)+"";function J(t,e){return 32&e[0]&&(A=null),null==A&&(A=!(-1===t[5].indexOf("lhstatistic_statisticdep"))),A?Fn:Bn}let G=J(e,[-1,-1,-1]),M=G(e);return{key:t,first:null,c(){n=m("tr"),i=m("td"),a=m("div"),s=m("a"),l=w(E),d=r(),_=m("td"),p=m("a"),b=w(N),x=r(),j=m("td"),k=m("a"),$=w(V),C=r(),D=m("td"),I=m("a"),L=w(H),P=r(),T=m("td"),M.c(),R=r(),g(s,"class","d-block"),g(s,"href",c=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[51].id+"/(chat_status_ids)/0/1/5"),g(a,"class","abbr-list"),g(a,"title",o=e[51].name),g(p,"class","d-block"),g(p,"href",y=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[51].id+"/(chat_status_ids)/0"),g(k,"class","d-block"),g(k,"href",W=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[51].id+"/(chat_status_ids)/1"),g(I,"class","d-block"),g(I,"href",S=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[51].id+"/(chat_status_ids)/5"),g(T,"nowrap",""),g(T,"title",O=(e[51].inactive_chats_cnt?e[51].inactive_chats_cnt:"0")+" "+e[11]("widget.inactive_chats")+".\n"+(e[51].inop_chats_cnt?e[51].inop_chats_cnt:"0")+" "+e[11]("widget.inactive_op_chats")+".\n"+(e[51].acop_chats_cnt?e[51].acop_chats_cnt:"0")+" "+e[11]("widget.active_op_chats")+".\n"+e[11]("widget.hard_limit")+" - "+(e[51].max_load_h?e[51].max_load_h:"0")+", "+e[11]("widget.soft_limit")+" - "+(e[51].max_load?e[51].max_load:"0")+".\n"+e[11]("widget.hard_limit_explain")),this.first=n},m(t,e){u(t,n,e),f(n,i),f(i,a),f(a,s),f(s,l),f(n,d),f(n,_),f(_,p),f(p,b),f(n,x),f(n,j),f(j,k),f(k,$),f(n,C),f(n,D),f(D,I),f(I,L),f(n,P),f(n,T),M.m(T,null),f(n,R)},p(t,n){e=t,1024&n[0]&&E!==(E=e[51].name+"")&&v(l,E),1024&n[0]&&c!==(c=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[51].id+"/(chat_status_ids)/0/1/5")&&g(s,"href",c),1024&n[0]&&o!==(o=e[51].name)&&g(a,"title",o),1024&n[0]&&N!==(N=(e[51].pending_chats_counter?e[51].pending_chats_counter:0)+"")&&v(b,N),1024&n[0]&&y!==(y=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[51].id+"/(chat_status_ids)/0")&&g(p,"href",y),1024&n[0]&&V!==(V=(e[51].active_chats_counter?e[51].active_chats_counter:0)+"")&&v($,V),1024&n[0]&&W!==(W=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[51].id+"/(chat_status_ids)/1")&&g(k,"href",W),1024&n[0]&&H!==(H=(e[51].bot_chats_counter?e[51].bot_chats_counter:0)+"")&&v(L,H),1024&n[0]&&S!==(S=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[51].id+"/(chat_status_ids)/5")&&g(I,"href",S),G===(G=J(e,n))&&M?M.p(e,n):(M.d(1),M=G(e),M&&(M.c(),M.m(T,null))),3072&n[0]&&O!==(O=(e[51].inactive_chats_cnt?e[51].inactive_chats_cnt:"0")+" "+e[11]("widget.inactive_chats")+".\n"+(e[51].inop_chats_cnt?e[51].inop_chats_cnt:"0")+" "+e[11]("widget.inactive_op_chats")+".\n"+(e[51].acop_chats_cnt?e[51].acop_chats_cnt:"0")+" "+e[11]("widget.active_op_chats")+".\n"+e[11]("widget.hard_limit")+" - "+(e[51].max_load_h?e[51].max_load_h:"0")+", "+e[11]("widget.soft_limit")+" - "+(e[51].max_load?e[51].max_load:"0")+".\n"+e[11]("widget.hard_limit_explain"))&&g(T,"title",O)},d(t){t&&h(n),M.d()}}}function Xn(t){let e,n,i=("depgroups_stats"!=t[1]||!t[10].departmentd_hide_dgroup&&t[10][t[1]].list.length>0)&&Xt(t);function a(t,e){return"depgroups_stats"==t[1]?We:"transfer_chats"==t[1]?$e:ke}let s=a(t),l=s(t);return{c(){e=m("table"),i&&i.c(),n=r(),l.c(),g(e,"class","table table-sm mb-0 table-small table-fixed"),k(e,"list-chat-table",t[12])},m(t,a){u(t,e,a),i&&i.m(e,null),f(e,n),l.m(e,null)},p(t,c){"depgroups_stats"!=t[1]||!t[10].departmentd_hide_dgroup&&t[10][t[1]].list.length>0?i?i.p(t,c):(i=Xt(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),s===(s=a(t))&&l?l.p(t,c):(l.d(1),l=s(t),l&&(l.c(),l.m(e,null)))},i:p,o:p,d(t){t&&h(e),i&&i.d(),l.d()}}}function Un(t,e,n){let i,s,l=p,c=()=>(l(),l=I(r,(t=>n(10,i=t))),r);a(t,y,(t=>n(11,s=t))),t.$$.on_destroy.push((()=>l()));let{sort_identifier:o=null}=e,{type:d=null}=e,{lhcList:r=null}=e;c();let{www_dir_flags:_=null}=e,{panel_id:u=null}=e,{permissions:h=[]}=e,{column_2_width:m="20%"}=e,{column_1_width:g="40%"}=e,{column_3_width:f="20%"}=e,{additional_sort:w=""}=e,v="transfer_chats"!==d&&"group_chats"!==d&&"online_op"!==d&&"depgroups_stats"!==d,b="my_mails"!==d;function x(t){"group_chats"===d?F.startGroupChat(t.id,t.name):"my_mails"===d?F.startMailChat(t.id,t.subject_front):F.startChat(t.id,t.nick)}return t.$$set=t=>{"sort_identifier"in t&&n(0,o=t.sort_identifier),"type"in t&&n(1,d=t.type),"lhcList"in t&&c(n(2,r=t.lhcList)),"www_dir_flags"in t&&n(3,_=t.www_dir_flags),"panel_id"in t&&n(4,u=t.panel_id),"permissions"in t&&n(5,h=t.permissions),"column_2_width"in t&&n(6,m=t.column_2_width),"column_1_width"in t&&n(7,g=t.column_1_width),"column_3_width"in t&&n(8,f=t.column_3_width),"additional_sort"in t&&n(9,w=t.additional_sort)},[o,d,r,_,u,h,m,g,f,w,i,s,v,b,x,t=>F.toggleWidgetSort(r,o,"onl_dsc","onl_asc",!0),t=>F.toggleWidgetSort(r,o,"loc_dsc","loc_asc",!0),t=>F.toggleWidgetSort(r,o,"u_dsc","u_asc",!0),t=>F.toggleWidgetSort(r,o,"id_dsc","id_asc",!0),(t,e)=>F.toggleWidgetSort(r,w,t.items[0]+"_dsc",t.items[0]+"_asc",!0),t=>F.toggleWidgetSort(r,o,"lmt_dsc","lmt_asc",!0),t=>F.toggleWidgetSort(r,o,"id_dsc","id_asc",!0),t=>F.toggleWidgetSort(r,o,"ac_dsc","ac_asc",!0),t=>F.toggleWidgetSort(r,o,"op_dsc","op_asc",!0),t=>F.toggleWidgetSort(r,o,"dep_dsc","dep_asc",!0),(t,e)=>F.openModal("statistic/departmentstats/"+t.id+"/(type)/group"),(t,e)=>F.openModal("statistic/departmentstats/"+t.id),(t,e)=>F.startChatNewWindowTransfer(t.id,t.nick,t.transfer_id),(t,e)=>F.previewChat(t.id,e),(t,e)=>F.startChatTransfer(t.id,t.nick,t.transfer_id),(t,e)=>F.startChatNewWindowTransfer(t.id,t.nick,t.transfer_id),(t,e)=>F.previewChat(t.id,e),(t,e)=>F.startChatTransfer(t.id,t.nick,t.transfer_id),(t,e)=>F.startChatOperator(t.user_id),(t,e)=>F.openModal("user/setopstatus/"+t.user_id),(t,e)=>F.openModal("statistic/userstats/"+t.user_id),(t,e)=>F.startGroupChat(t.id,t.name),(t,e)=>{F.deleteChat(t.id),e.stopPropagation()},(t,e)=>F.redirectContact(t.id,s("widget.are_you_sure"),e),(t,e)=>F.previewMail(t.id,e),(t,e)=>F.previewChat(t.id,e),(t,e,n)=>{t.iconp&&F.openModal("chat/icondetailed/"+e.id+"/"+t.id,n)},(t,e)=>F.startGroupChat(t.id,t.name),(t,e)=>F.rejectGroupChat(t.id,e),(t,e)=>F.startGroupChat(t.id,t.name),(t,e)=>F.startGroupChat(t.id,t.name),(t,e)=>F.openModal("statistic/departmentstats/"+t.dep_id,e),(t,e)=>v&&x(t),function(){i.new_group_name=this.value,r.set(i)},function(){i.new_group_type=L(this),r.set(i)},()=>F.startNewGroupChat(r,i.new_group_name,i.new_group_type)]}customElements.define("lhc-open-chat",t(Ot,{},[],[],!1));class Kn extends e{constructor(t){super(),n(this,t,Un,Xn,i,{sort_identifier:0,type:1,lhcList:2,www_dir_flags:3,panel_id:4,permissions:5,column_2_width:6,column_1_width:7,column_3_width:8,additional_sort:9},null,[-1,-1,-1])}get sort_identifier(){return this.$$.ctx[0]}set sort_identifier(t){this.$$set({sort_identifier:t}),d()}get type(){return this.$$.ctx[1]}set type(t){this.$$set({type:t}),d()}get lhcList(){return this.$$.ctx[2]}set lhcList(t){this.$$set({lhcList:t}),d()}get www_dir_flags(){return this.$$.ctx[3]}set www_dir_flags(t){this.$$set({www_dir_flags:t}),d()}get panel_id(){return this.$$.ctx[4]}set panel_id(t){this.$$set({panel_id:t}),d()}get permissions(){return this.$$.ctx[5]}set permissions(t){this.$$set({permissions:t}),d()}get column_2_width(){return this.$$.ctx[6]}set column_2_width(t){this.$$set({column_2_width:t}),d()}get column_1_width(){return this.$$.ctx[7]}set column_1_width(t){this.$$set({column_1_width:t}),d()}get column_3_width(){return this.$$.ctx[8]}set column_3_width(t){this.$$set({column_3_width:t}),d()}get additional_sort(){return this.$$.ctx[9]}set additional_sort(t){this.$$set({additional_sort:t}),d()}}function Yn(t,e,n){const i=t.slice();return i[33]=e[n],i}function zn(t,e,n){const i=t.slice();return i[36]=e[n],i}function Zn(t,e,n){const i=t.slice();return i[39]=e[n],i}function ti(t,e,n){const i=t.slice();return i[39]=e[n],i}function ei(t,e,n){const i=t.slice();return i[44]=e[n],i}function ni(t){let e,n,i,a,s,l,c,o,d,_,p,y,j,k,$,W,D,I,L,T,A,O,E,N,V=(0==t[2][t[1].panelid].length?t[3]("widget_options.all_dep"):1!=t[2][t[1].panelid].length||t[1].hasOwnProperty("no_names_department")&&!0===t[1].no_names_department?"["+t[2][t[1].panelid].length+"] "+t[3]("widget_options.departments"):t[2][t[1].panelid+"Names"].join(", "))+"",H=!t[1].hasOwnProperty("hide_department_variations"),J=t[1].hasOwnProperty("hide_department")&&1==t[1].hide_department,G=t[1].hasOwnProperty("hide_depgroup")&&1==t[1].hide_depgroup,M=!t[1].hasOwnProperty("hide_department_variations"),Q=!t[1].hasOwnProperty("disable_product")||0==t[1].disable_product,B=[],F=new Map,q=[],X=new Map,U=H&&ii(t),K=J&&ai(t),Y=G&&si(t),z=M&&li(t),Z=Q&&ci(t),tt=C(t[2].userDepartmentsGroups);const et=t=>t[39].id;for(let e=0;e<tt.length;e+=1){let n=ti(t,tt,e),i=et(n);F.set(i,B[e]=ri(i,n))}let nt=t[2].userDepartmentsGroups.length>0&&_i(),it=C(t[2].userDepartments);const at=t=>t[39].id;for(let e=0;e<it.length;e+=1){let n=Zn(t,it,e),i=at(n);X.set(i,q[e]=pi(i,n))}return{c(){e=m("div"),n=m("div"),i=m("button"),a=w(V),s=r(),l=m("ul"),c=m("li"),o=m("ul"),U&&U.c(),d=r(),K&&K.c(),_=r(),Y&&Y.c(),p=r(),z&&z.c(),y=r(),Z&&Z.c(),j=r();for(let t=0;t<B.length;t+=1)B[t].c();k=r(),nt&&nt.c(),$=r(),W=m("li"),D=m("input"),L=r(),T=m("li"),A=m("ul");for(let t=0;t<q.length;t+=1)q[t].c();g(i,"type","button"),g(i,"class","btn btn-light btn-block btn-sm dropdown-toggle btn-department-dropdown"),g(i,"data-bs-toggle","dropdown"),g(i,"aria-expanded","false"),g(D,"type","text"),g(D,"data-stoppropagation","true"),g(D,"placeholder",I=t[3]("widget_options.search_dep")),g(D,"class","form-control form-control-sm"),g(W,"class","p-1"),g(A,"class","list-unstyled dropdown-lhc"),g(T,"class","dropdown-result"),R(T,"max-height","218px"),R(T,"min-height","218px"),g(o,"class","list-unstyled dropdown-lhc"),g(c,"class","dropdown-result"),g(l,"class","dropdown-menu"),g(l,"role","menu"),g(n,"class","btn-group btn-block btn-block-department"),g(e,"class",O="col-"+(t[1].hasOwnProperty("userid")?6:t[1].hasOwnProperty("hide_limits")?12:10)+" pe-0")},m(r,h){u(r,e,h),f(e,n),f(n,i),f(i,a),f(n,s),f(n,l),f(l,c),f(c,o),U&&U.m(o,null),f(o,d),K&&K.m(o,null),f(o,_),Y&&Y.m(o,null),f(o,p),z&&z.m(o,null),f(o,y),Z&&Z.m(o,null),f(o,j);for(let t=0;t<B.length;t+=1)B[t]&&B[t].m(o,null);f(o,k),nt&&nt.m(o,null),f(o,$),f(o,W),f(W,D),x(D,t[2].depFilterText),f(o,L),f(o,T),f(T,A);for(let t=0;t<q.length;t+=1)q[t]&&q[t].m(A,null);E||(N=b(D,"input",t[23]),E=!0)},p(t,n){14&n[0]&&V!==(V=(0==t[2][t[1].panelid].length?t[3]("widget_options.all_dep"):1!=t[2][t[1].panelid].length||t[1].hasOwnProperty("no_names_department")&&!0===t[1].no_names_department?"["+t[2][t[1].panelid].length+"] "+t[3]("widget_options.departments"):t[2][t[1].panelid+"Names"].join(", "))+"")&&v(a,V),2&n[0]&&(H=!t[1].hasOwnProperty("hide_department_variations")),H?U?U.p(t,n):(U=ii(t),U.c(),U.m(o,d)):U&&(U.d(1),U=null),2&n[0]&&(J=t[1].hasOwnProperty("hide_department")&&1==t[1].hide_department),J?K?K.p(t,n):(K=ai(t),K.c(),K.m(o,_)):K&&(K.d(1),K=null),2&n[0]&&(G=t[1].hasOwnProperty("hide_depgroup")&&1==t[1].hide_depgroup),G?Y?Y.p(t,n):(Y=si(t),Y.c(),Y.m(o,p)):Y&&(Y.d(1),Y=null),2&n[0]&&(M=!t[1].hasOwnProperty("hide_department_variations")),M?z?z.p(t,n):(z=li(t),z.c(),z.m(o,y)):z&&(z.d(1),z=null),2&n[0]&&(Q=!t[1].hasOwnProperty("disable_product")||0==t[1].disable_product),Q?Z?Z.p(t,n):(Z=ci(t),Z.c(),Z.m(o,j)):Z&&(Z.d(1),Z=null),6&n[0]&&(tt=C(t[2].userDepartmentsGroups),B=S(B,n,et,1,t,tt,F,o,P,ri,k,ti)),t[2].userDepartmentsGroups.length>0?nt||(nt=_i(),nt.c(),nt.m(o,$)):nt&&(nt.d(1),nt=null),8&n[0]&&I!==(I=t[3]("widget_options.search_dep"))&&g(D,"placeholder",I),4&n[0]&&D.value!==t[2].depFilterText&&x(D,t[2].depFilterText),14&n[0]&&(it=C(t[2].userDepartments),q=S(q,n,at,1,t,it,X,A,P,pi,null,Zn)),2&n[0]&&O!==(O="col-"+(t[1].hasOwnProperty("userid")?6:t[1].hasOwnProperty("hide_limits")?12:10)+" pe-0")&&g(e,"class",O)},d(t){t&&h(e),U&&U.d(),K&&K.d(),Y&&Y.d(),z&&z.d(),Z&&Z.d();for(let t=0;t<B.length;t+=1)B[t].d();nt&&nt.d();for(let t=0;t<q.length;t+=1)q[t].d();E=!1,N()}}}function ii(t){let e,n,i,a,s,l,c,o,d,_,p,y,x,k,$,W,C,D,I,L,S,P,T,A,O,R=t[3]("widget_options.check_all")+"",E=t[3]("widget_options.only_online")+"",N=t[3]("widget_options.only_explicit_online")+"",V=t[3]("widget_options.hide_hidden")+"";return{c(){e=m("li"),n=m("label"),i=m("input"),a=r(),s=w(R),l=r(),c=m("li"),o=m("label"),d=m("input"),_=r(),p=w(E),y=r(),x=m("li"),k=m("label"),$=m("input"),W=r(),C=w(N),D=r(),I=m("li"),L=m("label"),S=m("input"),P=r(),T=w(V),g(i,"type","checkbox"),g(d,"type","checkbox"),g($,"type","checkbox"),g(S,"type","checkbox")},m(r,h){u(r,e,h),f(e,n),f(n,i),i.checked=t[2][t[1].panelid+"_all_departments"],f(n,a),f(n,s),u(r,l,h),u(r,c,h),f(c,o),f(o,d),d.checked=t[2][t[1].panelid+"_only_online"],f(o,_),f(o,p),u(r,y,h),u(r,x,h),f(x,k),f(k,$),$.checked=t[2][t[1].panelid+"_only_explicit_online"],f(k,W),f(k,C),u(r,D,h),u(r,I,h),f(I,L),f(L,S),S.checked=t[2][t[1].panelid+"_hide_hidden"],f(L,P),f(L,T),A||(O=[b(i,"change",t[4]),b(i,"change",t[5]),b(d,"change",t[6]),b(d,"change",t[7]),b($,"change",t[8]),b($,"change",t[9]),b(S,"change",t[10]),b(S,"change",t[11])],A=!0)},p(t,e){6&e[0]&&(i.checked=t[2][t[1].panelid+"_all_departments"]),8&e[0]&&R!==(R=t[3]("widget_options.check_all")+"")&&v(s,R),6&e[0]&&(d.checked=t[2][t[1].panelid+"_only_online"]),8&e[0]&&E!==(E=t[3]("widget_options.only_online")+"")&&v(p,E),6&e[0]&&($.checked=t[2][t[1].panelid+"_only_explicit_online"]),8&e[0]&&N!==(N=t[3]("widget_options.only_explicit_online")+"")&&v(C,N),6&e[0]&&(S.checked=t[2][t[1].panelid+"_hide_hidden"]),8&e[0]&&V!==(V=t[3]("widget_options.hide_hidden")+"")&&v(T,V)},d(t){t&&(h(e),h(l),h(c),h(y),h(x),h(D),h(I)),A=!1,j(O)}}}function ai(t){let e,n,i,a,s,l,c,o,d=t[3]("widget_options.hide_dep")+"";return{c(){e=m("li"),n=m("label"),i=m("input"),a=r(),s=m("i"),s.textContent="home",l=w(d),g(i,"type","checkbox"),g(s,"class","material-icons")},m(d,r){u(d,e,r),f(e,n),f(n,i),i.checked=t[2][t[1].panelid+"_hide_dep"],f(n,a),f(n,s),f(n,l),c||(o=[b(i,"change",t[12]),b(i,"change",t[13])],c=!0)},p(t,e){6&e[0]&&(i.checked=t[2][t[1].panelid+"_hide_dep"]),8&e[0]&&d!==(d=t[3]("widget_options.hide_dep")+"")&&v(l,d)},d(t){t&&h(e),c=!1,j(o)}}}function si(t){let e,n,i,a,s,l,c,o,d=t[3]("widget_options.hide_dep_groups")+"";return{c(){e=m("li"),n=m("label"),i=m("input"),a=r(),s=m("i"),s.textContent="",l=w(d),g(i,"type","checkbox"),g(s,"class","material-icons")},m(d,r){u(d,e,r),f(e,n),f(n,i),i.checked=t[2][t[1].panelid+"_hide_dgroup"],f(n,a),f(n,s),f(n,l),c||(o=[b(i,"change",t[14]),b(i,"change",t[15])],c=!0)},p(t,e){6&e[0]&&(i.checked=t[2][t[1].panelid+"_hide_dgroup"]),8&e[0]&&d!==(d=t[3]("widget_options.hide_dep_groups")+"")&&v(l,d)},d(t){t&&h(e),c=!1,j(o)}}}function li(t){let e,n,i,a,s,l,c,o=t[3]("widget_options.hide_disabled")+"";return{c(){e=m("li"),n=m("label"),i=m("input"),a=r(),s=w(o),g(i,"data-stoppropagation","true"),g(i,"type","checkbox"),g(e,"class","border-bottom")},m(o,d){u(o,e,d),f(e,n),f(n,i),i.checked=t[2][t[1].panelid+"_hide_disabled"],f(n,a),f(n,s),l||(c=[b(i,"change",t[16]),b(i,"change",t[17])],l=!0)},p(t,e){6&e[0]&&(i.checked=t[2][t[1].panelid+"_hide_disabled"]),8&e[0]&&o!==(o=t[3]("widget_options.hide_disabled")+"")&&v(s,o)},d(t){t&&h(e),l=!1,j(c)}}}function ci(t){let e,n,i=[],a=new Map,s=C(t[2].userProductNames);const l=t=>t[44].id;for(let e=0;e<s.length;e+=1){let n=ei(t,s,e),c=l(n);a.set(c,i[e]=oi(c,n))}let c=t[2].userProductNames.length>0&&di();return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=r(),c&&c.c(),n=_()},m(t,a){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,a);u(t,e,a),c&&c.m(t,a),u(t,n,a)},p(t,o){6&o[0]&&(s=C(t[2].userProductNames),i=S(i,o,l,1,t,s,a,e.parentNode,P,oi,e,ei)),t[2].userProductNames.length>0?c||(c=di(),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null)},d(t){t&&(h(e),h(n));for(let e=0;e<i.length;e+=1)i[e].d(t);c&&c.d(t)}}}function oi(t,e){let n,i,a,s,l,c,o,d,r,_=!1,p=e[44].name+"";return o=E(e[19][0]),{key:t,first:null,c(){n=m("li"),i=m("label"),a=m("input"),l=m("i"),l.textContent="",c=w(p),g(a,"type","checkbox"),a.__value=s=e[44].id,x(a,a.__value),g(l,"class","material-icons"),g(n,"data-stoppropagation","true"),o.p(a),this.first=n},m(t,s){u(t,n,s),f(n,i),f(i,a),a.checked=~(e[2][e[1].panelid+"_products"]||[]).indexOf(a.__value),f(i,l),f(i,c),d||(r=[b(a,"change",e[18]),b(a,"change",e[20])],d=!0)},p(t,n){e=t,4&n[0]&&s!==(s=e[44].id)&&(a.__value=s,x(a,a.__value),_=!0),(_||6&n[0])&&(a.checked=~(e[2][e[1].panelid+"_products"]||[]).indexOf(a.__value)),4&n[0]&&p!==(p=e[44].name+"")&&v(c,p)},d(t){t&&h(n),o.r(),d=!1,j(r)}}}function di(t){let e;return{c(){e=m("li"),g(e,"class","border-bottom")},m(t,n){u(t,e,n)},d(t){t&&h(e)}}}function ri(t,e){let n,i,a,s,l,c,o,d,r,_=!1,p=e[39].name+"";return o=E(e[19][0]),{key:t,first:null,c(){n=m("li"),i=m("label"),a=m("input"),l=m("i"),l.textContent="",c=w(p),a.__value=s=e[39].id,x(a,a.__value),g(a,"type","checkbox"),g(l,"title","Department group"),g(l,"class","material-icons"),g(n,"data-stoppropagation","true"),o.p(a),this.first=n},m(t,s){u(t,n,s),f(n,i),f(i,a),a.checked=~(e[2][e[1].panelid+"_dpgroups"]||[]).indexOf(a.__value),f(i,l),f(i,c),d||(r=[b(a,"change",e[21]),b(a,"change",e[22])],d=!0)},p(t,n){e=t,4&n[0]&&s!==(s=e[39].id)&&(a.__value=s,x(a,a.__value),_=!0),(_||6&n[0])&&(a.checked=~(e[2][e[1].panelid+"_dpgroups"]||[]).indexOf(a.__value)),4&n[0]&&p!==(p=e[39].name+"")&&v(c,p)},d(t){t&&h(n),o.r(),d=!1,j(r)}}}function _i(t){let e;return{c(){e=m("li"),g(e,"class","border-bottom")},m(t,n){u(t,e,n)},d(t){t&&h(e)}}}function ui(t){let e,n,i,a,s,l,c,o,d,r,_,p=!1,y=t[39].name+"";return d=E(t[19][0]),{c(){e=m("li"),n=m("label"),i=m("input"),s=m("i"),l=w("home"),o=w(y),i.__value=a=t[39].id,x(i,i.__value),g(i,"type","checkbox"),g(s,"title",c=t[3]("widget.department")),g(s,"class","material-icons"),k(s,"chat-active",t[39].slc),g(e,"data-stoppropagation","true"),d.p(i)},m(a,c){u(a,e,c),f(e,n),f(n,i),i.checked=~(t[2][t[1].panelid]||[]).indexOf(i.__value),f(n,s),f(s,l),f(n,o),r||(_=[b(i,"change",t[24]),b(i,"change",t[25])],r=!0)},p(t,e){4&e[0]&&a!==(a=t[39].id)&&(i.__value=a,x(i,i.__value),p=!0),(p||6&e[0])&&(i.checked=~(t[2][t[1].panelid]||[]).indexOf(i.__value)),8&e[0]&&c!==(c=t[3]("widget.department"))&&g(s,"title",c),4&e[0]&&k(s,"chat-active",t[39].slc),4&e[0]&&y!==(y=t[39].name+"")&&v(o,y)},d(t){t&&h(e),d.r(),r=!1,j(_)}}}function pi(t,e){let n,i,a=!(1==e[2][e[1].panelid+"_only_explicit_online"]&&0==e[39].oexp||1==e[2][e[1].panelid+"_hide_hidden"]&&1==e[39].hidden||1==e[2][e[1].panelid+"_hide_disabled"]&&1==e[39].disabled||e[2][e[1].panelid+"_only_online"]&&0==e[39].ogen)&&ui(e);return{key:t,first:null,c(){n=_(),a&&a.c(),i=_(),this.first=n},m(t,e){u(t,n,e),a&&a.m(t,e),u(t,i,e)},p(t,n){1==(e=t)[2][e[1].panelid+"_only_explicit_online"]&&0==e[39].oexp||1==e[2][e[1].panelid+"_hide_hidden"]&&1==e[39].hidden||1==e[2][e[1].panelid+"_hide_disabled"]&&1==e[39].disabled||e[2][e[1].panelid+"_only_online"]&&0==e[39].ogen?a&&(a.d(1),a=null):a?a.p(e,n):(a=ui(e),a.c(),a.m(i.parentNode,i))},d(t){t&&(h(n),h(i)),a&&a.d(t)}}}function hi(t){let e,n,i,a,s,l,c,o,d,_,p,y,j,k,$,W,D=t[3]("widget_options.users")+"",I=[],L=new Map,T=[],A=new Map,O=C(t[2].userList);const R=t=>t[36].id;for(let e=0;e<O.length;e+=1){let n=zn(t,O,e),i=R(n);L.set(i,I[e]=mi(i,n))}let E=t[2].userGroups.length>0&&gi(),N=C(t[2].userGroups);const V=t=>t[33].id;for(let e=0;e<N.length;e+=1){let n=Yn(t,N,e),i=V(n);A.set(i,T[e]=fi(i,n))}return{c(){e=m("div"),n=m("div"),i=m("button"),a=w(D),s=r(),l=m("ul"),c=m("li"),o=m("input"),_=r(),p=m("li"),y=m("ul");for(let t=0;t<I.length;t+=1)I[t].c();j=r(),E&&E.c(),k=r();for(let t=0;t<T.length;t+=1)T[t].c();g(i,"type","button"),g(i,"class","btn btn-light btn-block btn-sm dropdown-toggle btn-department-dropdown"),g(i,"data-bs-toggle","dropdown"),g(i,"aria-expanded","false"),g(o,"type","text"),g(o,"data-stoppropagation","true"),g(o,"placeholder",d=t[3]("widget_options.search_operators")),g(o,"class","filter-text-input form-control form-control-sm"),g(c,"class","p-1"),g(y,"class","list-unstyled dropdown-lhc"),g(p,"class","dropdown-result"),g(l,"class","dropdown-menu dropdown-lhc"),g(l,"role","menu"),g(n,"class","btn-group btn-block btn-block-department"),g(e,"class","col-4 pe-0")},m(d,r){u(d,e,r),f(e,n),f(n,i),f(i,a),f(n,s),f(n,l),f(l,c),f(c,o),x(o,t[2].userFilterText),f(l,_),f(l,p),f(p,y);for(let t=0;t<I.length;t+=1)I[t]&&I[t].m(y,null);f(y,j),E&&E.m(y,null),f(y,k);for(let t=0;t<T.length;t+=1)T[t]&&T[t].m(y,null);$||(W=b(o,"input",t[26]),$=!0)},p(t,e){8&e[0]&&D!==(D=t[3]("widget_options.users")+"")&&v(a,D),8&e[0]&&d!==(d=t[3]("widget_options.search_operators"))&&g(o,"placeholder",d),4&e[0]&&o.value!==t[2].userFilterText&&x(o,t[2].userFilterText),6&e[0]&&(O=C(t[2].userList),I=S(I,e,R,1,t,O,L,y,P,mi,j,zn)),t[2].userGroups.length>0?E||(E=gi(),E.c(),E.m(y,k)):E&&(E.d(1),E=null),6&e[0]&&(N=C(t[2].userGroups),T=S(T,e,V,1,t,N,A,y,P,fi,null,Yn))},d(t){t&&h(e);for(let t=0;t<I.length;t+=1)I[t].d();E&&E.d();for(let t=0;t<T.length;t+=1)T[t].d();$=!1,W()}}}function mi(t,e){let n,i,a,s,l,c,o,d,r,_=!1,p=(e[36].name||e[36].name_official)+"";return o=E(e[19][0]),{key:t,first:null,c(){n=m("li"),i=m("label"),a=m("input"),l=m("i"),l.textContent="account_box",c=w(p),a.__value=s=e[36].id,x(a,a.__value),g(a,"type","checkbox"),g(l,"title","User"),g(l,"class","material-icons"),g(n,"data-stoppropagation","true"),o.p(a),this.first=n},m(t,s){u(t,n,s),f(n,i),f(i,a),a.checked=~(e[2][e[1].userid]||[]).indexOf(a.__value),f(i,l),f(i,c),d||(r=[b(a,"change",e[27]),b(a,"change",e[28])],d=!0)},p(t,n){e=t,4&n[0]&&s!==(s=e[36].id)&&(a.__value=s,x(a,a.__value),_=!0),(_||6&n[0])&&(a.checked=~(e[2][e[1].userid]||[]).indexOf(a.__value)),4&n[0]&&p!==(p=(e[36].name||e[36].name_official)+"")&&v(c,p)},d(t){t&&h(n),o.r(),d=!1,j(r)}}}function gi(t){let e;return{c(){e=m("li"),g(e,"class","border-top")},m(t,n){u(t,e,n)},d(t){t&&h(e)}}}function fi(t,e){let n,i,a,s,l,c,o,d,r,_=!1,p=e[33].name+"";return o=E(e[19][0]),{key:t,first:null,c(){n=m("li"),i=m("label"),a=m("input"),l=m("i"),l.textContent="people",c=w(p),a.__value=s=e[33].id,x(a,a.__value),g(a,"type","checkbox"),g(l,"title","User group"),g(l,"class","material-icons"),g(n,"data-stoppropagation","true"),o.p(a),this.first=n},m(t,s){u(t,n,s),f(n,i),f(i,a),a.checked=~(e[2][e[1].panelid+"_ugroups"]||[]).indexOf(a.__value),f(i,l),f(i,c),d||(r=[b(a,"change",e[29]),b(a,"change",e[30])],d=!0)},p(t,n){e=t,4&n[0]&&s!==(s=e[33].id)&&(a.__value=s,x(a,a.__value),_=!0),(_||6&n[0])&&(a.checked=~(e[2][e[1].panelid+"_ugroups"]||[]).indexOf(a.__value)),4&n[0]&&p!==(p=e[33].name+"")&&v(c,p)},d(t){t&&h(n),o.r(),d=!1,j(r)}}}function wi(t){let e,n,i,a,s,l,c,o,d,r,_;return{c(){e=m("div"),n=m("select"),i=m("option"),i.textContent="5",a=m("option"),a.textContent="10",s=m("option"),s.textContent="25",l=m("option"),l.textContent="50",c=m("option"),c.textContent="100",i.__value="5",x(i,i.__value),a.__value="10",x(a,a.__value),s.__value="25",x(s,s.__value),l.__value="50",x(l,l.__value),c.__value="100",x(c,c.__value),g(n,"class","form-control form-control-sm btn-light"),g(n,"title",o=t[3]("widget_options.limit")),void 0===t[2][t[1].limitid]&&T((()=>t[31].call(n))),g(e,"class",d="col-"+(t[1].hasOwnProperty("limits_width")?t[1].limits_width:2))},m(o,d){u(o,e,d),f(e,n),f(n,i),f(n,a),f(n,s),f(n,l),f(n,c),A(n,t[2][t[1].limitid],!0),r||(_=[b(n,"change",t[31]),b(n,"change",t[32])],r=!0)},p(t,i){8&i[0]&&o!==(o=t[3]("widget_options.limit"))&&g(n,"title",o),6&i[0]&&A(n,t[2][t[1].limitid]),2&i[0]&&d!==(d="col-"+(t[1].hasOwnProperty("limits_width")?t[1].limits_width:2))&&g(e,"class",d)},d(t){t&&h(e),r=!1,j(_)}}}function vi(t){let e,n,i,a,s,l=!t[1].hasOwnProperty("hide_department_filter")||!1===t[1].hide_department_filter,c=t[1].hasOwnProperty("userid"),o=!t[1].hasOwnProperty("hide_limits"),d=l&&ni(t),_=c&&hi(t),w=o&&wi(t);return{c(){e=m("div"),n=m("div"),d&&d.c(),i=r(),_&&_.c(),a=r(),w&&w.c(),g(n,"class","row"),g(e,"class",s="p-"+(t[1].hasOwnProperty("padding_filters")?t[1].padding_filters:2))},m(t,s){u(t,e,s),f(e,n),d&&d.m(n,null),f(n,i),_&&_.m(n,null),f(n,a),w&&w.m(n,null)},p(t,r){2&r[0]&&(l=!t[1].hasOwnProperty("hide_department_filter")||!1===t[1].hide_department_filter),l?d?d.p(t,r):(d=ni(t),d.c(),d.m(n,i)):d&&(d.d(1),d=null),2&r[0]&&(c=t[1].hasOwnProperty("userid")),c?_?_.p(t,r):(_=hi(t),_.c(),_.m(n,a)):_&&(_.d(1),_=null),2&r[0]&&(o=!t[1].hasOwnProperty("hide_limits")),o?w?w.p(t,r):(w=wi(t),w.c(),w.m(n,null)):w&&(w.d(1),w=null),2&r[0]&&s!==(s="p-"+(t[1].hasOwnProperty("padding_filters")?t[1].padding_filters:2))&&g(e,"class",s)},i:p,o:p,d(t){t&&h(e),d&&d.d(),_&&_.d(),w&&w.d()}}}function bi(t,e,n){let i,s,l=p,c=()=>(l(),l=I(o,(t=>n(2,i=t))),o);a(t,y,(t=>n(3,s=t))),t.$$.on_destroy.push((()=>l()));let{lhcList:o=null}=e;c();let{optionsPanel:d={panelid:"pendingd",limitid:"limitp",userid:"pendingu"}}=e;const r=[[]];return t.$$set=t=>{"lhcList"in t&&c(n(0,o=t.lhcList)),"optionsPanel"in t&&n(1,d=t.optionsPanel)},[o,d,i,s,function(){i[d.panelid+"_all_departments"]=this.checked,o.set(i)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[d.panelid,!0])},function(){i[d.panelid+"_only_online"]=this.checked,o.set(i)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[d.panelid,!0])},function(){i[d.panelid+"_only_explicit_online"]=this.checked,o.set(i)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[d.panelid,!0])},function(){i[d.panelid+"_hide_hidden"]=this.checked,o.set(i)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[d.panelid,!0])},function(){i[d.panelid+"_hide_dep"]=this.checked,o.set(i)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[d.panelid,!0])},function(){i[d.panelid+"_hide_dgroup"]=this.checked,o.set(i)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[d.panelid,!0])},function(){i[d.panelid+"_hide_disabled"]=this.checked,o.set(i)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[d.panelid,!0])},function(){i[d.panelid+"_products"]=N(r[0],this.__value,this.checked),o.set(i)},r,t=>ee.emitEvent("svelteProductChanged",[d.panelid+"_products"]),function(){i[d.panelid+"_dpgroups"]=N(r[0],this.__value,this.checked),o.set(i)},t=>{ee.emitEvent("svelteProductChanged",[d.panelid+"_dpgroups"])},function(){i.depFilterText=this.value,o.set(i)},function(){i[d.panelid]=N(r[0],this.__value,this.checked),o.set(i)},t=>{ee.emitEvent("svelteDepartmentChanged",[d.panelid])},function(){i.userFilterText=this.value,o.set(i)},function(){i[d.userid]=N(r[0],this.__value,this.checked),o.set(i)},t=>{ee.emitEvent("svelteProductChanged",[d.panelid])},function(){i[d.panelid+"_ugroups"]=N(r[0],this.__value,this.checked),o.set(i)},t=>{ee.emitEvent("svelteProductChanged",[d.panelid+"_ugroups"])},function(){i[d.limitid]=L(this),o.set(i)},t=>{ee.emitEvent("svelteLimitChanged",[d.limitid])}]}t(Kn,{sort_identifier:{},type:{},lhcList:{},www_dir_flags:{},panel_id:{},permissions:{},column_2_width:{},column_1_width:{},column_3_width:{},additional_sort:{}},[],[],!0);class yi extends e{constructor(t){super(),n(this,t,bi,vi,i,{lhcList:0,optionsPanel:1},null,[-1,-1])}get lhcList(){return this.$$.ctx[0]}set lhcList(t){this.$$set({lhcList:t}),d()}get optionsPanel(){return this.$$.ctx[1]}set optionsPanel(t){this.$$set({optionsPanel:t}),d()}}function xi(t){let e,n,i,a,s,l=0==t[4]&&ji(t),c=!0!==t[25].toggleWidgetData[t[14]]&&Ti(t);return{c(){e=m("div"),l&&l.c(),n=r(),c&&c.c(),g(e,"class",i=(!1===t[6]?"card card-dashboard":"")+" card-"+t[1]+" "+(t[25][t[0]].list.length>0?"has-chats":"")),g(e,"data-panel-id",a=t[19]||t[0])},m(t,i){u(t,e,i),l&&l.m(e,null),f(e,n),c&&c.m(e,null),s=!0},p(t,o){0==t[4]?l?l.p(t,o):(l=ji(t),l.c(),l.m(e,n)):l&&(l.d(1),l=null),!0!==t[25].toggleWidgetData[t[14]]?c?(c.p(t,o),33570816&o[0]&&V(c,1)):(c=Ti(t),c.c(),V(c,1),c.m(e,null)):c&&(G(),H(c,1,1,(()=>{c=null})),J()),(!s||33554499&o[0]&&i!==(i=(!1===t[6]?"card card-dashboard":"")+" card-"+t[1]+" "+(t[25][t[0]].list.length>0?"has-chats":"")))&&g(e,"class",i),(!s||524289&o[0]&&a!==(a=t[19]||t[0]))&&g(e,"data-panel-id",a)},i(t){s||(V(c),s=!0)},o(t){H(c),s=!1},d(t){t&&h(e),l&&l.d(),c&&c.d()}}}function ji(t){let e,n,i,a,s,l,c,o,d,_,p,y,x,j="depgroups_stats"==t[0]&&-1!==t[23].indexOf("lhstatistic_exportxls"),k=0==t[25].toggleWidgetData[t[14]]?"expand_less":"expand_more",$=t[17]&&ki(t);function W(t,e){return t[11]?$i:Wi}let C=W(t),D=C(t),I="online_op"==t[0]&&Ii(t),L=j&&Li(t),S=!t[12]&&t[25][t[0]].tt&&Si(t),P="depgroups_stats"==t[0]&&t[25].departments_stats.tt&&Pi(t);return{c(){e=m("div"),$&&$.c(),n=r(),D.c(),i=r(),I&&I.c(),a=r(),L&&L.c(),s=r(),l=m("a"),c=w(k),d=r(),S&&S.c(),_=r(),P&&P.c(),g(l,"title",o=t[26]("widget.collapse_expand")),g(l,"class","fs24 float-end material-icons exp-cntr"),g(e,"class",p=t[15]+" card-header")},m(o,r){u(o,e,r),$&&$.m(e,null),f(e,n),D.m(e,null),f(e,i),I&&I.m(e,null),f(e,a),L&&L.m(e,null),f(e,s),f(e,l),f(l,c),f(e,d),S&&S.m(e,null),f(e,_),P&&P.m(e,null),y||(x=b(l,"click",t[34]),y=!0)},p(t,d){t[17]?$?$.p(t,d):($=ki(t),$.c(),$.m(e,n)):$&&($.d(1),$=null),C===(C=W(t))&&D?D.p(t,d):(D.d(1),D=C(t),D&&(D.c(),D.m(e,i))),"online_op"==t[0]?I?I.p(t,d):(I=Ii(t),I.c(),I.m(e,a)):I&&(I.d(1),I=null),8388609&d[0]&&(j="depgroups_stats"==t[0]&&-1!==t[23].indexOf("lhstatistic_exportxls")),j?L?L.p(t,d):(L=Li(t),L.c(),L.m(e,s)):L&&(L.d(1),L=null),33570816&d[0]&&k!==(k=0==t[25].toggleWidgetData[t[14]]?"expand_less":"expand_more")&&v(c,k),67108864&d[0]&&o!==(o=t[26]("widget.collapse_expand"))&&g(l,"title",o),!t[12]&&t[25][t[0]].tt?S?S.p(t,d):(S=Si(t),S.c(),S.m(e,_)):S&&(S.d(1),S=null),"depgroups_stats"==t[0]&&t[25].departments_stats.tt?P?P.p(t,d):(P=Pi(t),P.c(),P.m(e,null)):P&&(P.d(1),P=null),32768&d[0]&&p!==(p=t[15]+" card-header")&&g(e,"class",p)},d(t){t&&h(e),$&&$.d(),D.d(),I&&I.d(),L&&L.d(),S&&S.d(),P&&P.d(),y=!1,x()}}}function ki(t){let e,n,i;return{c(){e=m("i"),e.textContent="settings_applications",g(e,"class","material-icons me-0 action-image")},m(a,s){u(a,e,s),n||(i=b(e,"click",t[33]),n=!0)},p:p,d(t){t&&h(e),n=!1,i()}}}function $i(t){let e,n,i,a,s,l,c,o,d=t[26]("widget_title."+t[0])+"",p=!t[13]&&Ci(t);return{c(){e=m("i"),n=w(t[10]),a=m("span"),s=w(d),c=r(),p&&p.c(),o=_(),g(e,"class",i="material-icons "+t[9]),g(a,"class",l="d-none d-lg-inline "+t[16])},m(t,i){u(t,e,i),f(e,n),u(t,a,i),f(a,s),u(t,c,i),p&&p.m(t,i),u(t,o,i)},p(t,c){1024&c[0]&&v(n,t[10]),512&c[0]&&i!==(i="material-icons "+t[9])&&g(e,"class",i),67108865&c[0]&&d!==(d=t[26]("widget_title."+t[0])+"")&&v(s,d),65536&c[0]&&l!==(l="d-none d-lg-inline "+t[16])&&g(a,"class",l),t[13]?p&&(p.d(1),p=null):p?p.p(t,c):(p=Ci(t),p.c(),p.m(o.parentNode,o))},d(t){t&&(h(e),h(a),h(c),h(o)),p&&p.d(t)}}}function Wi(t){let e,n,i,a,s,l,c,o,d=t[26]("widget_title."+t[0])+"",_=!t[13]&&Di(t);return{c(){e=m("a"),n=m("i"),i=w(t[10]),s=m("span"),l=w(d),o=r(),_&&_.c(),g(n,"class",a="material-icons "+t[9]),g(s,"class",c="d-none d-lg-inline "+t[16]),g(e,"href",t[8])},m(t,a){u(t,e,a),f(e,n),f(n,i),f(e,s),f(s,l),f(e,o),_&&_.m(e,null)},p(t,o){1024&o[0]&&v(i,t[10]),512&o[0]&&a!==(a="material-icons "+t[9])&&g(n,"class",a),67108865&o[0]&&d!==(d=t[26]("widget_title."+t[0])+"")&&v(l,d),65536&o[0]&&c!==(c="d-none d-lg-inline "+t[16])&&g(s,"class",c),t[13]?_&&(_.d(1),_=null):_?_.p(t,o):(_=Di(t),_.c(),_.m(e,null)),256&o[0]&&g(e,"href",t[8])},d(t){t&&h(e),_&&_.d()}}}function Ci(t){let e,n,i,a,s,l=t[25][t[0]].list.length+"",c=t[25][t[0]].list.length==t[25][t[24].limitid]?"+":"";return{c(){e=m("span"),n=w("("),i=w(l),a=w(c),s=w(")"),g(e,"class",t[16])},m(t,l){u(t,e,l),f(e,n),f(e,i),f(e,a),f(e,s)},p(t,n){33554433&n[0]&&l!==(l=t[25][t[0]].list.length+"")&&v(i,l),50331649&n[0]&&c!==(c=t[25][t[0]].list.length==t[25][t[24].limitid]?"+":"")&&v(a,c),65536&n[0]&&g(e,"class",t[16])},d(t){t&&h(e)}}}function Di(t){let e,n,i,a,s,l=t[25][t[0]].list.length+"",c=t[25][t[0]].list.length==t[25][t[24].limitid]?"+":"";return{c(){e=m("span"),n=w("("),i=w(l),a=w(c),s=w(")"),g(e,"class",t[16])},m(t,l){u(t,e,l),f(e,n),f(e,i),f(e,a),f(e,s)},p(t,n){33554433&n[0]&&l!==(l=t[25][t[0]].list.length+"")&&v(i,l),50331649&n[0]&&c!==(c=t[25][t[0]].list.length==t[25][t[24].limitid]?"+":"")&&v(a,c),65536&n[0]&&g(e,"class",t[16])},d(t){t&&h(e)}}}function Ii(t){let e,n,i,a=t[25][t[0]].op_on+"";return{c(){e=m("span"),n=w(a),g(e,"class","text-success"),g(e,"title",i=t[26]("widget.online"))},m(t,i){u(t,e,i),f(e,n)},p(t,s){33554433&s[0]&&a!==(a=t[25][t[0]].op_on+"")&&v(n,a),67108864&s[0]&&i!==(i=t[26]("widget.online"))&&g(e,"title",i)},d(t){t&&h(e)}}}function Li(t){let e,n,i;return{c(){e=m("a"),n=w("file_download"),g(e,"class","material-icons"),g(e,"target","_blank"),g(e,"href",WWW_DIR_JAVASCRIPT+"statistic/departmentstatusxls"),g(e,"title",i=t[26]("widget.download_xls"))},m(t,i){u(t,e,i),f(e,n)},p(t,n){67108864&n[0]&&i!==(i=t[26]("widget.download_xls"))&&g(e,"title",i)},d(t){t&&h(e)}}}function Si(t){let e,n,i,a,s=t[25][t[0]].tt+"";return{c(){e=m("span"),n=w(s),i=w(" s."),g(e,"title",a=t[26]("widget.taken_time")),g(e,"class","d-none d-xl-inline badge me-1 float-end bg-light text-muted p-1 fs11 fw-light border")},m(t,a){u(t,e,a),f(e,n),f(e,i)},p(t,i){33554433&i[0]&&s!==(s=t[25][t[0]].tt+"")&&v(n,s),67108864&i[0]&&a!==(a=t[26]("widget.taken_time"))&&g(e,"title",a)},d(t){t&&h(e)}}}function Pi(t){let e,n,i,a,s=t[25].departments_stats.tt+"";return{c(){e=m("span"),n=w(s),i=w(" s."),g(e,"title",a=t[26]("widget.taken_time_dep")),g(e,"class","d-none d-xl-inline badge me-1 float-end bg-light text-muted p-1 fs11 fw-light border")},m(t,a){u(t,e,a),f(e,n),f(e,i)},p(t,i){33554432&i[0]&&s!==(s=t[25].departments_stats.tt+"")&&v(n,s),67108864&i[0]&&a!==(a=t[26]("widget.taken_time_dep"))&&g(e,"title",a)},d(t){t&&h(e)}}}function Ti(t){let e,n,i,a,s=!t[5]&&Ai(t),l=t[25][t[0]].list.length>0&&Oi(t),c=0===t[25][t[0]].list.length&&Ri();return{c(){e=m("div"),s&&s.c(),n=r(),l&&l.c(),i=r(),c&&c.c()},m(t,o){u(t,e,o),s&&s.m(e,null),f(e,n),l&&l.m(e,null),f(e,i),c&&c.m(e,null),a=!0},p(t,a){t[5]?s&&(G(),H(s,1,1,(()=>{s=null})),J()):s?(s.p(t,a),32&a[0]&&V(s,1)):(s=Ai(t),s.c(),V(s,1),s.m(e,n)),t[25][t[0]].list.length>0?l?(l.p(t,a),33554433&a[0]&&V(l,1)):(l=Oi(t),l.c(),V(l,1),l.m(e,i)):l&&(G(),H(l,1,1,(()=>{l=null})),J()),0===t[25][t[0]].list.length?c||(c=Ri(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(t){a||(V(s),V(l),a=!0)},o(t){H(s),H(l),a=!1},d(t){t&&h(e),s&&s.d(),l&&l.d(),c&&c.d()}}}function Ai(t){let e,n;return e=new yi({props:{optionsPanel:t[24],lhcList:s}}),{c(){M(e.$$.fragment)},m(t,i){Q(e,t,i),n=!0},p(t,n){const i={};16777216&n[0]&&(i.optionsPanel=t[24]),e.$set(i)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function Oi(t){let e,n,i;return n=new Kn({props:{additional_sort:t[18],column_1_width:t[21],column_3_width:t[22],column_2_width:t[20],permissions:t[23],www_dir_flags:t[7],panel_id:t[24].panelid,lhcList:s,type:t[0],sort_identifier:t[3]}}),{c(){e=m("div"),M(n.$$.fragment),g(e,"class","panel-list"),g(e,"id",t[2]),R(e,"max-height",t[25][t[24].panelid+"_m_h"]??"330px")},m(t,a){u(t,e,a),Q(n,e,null),i=!0},p(t,a){const s={};262144&a[0]&&(s.additional_sort=t[18]),2097152&a[0]&&(s.column_1_width=t[21]),4194304&a[0]&&(s.column_3_width=t[22]),1048576&a[0]&&(s.column_2_width=t[20]),8388608&a[0]&&(s.permissions=t[23]),128&a[0]&&(s.www_dir_flags=t[7]),16777216&a[0]&&(s.panel_id=t[24].panelid),1&a[0]&&(s.type=t[0]),8&a[0]&&(s.sort_identifier=t[3]),n.$set(s),(!i||4&a[0])&&g(e,"id",t[2]),50331648&a[0]&&R(e,"max-height",t[25][t[24].panelid+"_m_h"]??"330px")},i(t){i||(V(n.$$.fragment,t),i=!0)},o(t){H(n.$$.fragment,t),i=!1},d(t){t&&h(e),B(n)}}}function Ri(t){let e;return{c(){e=m("div"),e.innerHTML='<i class="material-icons">search</i>All items will appear here.',g(e,"class","m-1 alert alert-light")},m(t,n){u(t,e,n)},d(t){t&&h(e)}}}function Ei(t){let e,n,i=t[25][t[0]]&&t[25][t[0]].list&&xi(t);return{c(){i&&i.c(),e=_()},m(t,a){i&&i.m(t,a),u(t,e,a),n=!0},p(t,n){t[25][t[0]]&&t[25][t[0]].list?i?(i.p(t,n),33554433&n[0]&&V(i,1)):(i=xi(t),i.c(),V(i,1),i.m(e.parentNode,e)):i&&(G(),H(i,1,1,(()=>{i=null})),J())},i(t){n||(V(i),n=!0)},o(t){H(i),n=!1},d(t){t&&h(e),i&&i.d(t)}}}function Ni(t,e,n){let i,l,c,o;a(t,s,(t=>n(25,c=t))),a(t,y,(t=>n(26,o=t)));let{type:d="pending_chats"}=e,{list_identifier:r="pending"}=e,{panel_list_identifier:_="pendingd-panel-list"}=e,{sort_identifier:u="pending_chats_sort"}=e,{status_id:p=0}=e,{status_key:h="chat_status_ids"}=e,{hide_header:m=!1}=e,{hide_filter_options:g=!1}=e,{default_expand:f=!1}=e,{right_panel_mode:w=!1}=e,{default_sort:v="id_asc"}=e,{www_dir_flags:b=null}=e,{url:x=WWW_DIR_JAVASCRIPT+"chat/list/("+h+")/"+p}=e,{icon_class:j="chat-pending"}=e,{card_icon:k="chat"}=e,{no_link:$=!1}=e,{no_duration:W=!1}=e,{no_counter:C=!1}=e,{expand_identifier:D="pchats_widget_exp"}=e,{custom_card_class:I=""}=e,{custom_title_class:L=""}=e,{custom_settings_url:S=""}=e,{additional_sort:P=""}=e,{data_panel_id:T=""}=e,{column_2_width:A="20%"}=e,{column_1_width:O="40%"}=e,{column_3_width:R="20%"}=e,{permissions:E=[]}=e,{optionsPanel:N={panelid:"pendingd",limitid:"limitp",userid:"pendingu"}}=e;F.getToggleWidget(s,D),F.getToggleWidgetSort(s,u,v);return t.$$set=t=>{"type"in t&&n(0,d=t.type),"list_identifier"in t&&n(1,r=t.list_identifier),"panel_list_identifier"in t&&n(2,_=t.panel_list_identifier),"sort_identifier"in t&&n(3,u=t.sort_identifier),"status_id"in t&&n(27,p=t.status_id),"status_key"in t&&n(28,h=t.status_key),"hide_header"in t&&n(4,m=t.hide_header),"hide_filter_options"in t&&n(5,g=t.hide_filter_options),"default_expand"in t&&n(29,f=t.default_expand),"right_panel_mode"in t&&n(6,w=t.right_panel_mode),"default_sort"in t&&n(30,v=t.default_sort),"www_dir_flags"in t&&n(7,b=t.www_dir_flags),"url"in t&&n(8,x=t.url),"icon_class"in t&&n(9,j=t.icon_class),"card_icon"in t&&n(10,k=t.card_icon),"no_link"in t&&n(11,$=t.no_link),"no_duration"in t&&n(12,W=t.no_duration),"no_counter"in t&&n(13,C=t.no_counter),"expand_identifier"in t&&n(14,D=t.expand_identifier),"custom_card_class"in t&&n(15,I=t.custom_card_class),"custom_title_class"in t&&n(16,L=t.custom_title_class),"custom_settings_url"in t&&n(17,S=t.custom_settings_url),"additional_sort"in t&&n(18,P=t.additional_sort),"data_panel_id"in t&&n(19,T=t.data_panel_id),"column_2_width"in t&&n(20,A=t.column_2_width),"column_1_width"in t&&n(21,O=t.column_1_width),"column_3_width"in t&&n(22,R=t.column_3_width),"permissions"in t&&n(31,E=t.permissions),"optionsPanel"in t&&n(32,N=t.optionsPanel)},t.$$.update=()=>{2&t.$$.dirty[1]&&n(24,i="string"==typeof N?JSON.parse(N):N),1&t.$$.dirty[1]&&n(23,l="string"==typeof E?JSON.parse(E):E)},[d,r,_,u,m,g,w,b,x,j,k,$,W,C,D,I,L,S,P,T,A,O,R,l,i,c,o,p,h,f,v,E,N,t=>F.openModal(WWW_DIR_JAVASCRIPT+S),t=>F.toggleWidget(s,D)]}t(yi,{lhcList:{},optionsPanel:{}},[],[],!0);class Vi extends e{constructor(t){super(),n(this,t,Ni,Ei,i,{type:0,list_identifier:1,panel_list_identifier:2,sort_identifier:3,status_id:27,status_key:28,hide_header:4,hide_filter_options:5,default_expand:29,right_panel_mode:6,default_sort:30,www_dir_flags:7,url:8,icon_class:9,card_icon:10,no_link:11,no_duration:12,no_counter:13,expand_identifier:14,custom_card_class:15,custom_title_class:16,custom_settings_url:17,additional_sort:18,data_panel_id:19,column_2_width:20,column_1_width:21,column_3_width:22,permissions:31,optionsPanel:32},null,[-1,-1])}get type(){return this.$$.ctx[0]}set type(t){this.$$set({type:t}),d()}get list_identifier(){return this.$$.ctx[1]}set list_identifier(t){this.$$set({list_identifier:t}),d()}get panel_list_identifier(){return this.$$.ctx[2]}set panel_list_identifier(t){this.$$set({panel_list_identifier:t}),d()}get sort_identifier(){return this.$$.ctx[3]}set sort_identifier(t){this.$$set({sort_identifier:t}),d()}get status_id(){return this.$$.ctx[27]}set status_id(t){this.$$set({status_id:t}),d()}get status_key(){return this.$$.ctx[28]}set status_key(t){this.$$set({status_key:t}),d()}get hide_header(){return this.$$.ctx[4]}set hide_header(t){this.$$set({hide_header:t}),d()}get hide_filter_options(){return this.$$.ctx[5]}set hide_filter_options(t){this.$$set({hide_filter_options:t}),d()}get default_expand(){return this.$$.ctx[29]}set default_expand(t){this.$$set({default_expand:t}),d()}get right_panel_mode(){return this.$$.ctx[6]}set right_panel_mode(t){this.$$set({right_panel_mode:t}),d()}get default_sort(){return this.$$.ctx[30]}set default_sort(t){this.$$set({default_sort:t}),d()}get www_dir_flags(){return this.$$.ctx[7]}set www_dir_flags(t){this.$$set({www_dir_flags:t}),d()}get url(){return this.$$.ctx[8]}set url(t){this.$$set({url:t}),d()}get icon_class(){return this.$$.ctx[9]}set icon_class(t){this.$$set({icon_class:t}),d()}get card_icon(){return this.$$.ctx[10]}set card_icon(t){this.$$set({card_icon:t}),d()}get no_link(){return this.$$.ctx[11]}set no_link(t){this.$$set({no_link:t}),d()}get no_duration(){return this.$$.ctx[12]}set no_duration(t){this.$$set({no_duration:t}),d()}get no_counter(){return this.$$.ctx[13]}set no_counter(t){this.$$set({no_counter:t}),d()}get expand_identifier(){return this.$$.ctx[14]}set expand_identifier(t){this.$$set({expand_identifier:t}),d()}get custom_card_class(){return this.$$.ctx[15]}set custom_card_class(t){this.$$set({custom_card_class:t}),d()}get custom_title_class(){return this.$$.ctx[16]}set custom_title_class(t){this.$$set({custom_title_class:t}),d()}get custom_settings_url(){return this.$$.ctx[17]}set custom_settings_url(t){this.$$set({custom_settings_url:t}),d()}get additional_sort(){return this.$$.ctx[18]}set additional_sort(t){this.$$set({additional_sort:t}),d()}get data_panel_id(){return this.$$.ctx[19]}set data_panel_id(t){this.$$set({data_panel_id:t}),d()}get column_2_width(){return this.$$.ctx[20]}set column_2_width(t){this.$$set({column_2_width:t}),d()}get column_1_width(){return this.$$.ctx[21]}set column_1_width(t){this.$$set({column_1_width:t}),d()}get column_3_width(){return this.$$.ctx[22]}set column_3_width(t){this.$$set({column_3_width:t}),d()}get permissions(){return this.$$.ctx[31]}set permissions(t){this.$$set({permissions:t}),d()}get optionsPanel(){return this.$$.ctx[32]}set optionsPanel(t){this.$$set({optionsPanel:t}),d()}}customElements.define("lhc-widget",t(Vi,{type:{},list_identifier:{},panel_list_identifier:{},sort_identifier:{},status_id:{},status_key:{},hide_header:{type:"Boolean"},hide_filter_options:{type:"Boolean"},default_expand:{type:"Boolean"},right_panel_mode:{type:"Boolean"},default_sort:{},www_dir_flags:{},url:{},icon_class:{},card_icon:{},no_link:{type:"Boolean"},no_duration:{type:"Boolean"},no_counter:{type:"Boolean"},expand_identifier:{},custom_card_class:{},custom_title_class:{},custom_settings_url:{},additional_sort:{},data_panel_id:{},column_2_width:{},column_1_width:{},column_3_width:{},permissions:{},optionsPanel:{}},[],[],!1));export{Wt as ChangeAlwaysOnline,yt as ChangeOnlineStatus,Pt as ChangeVisibilityMode,Z as LHC,ht as LHCStatus,Vi as LHCWidget,Ot as OpenChat};
//# sourceMappingURL=main.js.map
