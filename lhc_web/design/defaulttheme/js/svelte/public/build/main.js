import{c as t,S as e,i as n,s as i,a,l as s,b as l,d as c,o,f as d,e as r,g as _,h as u,n as p,j as m,k as h,m as g,p as f,t as w,q as v,r as b,u as y,v as x,w as j,x as k,y as W,z as C,A as D,B as I,C as L,D as S,E as P,F as T,G as A,H as O,I as R,J as E,K as N,L as V,M as H,N as J,O as G,P as M,Q,R as B}from"./i18n.JfZhZI_J.js";var F={setInactive:async function(t){return(await fetch(WWW_DIR_JAVASCRIPT+"user/setinactive/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},setLocalSettings:async function(t,e){return(await fetch(WWW_DIR_JAVASCRIPT+"front/settings/",{method:"POST",body:JSON.stringify({attr:t,val:e}),headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},searchProvider:async function(t,e){return(await fetch(WWW_DIR_JAVASCRIPT+"chat/searchprovider/"+t+"/?exclude_disabled=1&q="+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},restoreLocalSetting:function(t,e,n){try{if(localStorage){var i=localStorage.getItem(t);if(null!==i){if(1==n){var a=i.split("/"),s=new Array;return a.forEach((function(t){s.push(parseInt(t))})),s}return i}return e}}catch(t){}return e},getChatData:async function(t){return(await fetch(WWW_DIR_JAVASCRIPT+"chat/getchatdata/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},getToggleWidget:function(t,e,n){t.update((t=>(t.toggleWidgetData[e]="false"!=this.restoreLocalSetting(e,void 0===n?"false":n,!1),t)))},getToggleWidgetSort:function(t,e,n){t.update((t=>(t.toggleWidgetData[e]=this.restoreLocalSetting(e,void 0===n?"":n,!1),t)))},toggleWidget:function(t,e,n){t.update((t=>{if(t.toggleWidgetData[e]=void 0===t.toggleWidgetData[e]||!t.toggleWidgetData[e],localStorage)try{localStorage.setItem(e,t.toggleWidgetData[e])}catch(t){}return t})),void 0!==n&&1==n&&ee.emitEvent("angularLoadChatList")},toggleWidgetSort:function(t,e,n,i,a){t.update((t=>{if(t.toggleWidgetData[e]=void 0===t.toggleWidgetData[e]?n:t.toggleWidgetData[e]==n?i:n,localStorage)try{localStorage.setItem(e,t.toggleWidgetData[e])}catch(t){}return t})),void 0!==a&&1==a&&ee.emitEvent("angularLoadChatList")},previewMail:function(t,e){e&&e.stopPropagation(),lhc.previewMail(t)},startMailChat:function(t,e){if(jQuery("#tabs").length>0)return lhinst.startMailChat(t,jQuery("#tabs"),this.truncate(e||"Mail",10))},previewChat:function(t,e){e&&e.stopPropagation(),lhc.previewChat(t)},deleteChat:function(t,e,n){return lhinst.deleteChat(t,e,n)},redirectContact:function(t,e,n){return n&&n.stopPropagation(),lhinst.redirectContact(t,e)},openModal:function(t,e){e&&e.stopPropagation(),lhc.revealModal({url:WWW_DIR_JAVASCRIPT+t,hidecallback:function(){ee.emitEvent("angularLoadChatList")}})},changeWidgetHeight:function(t,e,n){let i=document.getElementById(e+"-panel-list");i&&t.update((t=>(t[e+"_m_h"]=!0===n?parseInt(i.offsetHeight+28)+"px":parseInt(i.offsetHeight-28)+"px",localStorage.setItem(e+"_m_h",t[e+"_m_h"]),t)))},startChatTransfer:function(t,e,n){return lhinst.startChatTransfer(t,$("#tabs"),e,n)},startChatNewWindowTransfer:function(t,e,n){return lhinst.startChatNewWindowTransfer(t,e,n)},startChat:function(t,e){if($("#tabs").length>0)return lhinst.addOpenTrace("click"),lhinst.startChat(t,$("#tabs"),this.truncate(e||"Visitor",10));lhinst.startChatNewWindow(t,e)},truncate:function(t,e,n){return isNaN(e)&&(e=10),void 0===n&&(n="..."),t.length<=e||t.length-n.length<=e?t:String(t).substring(0,e-n.length)+n},storeLocalSetting:function(t,e){if(localStorage)try{e=localStorage.setItem(t,e)}catch(t){}},removeLocalSetting:function(t){if(localStorage)try{localStorage.removeItem(t)}catch(t){}},loadActiveChats:async function(){return(await fetch(WWW_DIR_JAVASCRIPT+"chat/loadactivechats",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()},startGroupChat:function(t,e){if(jQuery("#tabs").length>0)return lhinst.startGroupChat(t,$("#tabs"),this.truncate(e,10))},rejectGroupChat:async function(t,e){e&&e.stopPropagation();const n=await fetch(WWW_DIR_JAVASCRIPT+"groupchat/leave/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}});await n.json(),ee.emitEvent("angularLoadChatList")},startNewGroupChat:async function(t,e,n){const i=await fetch(WWW_DIR_JAVASCRIPT+"groupchat/newgroupajax",{method:"POST",body:JSON.stringify({name:e,public:n}),headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}});let a=await i.json();t.update((t=>(t.new_group_name="",t.new_group_type="",t))),lhinst.startGroupChat(a.id,jQuery("#tabs"),this.truncate(a.name,10)),ee.emitEvent("angularLoadChatList")},startChatOperator:async function(t){const e=await fetch(WWW_DIR_JAVASCRIPT+"groupchat/startchatwithoperator/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}});let n=await e.json();lhinst.startGroupChat(n.id,jQuery("#tabs"),this.truncate(n.name,10))},getNotificationsData:async function(t){return(await fetch(WWW_DIR_JAVASCRIPT+"chat/getnotificationsdata/(id)/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}})).json()}};function q(t,e){if(localStorage)try{localStorage.setItem(t,e)}catch(t){}}function X(t){if(localStorage)try{localStorage.removeItem(t)}catch(t){}}function U(t){if(localStorage)try{var e=localStorage.getItem(t);if(null!==e&&""!==e)return e.split(",")}catch(t){}return[]}function K(t,e,n){return isNaN(e)&&(e=10),void 0===n&&(n="..."),t.length<=e||t.length-n.length<=e?t:String(t).substring(0,e-n.length)+n}function Y(t,e,n){if(void 0!==t)for(var i=t.length-1;i>=0;i--){var a=t[i];-1===e.indexOf(a)&&lhinst.hideNotification(a.split("_")[0],n)}}function z(t,e,n){let i,d,r,_,u,p,m;function h(){let t=document.getElementById("menu-rmtoggle");t&&(m.rmtoggle?t.classList.add("hide"):t.classList.remove("hide")),t=document.getElementById("wrapper"),t&&(m.lmtoggle?t.classList.add("toggled"):t.classList.remove("toggled"))}function g(t){if(!document.getElementById(t))return;let e=document.getElementById(t).getElementsByTagName("i")[0];!0===m.toggleWidgetData[t]?(e.classList.remove("chat-closed"),e.classList.add("chat-active")):(e.classList.remove("chat-active"),e.classList.add("chat-closed"))}a(t,s,(t=>n(6,m=t))),window.$_LHC_API={};let f={timeoutActivity:null,timeoutActivityTime:300,blockSync:!1,timeoutControl:null,setTimeoutEnabled:!0,isListLoaded:!1,lastd_activity:Math.round((new Date).getTime()/1e3),lhcListRequestInProgress:!1,lhcSettingUpdateProgress:[],lhcSettingAllSelected:!1,channel:null};lhinst.channel=f.channel=new BroadcastChannel("lhc_dashboard"),f.channel.addEventListener("message",(function(t){if(t.isTrusted&&t.data.action){if("went_active"===t.data.action)return jQuery("#myModal").modal("hide"),void v();var e=jQuery("#tabs");t.data.args.chat_id&&-1!==lhinst.chatsSynchronising.indexOf(t.data.args.chat_id)?"close_chat"===t.data.action?e.length>0&&lhinst.removeDialogTab(t.data.args.chat_id,e,!0):"update_chat"===t.data.action||"startbackground_chat"===t.data.action?e.length>0&&lhinst.updateVoteStatus(t.data.args.chat_id,!0):"reload_chat"===t.data.action&&(lhinst.addOpenTrace("channel_message_reload"),e.length>0&&lhinst.reloadTab(t.data.args.chat_id,e,t.data.args.nick,!0)):"startbackground_chat"===t.data.action?(lhinst.addOpenTrace("channel_message_open"),e.length>0&&lhinst.startChatBackground(t.data.args.chat_id,e,t.data.args.nick)||ee.emitEvent("chatTabPreload",[t.data.args.chat_id,{focus:!1}])):"close_chat"===t.data.action?ee.emitEvent("removeSynchroChat",[parseInt(t.data.args.chat_id)]):t.data.args.mail_id&&"close_mail"==t.data.action&&lhinst.removeDialogTabMail(t.data.args.mail_id,jQuery("#tabs"),!0,!0)}})),ee.addListener("angularStartChatbyId",(function(t){lhinst.addOpenTrace("view_clicked"),S(t)})),ee.addListener("svelteOpenChat",(function(t){lhinst.addOpenTrace("click"),S(t)})),ee.addListener("svelteDebug",(function(){console.log(m),console.log(f)})),ee.addListener("angularLoadChatList",(function(){f.isListLoaded=!1,f.lhcListRequestInProgress=!1,L()})),ee.addListener("svelteResetTimeoutActivity",(function(){D()})),ee.addListener("angularStartChatOperatorPublic",(function(t){})),ee.addListener("svelteallDepartmentsChanged",(function(t,e){y(t,e)})),ee.addListener("svelteProductChanged",(function(t){W(t)})),ee.addListener("svelteDepartmentChanged",(function(t){b(t)})),ee.addListener("svelteLimitChanged",(function(t){F.setLocalSettings(t,m[t]),L()})),ee.addListener("angularSyncDisabled",(function(t){var e;e=t,f.blockSync=e})),ee.addListener("svelteToggleList",(function(t){!function(t){if(c(s,m[t]=!m[t],m),localStorage)try{localStorage.setItem(t,m[t])}catch(t){}}(t)})),ee.addListener("svelteToggleWidget",(function(t,e){F.toggleWidget(s,t,e)})),ee.addListener("svelteRemoveLocalSetting",(function(t){F.removeLocalSetting(t)})),ee.addListener("svelteStoreLocalSetting",(function(t,e){F.storeLocalSetting(t,e)})),ee.addListener("svelteAppendActiveChats",(function(){F.loadActiveChats().then((function(t){let e=jQuery("#tabs");t.result.forEach((function(t){lhinst.startChatBackground(t.id,e,F.truncate(t.nick||"Visitor",10))})),setTimeout((function(){ee.emitEvent("angularLoadChatList")}),1e3)}))})),l.subscribe((t=>{}));let w=[];function v(){F.setInactive("false"),f.isListLoaded=!1,f.blockSync=!1,f.lhcListRequestInProgress=!1,D(),lhinst.disableSync=!1,L(),c(s,m.inActive=!1,m)}function b(t){if(-1===f.lhcSettingUpdateProgress.indexOf(t)){if(f.lhcSettingUpdateProgress.push(t),m[t].length>0){!1===f.lhcSettingAllSelected&&(c(s,m[t+"_all_departments"]=!1,m),y(t,!1)),f.lhcSettingAllSelected=!1;var e=m[t].join("/");""!==e?(x(t,e),j(t)):$(t)}else x(t,null);f.isListLoaded=!1,L()}}function y(t,e){if(!0===m[t+"_all_departments"]?q(t+"_all_departments",!0):X(t+"_all_departments"),!0===m[t+"_hide_hidden"]?q(t+"_hide_hidden",!0):X(t+"_hide_hidden"),!0===m[t+"_hide_disabled"]?q(t+"_hide_disabled",!0):X(t+"_hide_disabled"),!0===m[t+"_only_online"]?q(t+"_only_online",!0):X(t+"_only_online"),void 0!==m[t+"_hide_dep"]&&(!0===m[t+"_hide_dep"]?q(t+"_hide_dep",!0):X(t+"_hide_dep")),void 0!==m[t+"_hide_dgroup"]&&(!0===m[t+"_hide_dgroup"]?q(t+"_hide_dgroup",!0):X(t+"_hide_dgroup")),!0===m[t+"_all_departments"]){let e=[];m.userDepartments.forEach((function(n){(!1===m[t+"_only_explicit_online"]||!0===m[t+"_only_explicit_online"]&&!0===n.oexp)&&(!1===m[t+"_hide_hidden"]||!0===m[t+"_hide_hidden"]&&!1===n.hidden)&&(!1===m[t+"_hide_disabled"]||!0===m[t+"_hide_disabled"]&&!1===n.disabled)&&(!1===m[t+"_only_online"]||!0===m[t+"_only_online"]&&!0===n.ogen)&&e.push(n.id)})),0===e.length&&e.push(-1),f.lhcSettingAllSelected=!0,c(s,m[t]=e,m)}else!0===e&&c(s,m[t]=[],m);!0===e&&(f.isListLoaded=!1,L())}function x(t,e){F.setLocalSettings(t,e).then((function(){$(t)})).catch((function(){$(t)}))}function $(t){f.lhcSettingUpdateProgress.splice(f.lhcSettingUpdateProgress.indexOf(t),1)}function j(t){c(s,m[t+"Names"]=[],m),m[t].forEach((function(e){void 0!==m.userDepartmentsNames&&void 0!==m.userDepartmentsNames[e]?m[t+"Names"].push(m.userDepartmentsNames[e]):void 0!==m.userDepartmentsNames&&(m[t].splice(m[t].indexOf(e),1),b(t))}))}function k(t){m.last_actions.unshift(t),c(s,m.last_actions=m.last_actions.slice(0,5),m)}function W(t){if(m[t].length>0){var e=m[t].join("/");""!==e&&F.setLocalSettings(t,e)}else F.setLocalSettings(t,null);f.isListLoaded=!1,L()}w.push("actived"),w.push("departmentd"),w.push("unreadd"),w.push("pendingd"),w.push("operatord"),w.push("closedd"),w.push("mcd"),w.push("botd"),w.push("subjectd"),w.push("pendingmd"),w.push("activemd"),w.push("alarmmd"),w.push("mmd"),w.forEach((function(t){c(s,m[t+"_all_departments"]="false"!=F.restoreLocalSetting(t+"_all_departments","false",!1),m),c(s,m[t+"_hide_hidden"]="false"!=F.restoreLocalSetting(t+"_hide_hidden","false",!1),m),c(s,m[t+"_hide_disabled"]="false"!=F.restoreLocalSetting(t+"_hide_disabled","false",!1),m),c(s,m[t+"_only_online"]="false"!=F.restoreLocalSetting(t+"_only_online","false",!1),m),c(s,m[t+"_only_explicit_online"]="false"!=F.restoreLocalSetting(t+"_only_explicit_online","false",!1),m),c(s,m[t+"_m_h"]=F.restoreLocalSetting(t+"_m_h",null,!1),m)})),o((async()=>{c(s,m.departmentd_hide_dep="false"!=F.restoreLocalSetting("departmentd_hide_dep","false",!1),m),c(s,m.departmentd_hide_dgroup="false"!=F.restoreLocalSetting("departmentd_hide_dgroup","false",!1),m),c(s,m.lmtoggle="false"!=F.restoreLocalSetting("lmtoggle","false",!1),m),c(s,m.rmtoggle="false"!=F.restoreLocalSetting("rmtoggle","false",!1),m),F.getToggleWidget(s,"track_open_chats"),F.getToggleWidget(s,"group_offline_chats");var t,e,n="",i=U("achat_id"),a=U("gachat_id"),l=U("machat_id"),o=0,d=0,r=window.location.hash;""!==r&&(null!==(t=r.match(/id-\d+$/))&&t[0]&&(o=parseInt(t[0].replace("id-","")),-1===i.indexOf(o)&&i.push(o)),null==t&&null!==(t=r.match(/mc\d+$/))&&t[0]&&(d=parseInt(t[0].replace("mc","")),-1===l.indexOf(d)&&l.push(d)));(e=document.getElementById("load_chat_id"))&&-1===i.indexOf(e.value)&&(o=e.value,i.push(e.value),window.location.hash="#!#chat-id-"+e.value),(e=document.getElementById("load_mail_id"))&&-1===l.indexOf(e.value)&&(d=e.value,l.push(e.value),window.location.hash="#!#chat-id-mc"+e.value);let _=jQuery("#tabs").length;_>0&&!1===lhinst.disableremember&&i.length>0&&(n="/(chatopen)/"+i.join("/")),_>0&&!1===lhinst.disableremember&&a.length>0&&(n+="/(chatgopen)/"+a.join("/")),jQuery("#tabs").length>0&&0==lhinst.disableremember&&l.length>0&&(n+="/(chatmopen)/"+l.join("/"));const u=await fetch(WWW_DIR_JAVASCRIPT+"chat/loadinitialdata"+n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}),p=await u.json();if(p.logout||p.error_url)return void document.location.reload();s.update((t=>(t.userDepartmentsNames=p.dp_names,t.userDepartments=p.dep_list,t.userProductNames=p.pr_names,t.userDepartmentsGroups=p.dp_groups,t.userGroups=p.user_groups,t.hideInvisible=p.im,t.hideOnline=p.ho,t.lhcVersion=p.v,t.alwaysOnline=p.a_on,t.additionalColumns=p.col,t.widgetsActive=p.widgets,t.bot_st=p.bot_st,t.excludeIcons=p.exc_ic,t.notifIcons=p.not_ic,t)));let h=["subjectd","subjectd_products","subjectd_dpgroups","subjectd_ugroups","activeu","pendingu","oopu","subjectu","closedd","closedd_products","closedd_dpgroups","botd","botd_products","botd_dpgroups","botd_ugroups","pendingd","pendingd_products","pendingd_dpgroups","pendingd_ugroups","unreadd","unreadd_products","unreadd_dpgroups","mcd","mcd_products","mcd_dpgroups","actived","actived_products","actived_dpgroups","actived_ugroups","departmentd_dpgroups","departmentd","operatord_dpgroups","operatord_ugroups","operatord","mmd","mmd_dpgroups","alarmmd","alarmmd_products","alarmmd_dpgroups","alarmmd_ugroups","activemd","activemd_products","activemd_dpgroups","activemd_ugroups","pendingmd","pendingmd_products","pendingmd_dpgroups","pendingmd_ugroups","pendingmu","activemu","alarmmu"];var g,v=["limitb","limita","limitu","limitp","limito","limitc","limitd","limitmc","limitgc","limits","limitpm","limitam","limitalm","limitmm"];p.dw_filters&&Object.keys(p.dw_filters).forEach((t=>{-1!==h.indexOf(t)?c(s,m[t]=function(t,e){if(!0===e){var n=t.split("/"),i=[];return n.forEach((function(t){i.push(parseInt(t))})),i}return t}(p.dw_filters[t],!0),m):-1!==v.indexOf(t)&&c(s,m[t]=p.dw_filters[t],m)})),w.forEach((function(t){j(t)})),1===p.track_activity&&(f.timeoutActivityTime=p.timeout_activity,g=function(){D()},C(window,"mousemove",g),C(document,"mousemove",g),C(window,"mousedown",g),C(window,"click",g),C(window,"scroll",g),C(window,"keypress",g),C(window,"load",g),C(document,"scroll",g),C(document,"touchstart",g),C(document,"touchend",g),D()),p.copen.forEach((function(t){lhinst.addOpenTrace("opened_chats"),lhinst.startChat(t.id,jQuery("#tabs"),K(t.nick||"Visitor",10),t.id===o,0,t.status),k({type:"mac_history",chat_id:t.id,nick:t.nick}),t.id===o&&document.getElementById("tabs").classList.add("chat-tab-selected")})),p.cgopen.forEach((function(t){lhinst.startGroupChat(t.id,jQuery("#tabs"),K(t.nick||"Visitor",10),!0)})),p.cmdel.forEach((function(t){lhinst.forgetChat(t,"machat_id")})),p.cdel.forEach((function(t){lhinst.forgetChat(t,"achat_id")})),p.cgdel.forEach((function(t){lhinst.forgetChat(t,"gachat_id")})),ee.emitEvent("eventLoadInitialData",[p]),window.$_LHC_API.initial_data=p,async function(){var t=[],e=[],n=[],i=[];m.userGroups.forEach((function(t){e.push(t.id)})),m.userDepartmentsGroups.forEach((function(t){n.push(t.id)})),m.userProductNames.forEach((function(t){i.push(t.id)}));const a=await fetch(WWW_DIR_JAVASCRIPT+"chat/searchprovider/users_ids/?exclude_disabled=1&q="+m.pendingu.join(",")+","+m.activeu.join(",")+","+m.subjectu.join(",")+","+m.oopu.join(",")+","+m.pendingmu.join(",")+","+m.activemu.join(",")+","+m.alarmmu.join(","),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}}).catch((t=>{alert("We could not change your status! "+t)})),l=await a.json();c(s,m.userList=l.items,m),m.userList.forEach((function(e){t.push(e.id)}));var o={activeu:t,actived_products:i,actived_ugroups:e,actived_dpgroups:n,pendingu:t,oopu:t,pendingd_ugroups:e,operatord_ugroups:e,pendingd_dpgroups:n,pendingd_products:i,botd_dpgroups:n,botd_products:i,departmentd_dpgroups:n,closedd_products:i,closedd_dpgroups:n,unreadd_dpgroups:n,unreadd_products:i,mcd_products:i,mcd_dpgroups:n,mmd_dpgroups:n};for(const[t,e]of Object.entries(o)){[...m[t]].forEach((function(n){-1===e.indexOf(n)&&(m[t].splice(m[t].indexOf(n),1),W(t))}))}}(),L()}));let C=document.addEventListener?function(t,e,n){if(t&&t.nodeName||t===window)t.addEventListener(e,n,!1);else if(t&&t.length)for(var i=0;i<t.length;i++)C(t[i],e,n)}:function(t,e,n){if(t&&t.nodeName||t===window)t.attachEvent("on"+e,(function(){return n.call(t,window.event)}));else if(t&&t.length)for(var i=0;i<t.length;i++)C(t[i],e,n)};function D(){var t=window.opener;if(t)try{t.ee.emitEvent("svelteResetTimeoutActivity")}catch(t){console.log(t)}else!1===f.blockSync&&(f.lastd_activity=Math.round((new Date).getTime()/1e3),clearTimeout(f.timeoutActivity),f.timeoutActivity=setTimeout((function(){F.setInactive("true").then((function(t){if(!0===t.active)return D(),void(f.lastd_activity=0);lhinst.disableSync=f.blockSync=!0,f.lhcListRequestInProgress=!1,lhc.revealModal({url:WWW_DIR_JAVASCRIPT+"user/wentinactive/false",backdrop:!0,hidecallback(){v(),f.channel.postMessage({action:"went_active",args:{}})}})}))}),1e3*f.timeoutActivityTime))}function I(t){if((1==m[t+"_only_explicit_online"]||1==m[t+"_hide_hidden"]||1==m[t+"_hide_disabled"]||1==m[t+"_only_online"])&&m.userDepartments.length>0){var e=[];return m.userDepartments.forEach((function(n){(0==m[t+"_only_explicit_online"]||1==m[t+"_only_explicit_online"]&&1==n.oexp)&&(0==m[t+"_hide_hidden"]||1==m[t+"_hide_hidden"]&&0==n.hidden)&&(0==m[t+"_hide_disabled"]||1==m[t+"_hide_disabled"]&&0==n.disabled)&&(0==m[t+"_only_online"]||1==m[t+"_only_online"]&&1==n.ogen)&&e.push(n.id)})),0==e.length&&e.push(-1),e}return[]}async function L(){if(localStorage)try{c(s,m.pending_chats_expanded="false"!=localStorage.getItem("pending_chats_expanded"),m),c(s,m.active_chats_expanded="false"!=localStorage.getItem("active_chats_expanded"),m),c(s,m.my_active_chats_expanded="false"!=localStorage.getItem("my_active_chats_expanded"),m),c(s,m.closed_chats_expanded="false"!=localStorage.getItem("closed_chats_expanded"),m),c(s,m.unread_chats_expanded="false"!=localStorage.getItem("unread_chats_expanded"),m),c(s,m.my_chats_expanded="false"!=localStorage.getItem("my_chats_expanded"),m),c(s,m.pending_mails_expanded="false"!=localStorage.getItem("pending_mails_expanded"),m),c(s,m.active_mails_expanded="false"!=localStorage.getItem("pending_mails_expanded"),m),c(s,m.my_mails_expanded="false"!=localStorage.getItem("my_mails_expanded"),m),c(s,m.custom_list_1_expanded="false"!=localStorage.getItem("custom_list_1_expanded"),m),c(s,m.custom_list_2_expanded="false"!=localStorage.getItem("custom_list_2_expanded"),m),c(s,m.custom_list_3_expanded="false"!=localStorage.getItem("custom_list_3_expanded"),m),c(s,m.custom_list_4_expanded="false"!=localStorage.getItem("custom_list_4_expanded"),m)}catch(t){}if(!0===f.blockSync)return clearTimeout(f.timeoutControl),f.timeoutControl=setTimeout((function(){f.isListLoaded=!1,f.lhcListRequestInProgress=!1,L()}),confLH.back_office_sinterval),void(f.lhcListRequestInProgress=!1);if(!0!==f.lhcListRequestInProgress){f.lhcListRequestInProgress=!0,clearTimeout(f.timeoutControl);try{const _=await fetch(WWW_DIR_JAVASCRIPT+"chat/syncadmininterface"+function(){c(s,m.custom_extension_filter="",m);var t,e="/(limita)/"+parseInt(m.limita);if(e+="/(limitu)/"+parseInt(m.limitu),e+="/(limitp)/"+parseInt(m.limitp),e+="/(limito)/"+parseInt(m.limito),e+="/(limitc)/"+parseInt(m.limitc),e+="/(limitd)/"+parseInt(m.limitd),e+="/(limits)/"+parseInt(m.limits),e+="/(limitmc)/"+parseInt(m.limitmc),e+="/(limitb)/"+parseInt(m.limitb),e+="/(limitgc)/"+parseInt(m.limitgc),e+="/(limitmm)/"+parseInt(m.limitmm),e+="/(limitpm)/"+parseInt(m.limitpm),e+="/(limitam)/"+parseInt(m.limitam),e+="/(limitalm)/"+parseInt(m.limitalm),"object"==typeof m.widgetsActive&&m.widgetsActive.length>0){let t={my_chats:0,online_operators:1,group_chats:2,pending_chats:3,online_visitors:4,unread_chats:5,active_chats:6,bot_chats:7,transfered_chats:8,departments_stats:9,subject_chats:20,pmails:10,amails:11,malarms:12,my_mails:30},n=[];m.widgetsActive.forEach((function(e){t[e]&&n.push(t[e])})),e+="/(w)/"+n.join("/")}if("object"==typeof m.activeu&&m.activeu.length>0&&(e+="/(activeu)/"+m.activeu.join("/")),"object"==typeof m.pendingu&&m.pendingu.length>0&&(e+="/(pendingu)/"+m.pendingu.join("/")),"object"==typeof m.pendingmu&&m.pendingmu.length>0&&(e+="/(pendingmu)/"+m.pendingmu.join("/")),"object"==typeof m.activemu&&m.activemu.length>0&&(e+="/(activemu)/"+m.activemu.join("/")),"object"==typeof m.alarmmu&&m.alarmmu.length>0&&(e+="/(alarmmu)/"+m.alarmmu.join("/")),"object"==typeof m.oopu&&m.oopu.length>0&&(e+="/(oopu)/"+m.oopu.join("/")),"object"==typeof m.subjectu&&m.subjectu.length>0&&(e+="/(subjectu)/"+m.subjectu.join("/")),"object"==typeof m.actived_dpgroups&&m.actived_dpgroups.length>0&&(e+="/(adgroups)/"+m.actived_dpgroups.join("/")),"object"==typeof m.pendingmd_dpgroups&&m.pendingmd_dpgroups.length>0&&(e+="/(pmd)/"+m.pendingmd_dpgroups.join("/")),"object"==typeof m.activemd_dpgroups&&m.activemd_dpgroups.length>0&&(e+="/(amd)/"+m.activemd_dpgroups.join("/")),"object"==typeof m.alarmmd_dpgroups&&m.alarmmd_dpgroups.length>0&&(e+="/(almd)/"+m.alarmmd_dpgroups.join("/")),"object"==typeof m.pendingd_dpgroups&&m.pendingd_dpgroups.length>0&&(e+="/(pdgroups)/"+m.pendingd_dpgroups.join("/")),"object"==typeof m.subjectd_dpgroups&&m.subjectd_dpgroups.length>0&&(e+="/(sdgroups)/"+m.subjectd_dpgroups.join("/")),"object"==typeof m.closedd_dpgroups&&m.closedd_dpgroups.length>0&&(e+="/(cdgroups)/"+m.closedd_dpgroups.join("/")),"object"==typeof m.botd_dpgroups&&m.botd_dpgroups.length>0&&(e+="/(bdgroups)/"+m.botd_dpgroups.join("/")),"object"==typeof m.mcd_dpgroups&&m.mcd_dpgroups.length>0&&(e+="/(mdgroups)/"+m.mcd_dpgroups.join("/")),"object"==typeof m.mmd_dpgroups&&m.mmd_dpgroups.length>0&&(e+="/(mmdgroups)/"+m.mmd_dpgroups.join("/")),"object"==typeof m.unreadd_dpgroups&&m.unreadd_dpgroups.length>0&&(e+="/(udgroups)/"+m.unreadd_dpgroups.join("/")),"object"==typeof m.departmentd_dpgroups&&m.departmentd_dpgroups.length>0&&(e+="/(ddgroups)/"+m.departmentd_dpgroups.join("/")),"object"==typeof m.operatord_dpgroups&&m.operatord_dpgroups.length>0&&(e+="/(odpgroups)/"+m.operatord_dpgroups.join("/")),"object"==typeof m.actived)if(m.actived.length>0)e+="/(actived)/"+m.actived.join("/");else{let t=I("actived");t.length>0&&(e+="/(actived)/"+t.join("/"))}if("object"==typeof m.subjectd)if(m.subjectd.length>0)e+="/(subjectd)/"+m.subjectd.join("/");else{let t=I("subjectd");t.length>0&&(e+="/(subjectd)/"+t.join("/"))}if("object"==typeof m.mcd)if(m.mcd.length>0)e+="/(mcd)/"+m.mcd.join("/");else{let t=I("mcd");t.length>0&&(e+="/(mcd)/"+t.join("/"))}if("object"==typeof m.mmd&&(m.mmd.length>0?e+="/(mmd)/"+m.mmd.join("/"):(t=I("mmd")).length>0&&(e+="/(mmd)/"+t.join("/"))),"object"==typeof m.pendingmd&&(m.pendingmd.length>0?e+="/(pendingmd)/"+m.pendingmd.join("/"):(t=I("pendingmd")).length>0&&(e+="/(pendingmd)/"+t.join("/"))),"object"==typeof m.activemd&&(m.activemd.length>0?e+="/(activemd)/"+m.activemd.join("/"):(t=I("activemd")).length>0&&(e+="/(activemd)/"+t.join("/"))),"object"==typeof m.alarmmd&&(m.alarmmd.length>0?e+="/(alarmmd)/"+m.alarmmd.join("/"):(t=I("alarmmd")).length>0&&(e+="/(alarmmd)/"+t.join("/"))),"object"==typeof m.unreadd)if(m.unreadd.length>0)e+="/(unreadd)/"+m.unreadd.join("/");else{let t=I("unreadd");t.length>0&&(e+="/(unreadd)/"+t.join("/"))}if("object"==typeof m.botd)if(m.botd.length>0)e+="/(botd)/"+m.botd.join("/");else{let t=I("botd");t.length>0&&(e+="/(botd)/"+t.join("/"))}if("object"==typeof m.pendingd){if(m.pendingd.length>0)e+="/(pendingd)/"+m.pendingd.join("/");else{let t=I("pendingd");t.length>0&&(e+="/(pendingd)/"+t.join("/"))}void 0!==m.toggleWidgetData.pending_chats_sort&&""!==m.toggleWidgetData.pending_chats_sort&&(e+="/(psort)/"+m.toggleWidgetData.pending_chats_sort)}if("object"==typeof m.operatord)if(m.operatord.length>0)e+="/(operatord)/"+m.operatord.join("/");else{let t=I("operatord");t.length>0&&(e+="/(operatord)/"+t.join("/"))}if("object"==typeof m.closedd&&m.closedd.length>0&&(e+="/(closedd)/"+m.closedd.join("/")),"object"==typeof m.departmentd)if(m.departmentd.length>0)e+="/(departmentd)/"+m.departmentd.join("/");else{let t=I("departmentd");t.length>0&&(e+="/(departmentd)/"+t.join("/"))}"object"==typeof m.actived_products&&m.actived_products.length>0&&(e+="/(activedprod)/"+m.actived_products.join("/")),"object"==typeof m.pendingd_ugroups&&m.pendingd_ugroups.length>0&&(e+="/(pugroups)/"+m.pendingd_ugroups.join("/")),"object"==typeof m.operatord_ugroups&&m.operatord_ugroups.length>0&&(e+="/(oopugroups)/"+m.operatord_ugroups.join("/")),"object"==typeof m.subjectd_ugroups&&m.subjectd_ugroups.length>0&&(e+="/(sugroups)/"+m.subjectd_ugroups.join("/")),"object"==typeof m.actived_ugroups&&m.actived_ugroups.length>0&&(e+="/(augroups)/"+m.actived_ugroups.join("/")),"object"==typeof m.pendingmd_ugroups&&m.pendingmd_ugroups.length>0&&(e+="/(pmug)/"+m.pendingmd_ugroups.join("/")),"object"==typeof m.activemd_ugroups&&m.activemd_ugroups.length>0&&(e+="/(amug)/"+m.activemd_ugroups.join("/")),"object"==typeof m.alarmmd_ugroups&&m.alarmmd_ugroups.length>0&&(e+="/(almug)/"+m.alarmmd_ugroups.join("/")),"object"==typeof m.mcd_products&&m.mcd_products.length>0&&(e+="/(mcdprod)/"+m.mcd_products.join("/")),"object"==typeof m.unreadd_products&&m.unreadd_products.length>0&&(e+="/(unreaddprod)/"+m.unreadd_products.join("/")),"object"==typeof m.pendingd_products&&m.pendingd_products.length>0&&(e+="/(pendingdprod)/"+m.pendingd_products.join("/")),"object"==typeof m.subjectd_products&&m.subjectd_products.length>0&&(e+="/(subjectdprod)/"+m.subjectd_products.join("/")),"object"==typeof m.botd_products&&m.botd_products.length>0&&(e+="/(botdprod)/"+m.botd_products.join("/")),"object"==typeof m.closedd_products&&m.closedd_products.length>0&&(e+="/(closeddprod)/"+m.closedd_products.join("/")),void 0!==m.toggleWidgetData.track_open_chats&&1==m.toggleWidgetData.track_open_chats&&(e+="/(topen)/true"),void 0!==m.toggleWidgetData.active_chats_sort&&""!==m.toggleWidgetData.active_chats_sort&&(e+="/(acs)/"+m.toggleWidgetData.active_chats_sort),void 0!==m.toggleWidgetData.bot_chats_sort&&""!==m.toggleWidgetData.bot_chats_sort&&(e+="/(bcs)/"+m.toggleWidgetData.bot_chats_sort),void 0!==m.toggleWidgetData.closed_chats_sort&&""!==m.toggleWidgetData.closed_chats_sort&&(e+="/(clcs)/"+m.toggleWidgetData.closed_chats_sort),void 0!==m.toggleWidgetData.onop_sort&&""!==m.toggleWidgetData.onop_sort&&(e+="/(onop)/"+m.toggleWidgetData.onop_sort);var n=[];return!0===m.departmentd_hide_dep&&n.push("dhdep"),!0===m.departmentd_hide_dgroup&&n.push("dhdepg"),n.length>0&&(e+="/(hsub)/"+n.join("/")),f.lastd_activity>0&&(e+="/(lda)/"+f.lastd_activity),f.lastd_activity=0,ee.emitEvent("eventGetSyncFilterSvelte",[s]),e+m.custom_extension_filter}(),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!_.ok)throw new Error("Network response was not OK ["+_.status+"] ["+_.statusText+"]");const u=await _.json();if(f.lhcListRequestInProgress=!1,u.logout||u.error_url)return void document.location.reload();if(1==f.blockSync)return clearTimeout(f.timeoutControl),void(f.timeoutControl=setTimeout((function(){f.isListLoaded=!1,L()}),confLH.back_office_sinterval));if(1==m.lhcConnectivityProblem&&c(s,m.lhcConnectivityProblem=!1,m),ee.emitEvent("eventLoadChatListSvelte",[u,s]),void 0===u.items_processed){var t=[],e=[],n=[],i=[],a=jQuery("#tabs");for(const[d,r]of Object.entries(u.result))if(c(s,m[d]=r,m),0!=a.length||"pending_chat"!=d&&"my_chats"!=d||r.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&1==confLH.accept_chats&&(1!==t.status||1===t.status&&!0===t.hum)&&ee.emitEvent("chatTabPreload",[t.id,{focus:!1}])})),a.length>0&&("pending_chat"==d||"my_chats"==d?r.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&1==confLH.accept_chats&&(1!==t.status||1===t.status&&!0===t.hum)&&0==jQuery("#chat-tab-link-"+t.id).length&&(a.length>0&&0==lhinst.disableremember&&(lhinst.addOpenTrace("auto_accept"),lhinst.removeSynchroChat(t.id),lhinst.startChatBackground(t.id,a,K(t.nick||"Visitor",10)),f.channel.postMessage({action:"startbackground_chat",args:{nick:K(t.nick||"Visitor",10),chat_id:parseInt(t.id)}})),0==lhinst.disableremember&&i.push(t.id))})):"transfer_chats"==d?r.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&(1==confLH.accept_chats||jQuery("#chat-tab-link-"+t.id).length>0)&&(a.length>0&&0==lhinst.disableremember&&(lhinst.addOpenTrace("auto_accept_transfer"),lhinst.startChatTransfer(t.id,a,K(t.nick||"Visitor",10),t.transfer_id,0==jQuery("#chat-tab-link-"+t.id).length),f.channel.postMessage({action:"startbackground_chat",args:{nick:K(t.nick||"Visitor",10),chat_id:parseInt(t.id)}})),0==lhinst.disableremember&&i.push(t.id))})):"group_chats"==d?a.length>0&&1==confLH.auto_join_private&&r.list.forEach((function(t){1==t.type&&0==t.jtime&&0==jQuery("#chat-tab-link-gc"+t.id).length&&lhinst.startGroupChat(t.id,a,K(t.name,10),!0)})):"support_chats"==d?a.length>0&&1==confLH.auto_join_private&&r.list.forEach((function(t){null===document.getElementById("chat-tab-li-"+t.chat_id)?(lhinst.addOpenTrace("support_chat"),S(t.chat_id,!0)):jQuery("#private-chat-tab-link-"+t.chat_id).attr("private-loaded")?jQuery("#chat-tab-link-"+t.chat_id).hasClass("active")?jQuery("#private-chat-tab-link-"+t.chat_id).hasClass("active")||jQuery("#private-chat-tab-link-"+t.chat_id+" > .whatshot").removeClass("d-none"):jQuery("#chat-tab-link-"+t.chat_id+" > .whatshot").removeClass("d-none"):(jQuery("#private-chat-tab-link-"+t.chat_id).attr("private-loaded",!0),ee.emitEvent("privateChatStart",[t.chat_id,{unread:!0}]))})):"pending_mails"!=d&&"my_mails"!=d||a.length>0&&r.list.forEach((function(t){void 0!==t.user_id&&t.user_id==confLH.user_id&&1==confLH.accept_mails&&1!==t.status&&null===document.getElementById("chat-tab-li-mc"+t.id)&&lhinst.startMailChat(t.id,a,K(t.subject_front,10),!0)}))),r.last_id_identifier){e=[],t=[];var l=0,o=r.list;"pending_chat"==r.last_id_identifier&&void 0!==m.toggleWidgetData.pending_chats_sort&&"id_asc"==m.toggleWidgetData.pending_chats_sort&&(o=r.list.slice().reverse()),o.forEach((function(n){var i=void 0!==n.user_id?n.user_id:0,a=n.id+"_"+i;if(("bot_chats"!=r.last_id_identifier||n.msg_v&&n.msg_v>m.bot_st.msg_nm&&1==m.bot_st.bot_notifications||n.aalert)&&"transfer_chat_dep"!=r.last_id_identifier){var o=[];if("active_chats"==r.last_id_identifier&&n.aicons&&(a+="_"+(o=Object.keys(n.aicons)).join("_")),t.push(a),void 0===m.statusNotifications[r.last_id_identifier]&&c(s,m.statusNotifications[r.last_id_identifier]=[],m),1==f.isListLoaded&&"subject_chats"==r.last_id_identifier)-1==m.statusNotifications[r.last_id_identifier].indexOf(a)&&-1===lhinst.chatsSynchronising.indexOf(parseInt(n.id))&&e.push(n.id);else if(1==f.isListLoaded&&"active_chats"==r.last_id_identifier){if(-1==m.statusNotifications[r.last_id_identifier].indexOf(a)&&o.length>0&&m.notifIcons.length>0){var d=m.notifIcons.filter((function(t){return-1===m.excludeIcons.indexOf(t)&&-1!==o.indexOf(t)}));d.length>0&&e.push(n.id+"__"+d.join("__"))}}else 1!=f.isListLoaded||0!=l&&2!==n.status_sub_sub||(-1!=m.statusNotifications[r.last_id_identifier].indexOf(a)||0!=i&&"amails"!=r.last_id_identifier||0!=confLH.ownntfonly)&&(-1!=m.statusNotifications[r.last_id_identifier].indexOf(a)||i!=confLH.user_id)?l++:-1===lhinst.chatsSynchronising.indexOf(parseInt(n.id))&&e.push(n.id)}})),e.length>0&&(e.unshift(r.last_id_identifier),n.push(e.join("/"))),!0===f.isListLoaded&&Y(m.statusNotifications[r.last_id_identifier],t,r.last_id_identifier),c(s,m.statusNotifications[r.last_id_identifier]=t,m)}i.length>0&&(i.unshift("active_chat"),F.getNotificationsData(i.join("/")).then((function(t){t.forEach((function(t){lhinst.removeBackgroundChat(parseInt(t.last_id)),lhinst.playSoundNewAction(t.last_id_identifier,parseInt(t.last_id),t.nick?t.nick:"Live Help",t.msg?t.msg:confLH.transLation.new_chat,t.nt),lhinst.backgroundChats.push(parseInt(t.last_id))}))}))),n.length>0&&F.getNotificationsData(n.join("/")).then((function(t){t.forEach((function(t){lhinst.playSoundNewAction(t.last_id_identifier,parseInt(t.last_id),t.nick?t.nick:"Live Help",t.msg?t.msg:confLH.transLation.new_chat,t.nt)}))}))}if(void 0!==u.ou&&1==u.ou){jQuery("#lhc_op_operation").remove();var d=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("id","lhc_op_operation"),r.setAttribute("type","text/javascript"),r.setAttribute("src",WWW_DIR_JAVASCRIPT+"chat/loadoperatorjs"),d.appendChild(r)}if(void 0!==u.fs&&u.fs.length>0&&u.fs.forEach((function(t){lhinst.playSoundNewAction("pending_transfered",parseInt(t.id),t.nick?t.nick:"Live Help",confLH.transLation.transfered,t.nt,t.uid)})),void 0!==u.mac&&u.mac.length>0)(a=jQuery("#tabs")).length>0&&0==lhinst.disableremember&&u.mac.forEach((function(t){lhinst.startChatBackground(t.id,a,K(t.nick||"Visitor",10),!1),k({type:"mac",chat_id:t.id,nick:t.nick})}));s.update((t=>(t.lhcVersion=u.v,t.hideOnline=1===u.ho,t.hideInvisible=1===u.im,t.alwaysOnline=1===u.a_on,t.inActive=1===u.ina,t))),!0===f.setTimeoutEnabled&&(f.timeoutControl=setTimeout((function(){L()}),confLH.back_office_sinterval)),f.isListLoaded=!0}catch(t){c(s,m.lhcConnectivityProblem=!0,m),c(s,m.lhcConnectivityProblemExplain=t,m),f.lhcListRequestInProgress=!1,f.timeoutControl=setTimeout((function(){L()}),confLH.back_office_sinterval),console.error("There has been a problem with your fetch operation:",t)}}}function S(t,e){isNaN(t)||jQuery("#tabs").length>0&&(jQuery("#menu-chat-options").dropdown("toggle"),F.getChatData(t).then((function(n){n.r?document.location=WWW_DIR_JAVASCRIPT+n.r:(lhinst.addOpenTrace("start_chat_by_id"),e?lhinst.startChatBackground(parseInt(t),jQuery("#tabs"),K(n.nick||"Visitor",10),"backgroundid"):function(t,e){if(jQuery("#tabs").length>0)return lhinst.addOpenTrace("click"),lhinst.startChat(t,jQuery("#tabs"),K(e||"Visitor",10));lhinst.startChatNewWindow(t,e)}(parseInt(t),K(n.nick||"Visitor",10)))})))}return t.$$.update=()=>{64&t.$$.dirty[0]&&n(5,i=m.userFilterText),64&t.$$.dirty[0]&&n(4,d=m.depFilterText),64&t.$$.dirty[0]&&n(3,r=m.lmtoggle),64&t.$$.dirty[0]&&n(2,_=m.rmtoggle),64&t.$$.dirty[0]&&n(1,u=m.toggleWidgetData.track_open_chats),64&t.$$.dirty[0]&&n(0,p=m.toggleWidgetData.group_offline_chats),32&t.$$.dirty[0]&&F.searchProvider("users",m.userFilterText).then((function(t){c(s,m.userList=t.items,m)})).catch((function(){c(s,m.userList=[],m)})),16&t.$$.dirty[0]&&F.searchProvider("depswidget",m.depFilterText).then((function(t){c(s,m.userDepartments=t.items,m),c(s,m.userDepartmentsNames=t.items_names,m)})).catch((function(){c(s,m.userDepartments=[],m),c(s,m.userDepartmentsNames=[],m)})),8&t.$$.dirty[0]&&h(),4&t.$$.dirty[0]&&h(),2&t.$$.dirty[0]&&g("track_open_chats"),1&t.$$.dirty[0]&&g("group_offline_chats")},[p,u,_,r,d,i,m]}class Z extends e{constructor(t){super(),n(this,t,z,null,i,{},null,[-1,-1])}}function tt(t){let e,n,i,a=t[1].lhcPendingRefresh&&et(t),s=t[1].lhcConnectivityProblem&&nt(t),l=t[1].inActive&&it();return{c(){e=h("div"),a&&a.c(),n=r(),s&&s.c(),i=r(),l&&l.c(),g(e,"ng-non-bindable",""),g(e,"class","version-updated float-start")},m(t,c){u(t,e,c),a&&a.m(e,null),f(e,n),s&&s.m(e,null),f(e,i),l&&l.m(e,null)},p(t,c){t[1].lhcPendingRefresh?a?a.p(t,c):(a=et(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),t[1].lhcConnectivityProblem?s?s.p(t,c):(s=nt(t),s.c(),s.m(e,i)):s&&(s.d(1),s=null),t[1].inActive?l||(l=it(),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(t){t&&m(e),a&&a.d(),s&&s.d(),l&&l.d()}}}function et(t){let e,n,i,a,s;return{c(){e=h("div"),n=h("i"),n.textContent="update",i=w("This window will be automatically refreshed in "),a=w(t[2]),s=w(" seconds due to a version update."),g(n,"class","material-icons")},m(t,l){u(t,e,l),f(e,n),f(e,i),f(e,a),f(e,s)},p(t,e){4&e&&v(a,t[2])},d(t){t&&m(e)}}}function nt(t){let e,n,i,a=t[1].lhcConnectivityProblemExplain+"";return{c(){e=h("div"),n=w("You have weak internet connection or the server has problems. Try to refresh the  page. Error code "),i=w(a)},m(t,a){u(t,e,a),f(e,n),f(e,i)},p(t,e){2&e&&a!==(a=t[1].lhcConnectivityProblemExplain+"")&&v(i,a)},d(t){t&&m(e)}}}function it(t){let e;return{c(){e=h("div"),e.textContent="You went offline because of inactivity. Please close other chat windows if you have any"},m(t,n){u(t,e,n)},d(t){t&&m(e)}}}function at(t){let e,n,i,a,s,l,c,o=t[1].last_actions_index<t[1].last_actions.length-1&&st(),d=t[1].last_actions_index>0&&lt(),_=t[1].last_actions_index>0&&ct(),p="user_wrote"==t[1].last_actions[t[1].last_actions_index].type&&ot(t),w="user_wrote"!=t[1].last_actions[t[1].last_actions_index].type&&"mac"!=t[1].last_actions[t[1].last_actions_index].type&&"mac_history"!=t[1].last_actions[t[1].last_actions_index].type&&dt(t),v="mac"==t[1].last_actions[t[1].last_actions_index].type&&rt(t),b="mac_history"==t[1].last_actions[t[1].last_actions_index].type&&_t(t);return{c(){e=h("div"),o&&o.c(),n=r(),d&&d.c(),i=r(),_&&_.c(),a=r(),p&&p.c(),s=r(),w&&w.c(),l=r(),v&&v.c(),c=r(),b&&b.c(),g(e,"ng-non-bindable",""),g(e,"class","text-muted float-start fs12 abbr-list d-none d-sm-block")},m(t,r){u(t,e,r),o&&o.m(e,null),f(e,n),d&&d.m(e,null),f(e,i),_&&_.m(e,null),f(e,a),p&&p.m(e,null),f(e,s),w&&w.m(e,null),f(e,l),v&&v.m(e,null),f(e,c),b&&b.m(e,null)},p(t,r){t[1].last_actions_index<t[1].last_actions.length-1?o||(o=st(),o.c(),o.m(e,n)):o&&(o.d(1),o=null),t[1].last_actions_index>0?d||(d=lt(),d.c(),d.m(e,i)):d&&(d.d(1),d=null),t[1].last_actions_index>0?_||(_=ct(),_.c(),_.m(e,a)):_&&(_.d(1),_=null),"user_wrote"==t[1].last_actions[t[1].last_actions_index].type?p?p.p(t,r):(p=ot(t),p.c(),p.m(e,s)):p&&(p.d(1),p=null),"user_wrote"!=t[1].last_actions[t[1].last_actions_index].type&&"mac"!=t[1].last_actions[t[1].last_actions_index].type&&"mac_history"!=t[1].last_actions[t[1].last_actions_index].type?w?w.p(t,r):(w=dt(t),w.c(),w.m(e,l)):w&&(w.d(1),w=null),"mac"==t[1].last_actions[t[1].last_actions_index].type?v?v.p(t,r):(v=rt(t),v.c(),v.m(e,c)):v&&(v.d(1),v=null),"mac_history"==t[1].last_actions[t[1].last_actions_index].type?b?b.p(t,r):(b=_t(t),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},d(t){t&&m(e),o&&o.d(),d&&d.d(),_&&_.d(),p&&p.d(),w&&w.d(),v&&v.d(),b&&b.d()}}}function st(t){let e;return{c(){e=h("span"),e.textContent="expand_more",g(e,"class","material-icons action-image"),g(e,"ng-click","lhc.last_actions_index = lhc.last_actions_index + 1")},m(t,n){u(t,e,n)},d(t){t&&m(e)}}}function lt(t){let e;return{c(){e=h("span"),e.textContent="expand_less",g(e,"ng-click","lhc.last_actions_index = lhc.last_actions_index - 1"),g(e,"class","material-icons action-image")},m(t,n){u(t,e,n)},d(t){t&&m(e)}}}function ct(t){let e;return{c(){e=h("span"),e.textContent="hourglass_full",g(e,"class","material-icons")},m(t,n){u(t,e,n)},d(t){t&&m(e)}}}function ot(t){let e,n,i,a,s,l,c,o,d=t[1].last_actions[t[1].last_actions_index].nick+"",r=t[1].last_actions[t[1].last_actions_index].msg+"",_=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=h("span"),n=h("b"),i=w(d),a=w(" - "),s=h("i"),l=w(r),c=w(" in chat - "),o=w(_)},m(t,d){u(t,e,d),f(e,n),f(n,i),f(e,a),f(e,s),f(s,l),f(e,c),f(e,o)},p(t,e){2&e&&d!==(d=t[1].last_actions[t[1].last_actions_index].nick+"")&&v(i,d),2&e&&r!==(r=t[1].last_actions[t[1].last_actions_index].msg+"")&&v(l,r),2&e&&_!==(_=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&v(o,_)},d(t){t&&m(e)}}}function dt(t){let e,n,i,a,s,l,c,o,d=t[1].last_actions[t[1].last_actions_index].nick+"",r=t[1].last_actions[t[1].last_actions_index].msg+"",_=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=h("span"),n=h("b"),i=w(d),a=w(" - "),s=h("i"),l=w(r),c=w(" - "),o=w(_),g(e,"ng-if","")},m(t,d){u(t,e,d),f(e,n),f(n,i),f(e,a),f(e,s),f(s,l),f(e,c),f(e,o)},p(t,e){2&e&&d!==(d=t[1].last_actions[t[1].last_actions_index].nick+"")&&v(i,d),2&e&&r!==(r=t[1].last_actions[t[1].last_actions_index].msg+"")&&v(l,r),2&e&&_!==(_=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&v(o,_)},d(t){t&&m(e)}}}function rt(t){let e,n,i,a,s,l=t[1].last_actions[t[1].last_actions_index].nick+"",c=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=h("span"),n=h("b"),i=w(l),a=w(" - active chat was opened - "),s=w(c)},m(t,l){u(t,e,l),f(e,n),f(n,i),f(e,a),f(e,s)},p(t,e){2&e&&l!==(l=t[1].last_actions[t[1].last_actions_index].nick+"")&&v(i,l),2&e&&c!==(c=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&v(s,c)},d(t){t&&m(e)}}}function _t(t){let e,n,i,a,s,l=t[1].last_actions[t[1].last_actions_index].nick+"",c=t[1].last_actions[t[1].last_actions_index].chat_id+"";return{c(){e=h("span"),n=h("b"),i=w(l),a=w(" - previously loaded chat was opened - "),s=w(c)},m(t,l){u(t,e,l),f(e,n),f(n,i),f(e,a),f(e,s)},p(t,e){2&e&&l!==(l=t[1].last_actions[t[1].last_actions_index].nick+"")&&v(i,l),2&e&&c!==(c=t[1].last_actions[t[1].last_actions_index].chat_id+"")&&v(s,c)},d(t){t&&m(e)}}}function ut(t){let e,n,i=(t[1].lhcPendingRefresh||t[1].lhcConnectivityProblem||t[1].inActive)&&tt(t),a=0==t[0]&&!(t[1].lhcPendingRefresh||1==t[1].lhcConnectivityProblem||1==t[1].inActive)&&t[1].last_actions.length>0&&at(t);return{c(){i&&i.c(),e=r(),a&&a.c(),n=_()},m(t,s){i&&i.m(t,s),u(t,e,s),a&&a.m(t,s),u(t,n,s)},p(t,[s]){t[1].lhcPendingRefresh||t[1].lhcConnectivityProblem||t[1].inActive?i?i.p(t,s):(i=tt(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),0==t[0]&&!t[1].lhcPendingRefresh&&1!=t[1].lhcConnectivityProblem&&1!=t[1].inActive&&t[1].last_actions.length>0?a?a.p(t,s):(a=at(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i:p,o:p,d(t){t&&(m(e),m(n)),i&&i.d(t),a&&a.d(t)}}}function pt(t,e,n){let i,l;a(t,s,(t=>n(1,l=t)));let{hide_quick_notification:o=0}=e,d=8,r=0;return t.$$set=t=>{"hide_quick_notification"in t&&n(0,o=t.hide_quick_notification)},t.$$.update=()=>{2&t.$$.dirty&&n(3,i=l.lhcVersion),8&t.$$.dirty&&(0==r&&(r=i),r>0&&i>0&&r!=i&&(c(s,l.lhcPendingRefresh=!0,l),setInterval((()=>{n(2,d-=1),0==d&&document.location.reload(!0)}),1e3)))},[o,l,d,i]}customElements.define("lhc-app",t(Z,{},[],[],!1));class mt extends e{constructor(t){super(),n(this,t,pt,ut,i,{hide_quick_notification:0})}get hide_quick_notification(){return this.$$.ctx[0]}set hide_quick_notification(t){this.$$set({hide_quick_notification:t}),d()}}async function ht(t){t.e&&(t.e.stopPropagation(),t.e.preventDefault());const e=await fetch(WWW_DIR_JAVASCRIPT+t.url,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":confLH.csrf_token}}).catch((t=>{alert("We could not change your status! "+t)})),n=await e.json();!1===n.error?t.store.update((e=>(e[t.attr]=!e[t.attr],e))):void 0!==n.message?alert(n.message):void 0!==n.msg?alert(n.msg):alert(n)}function gt(t){let e;function n(t,e){return 1==t[2].hideOnline?wt:ft}let i=n(t),a=i(t);return{c(){a.c(),e=_()},m(t,n){a.m(t,n),u(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&m(e),a.d(t)}}}function ft(t){let e,n=t[3]("homepage.status_online")+"";return{c(){e=w(n)},m(t,n){u(t,e,n)},p(t,i){8&i&&n!==(n=t[3]("homepage.status_online")+"")&&v(e,n)},d(t){t&&m(e)}}}function wt(t){let e,n=t[3]("homepage.status_offline")+"";return{c(){e=w(n)},m(t,n){u(t,e,n)},p(t,i){8&i&&n!==(n=t[3]("homepage.status_offline")+"")&&v(e,n)},d(t){t&&m(e)}}}function vt(t){let e,n,i,a,s,l,c=1==t[2].hideOnline?"flash_off":"flash_on",o=t[0]&&gt(t);return{c(){e=h("a"),n=h("i"),i=w(c),o&&o.c(),g(n,"id","online-offline-user"),g(n,"class","material-icons"),g(n,"title",a=t[3]("homepage.change_online_status")),g(e,"href","#"),g(e,"class",t[1])},m(a,c){u(a,e,c),f(e,n),f(n,i),o&&o.m(e,null),s||(l=b(e,"click",t[4]),s=!0)},p(t,[s]){4&s&&c!==(c=1==t[2].hideOnline?"flash_off":"flash_on")&&v(i,c),8&s&&a!==(a=t[3]("homepage.change_online_status"))&&g(n,"title",a),t[0]?o?o.p(t,s):(o=gt(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null),2&s&&g(e,"class",t[1])},i:p,o:p,d(t){t&&m(e),o&&o.d(),s=!1,l()}}}function bt(t,e,n){let i,l;a(t,s,(t=>n(2,i=t))),a(t,y,(t=>n(3,l=t)));let{show_text:c=!1}=e,{css_class:o="nav-link"}=e;return t.$$set=t=>{"show_text"in t&&n(0,c=t.show_text),"css_class"in t&&n(1,o=t.css_class)},[c,o,i,l,t=>ht({store:s,e:t,attr:"hideOnline",url:"user/setoffline/"+(1==!i.hideOnline?"true":"false")})]}customElements.define("lhc-status",t(mt,{hide_quick_notification:{}},[],[],!1));class yt extends e{constructor(t){super(),n(this,t,bt,vt,i,{show_text:0,css_class:1})}get show_text(){return this.$$.ctx[0]}set show_text(t){this.$$set({show_text:t}),d()}get css_class(){return this.$$.ctx[1]}set css_class(t){this.$$set({css_class:t}),d()}}function xt(t){let e,n=t[1]("homepage.always_online_activity")+"";return{c(){e=w(n)},m(t,n){u(t,e,n)},p(t,i){2&i&&n!==(n=t[1]("homepage.always_online_activity")+"")&&v(e,n)},d(t){t&&m(e)}}}function $t(t){let e,n=t[1]("homepage.always_online_mode")+"";return{c(){e=w(n)},m(t,n){u(t,e,n)},p(t,i){2&i&&n!==(n=t[1]("homepage.always_online_mode")+"")&&v(e,n)},d(t){t&&m(e)}}}function jt(t){let e,n,i,a,s,l,c=1==t[0].hideOnline?"flash_off":1==t[0].alwaysOnline?"toggle_on":"toggle_off";function o(t,e){return 1==t[0].alwaysOnline?$t:xt}let d=o(t),r=d(t);return{c(){e=h("a"),n=h("i"),i=w(c),r.c(),g(n,"class","material-icons"),g(e,"href","#"),g(e,"class","dropdown-item ps-2"),g(e,"title",a=t[1]("homepage.always_online"))},m(a,c){u(a,e,c),f(e,n),f(n,i),r.m(e,null),s||(l=b(e,"click",t[2]),s=!0)},p(t,[n]){1&n&&c!==(c=1==t[0].hideOnline?"flash_off":1==t[0].alwaysOnline?"toggle_on":"toggle_off")&&v(i,c),d===(d=o(t))&&r?r.p(t,n):(r.d(1),r=d(t),r&&(r.c(),r.m(e,null))),2&n&&a!==(a=t[1]("homepage.always_online"))&&g(e,"title",a)},i:p,o:p,d(t){t&&m(e),r.d(),s=!1,l()}}}function kt(t,e,n){let i,l;a(t,s,(t=>n(0,i=t))),a(t,y,(t=>n(1,l=t)));return[i,l,t=>ht({store:s,e:t,attr:"alwaysOnline",url:"user/setalwaysonline/"+(1==!i.alwaysOnline?"true":"false")})]}customElements.define("change-online-status",t(yt,{show_text:{type:"Boolean"},css_class:{}},[],[],!1));class Wt extends e{constructor(t){super(),n(this,t,kt,jt,i,{})}}function Ct(t){let e;function n(t,e){return 1==t[2].hideInvisible?It:Dt}let i=n(t),a=i(t);return{c(){a.c(),e=_()},m(t,n){a.m(t,n),u(t,e,n)},p(t,s){i===(i=n(t))&&a?a.p(t,s):(a.d(1),a=i(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){t&&m(e),a.d(t)}}}function Dt(t){let e,n=t[3]("homepage.visible")+"";return{c(){e=w(n)},m(t,n){u(t,e,n)},p(t,i){8&i&&n!==(n=t[3]("homepage.visible")+"")&&v(e,n)},d(t){t&&m(e)}}}function It(t){let e,n=t[3]("homepage.invisible")+"";return{c(){e=w(n)},m(t,n){u(t,e,n)},p(t,i){8&i&&n!==(n=t[3]("homepage.invisible")+"")&&v(e,n)},d(t){t&&m(e)}}}function Lt(t){let e,n,i,a,s,l,c=1==t[2].hideInvisible?"visibility_off":"visibility",o=!t[1]&&Ct(t);return{c(){e=h("a"),n=h("i"),i=w(c),o&&o.c(),g(n,"id","vi-in-user"),g(n,"class","material-icons"),g(n,"title",a=t[3]("homepage.change_visibility")),g(e,"href","#"),g(e,"class",t[0])},m(a,c){u(a,e,c),f(e,n),f(n,i),o&&o.m(e,null),s||(l=b(e,"click",t[4]),s=!0)},p(t,[s]){4&s&&c!==(c=1==t[2].hideInvisible?"visibility_off":"visibility")&&v(i,c),8&s&&a!==(a=t[3]("homepage.change_visibility"))&&g(n,"title",a),t[1]?o&&(o.d(1),o=null):o?o.p(t,s):(o=Ct(t),o.c(),o.m(e,null)),1&s&&g(e,"class",t[0])},i:p,o:p,d(t){t&&m(e),o&&o.d(),s=!1,l()}}}function St(t,e,n){let i,l;a(t,s,(t=>n(2,i=t))),a(t,y,(t=>n(3,l=t)));let{css_class:c="dropdown-item ps-2"}=e,{hide_text:o=!1}=e;return t.$$set=t=>{"css_class"in t&&n(0,c=t.css_class),"hide_text"in t&&n(1,o=t.hide_text)},[c,o,i,l,t=>ht({store:s,e:t,attr:"hideInvisible",url:"user/setinvisible/"+(1==!i.hideInvisible?"true":"false")})]}customElements.define("change-always-online",t(Wt,{},[],[],!1));class Pt extends e{constructor(t){super(),n(this,t,St,Lt,i,{css_class:0,hide_text:1})}get css_class(){return this.$$.ctx[0]}set css_class(t){this.$$set({css_class:t}),d()}get hide_text(){return this.$$.ctx[1]}set hide_text(t){this.$$set({hide_text:t}),d()}}function Tt(t){let e,n,i,a,s,l,c,o,d,_;return{c(){e=h("div"),n=h("div"),i=h("input"),s=r(),l=h("button"),c=h("i"),c.textContent="chat",g(i,"type","text"),g(i,"class","form-control"),g(i,"placeholder",a=t[1]("front_default.chat_id_to_open")),g(i,"aria-describedby","inputGroupPrepend"),i.required=!0,g(c,"class","material-icons me-0"),g(l,"class","btn btn-secondary"),g(l,"title",o=t[1]("front_default.open_a_chat")),g(l,"type","button"),g(n,"class","input-group input-group-sm"),g(e,"class","dropdown-item")},m(a,o){u(a,e,o),f(e,n),f(n,i),x(i,t[0].chat_to_open),f(n,s),f(n,l),f(l,c),d||(_=[b(i,"input",t[2]),b(i,"keyup",t[3]),b(l,"click",t[4])],d=!0)},p(t,[e]){2&e&&a!==(a=t[1]("front_default.chat_id_to_open"))&&g(i,"placeholder",a),1&e&&i.value!==t[0].chat_to_open&&x(i,t[0].chat_to_open),2&e&&o!==(o=t[1]("front_default.open_a_chat"))&&g(l,"title",o)},i:p,o:p,d(t){t&&m(e),d=!1,j(_)}}}function At(t,e,n){let i,l;a(t,s,(t=>n(0,i=t))),a(t,y,(t=>n(1,l=t)));return[i,l,function(){i.chat_to_open=this.value,s.set(i)},t=>{13===t.keyCode&&ee.emitEvent("angularStartChatbyId",[i.chat_to_open])},t=>ee.emitEvent("angularStartChatbyId",[i.chat_to_open])]}customElements.define("change-visibility-mode",t(Pt,{css_class:{},hide_text:{type:"Boolean"}},[],[],!1));class Ot extends e{constructor(t){super(),n(this,t,At,Tt,i,{})}}function Rt(t,e,n){const i=t.slice();return i[58]=e[n],i}function Et(t,e,n){const i=t.slice();return i[65]=e[n],i}function Nt(t,e,n){const i=t.slice();return i[68]=e[n],i}function Vt(t,e,n){const i=t.slice();return i[71]=e[n],i}function Ht(t,e,n){const i=t.slice();return i[68]=e[n],i}function Jt(t,e,n){const i=t.slice();return i[71]=e[n],i}function Gt(t,e,n){const i=t.slice();return i[78]=e[n][0],i[79]=e[n][1],i}function Mt(t,e,n){const i=t.slice();return i[58]=e[n],i}function Qt(t,e,n){const i=t.slice();return i[58]=e[n],i}function Bt(t,e,n){const i=t.slice();return i[52]=e[n],i}function Ft(t,e,n){const i=t.slice();return i[55]=e[n],i}function qt(t,e,n){const i=t.slice();return i[68]=e[n],i}function Xt(t){let e,n,i,a,s,l,c,o,d,_,p,v,y,x,$,k,C,D,I,L,S,P,T,A,O,R,E,N,V,H,J,G,M,Q,B,q;function X(t,e){return"online_op"==t[1]?Zt:"depgroups_stats"==t[1]?zt:"active_chats"==t[1]?Yt:"group_chats"==t[1]?Kt:Ut}let U=X(t),K=U(t),Y="transfer_chats"==t[1]&&te(t),z="pending_chats"==t[1]&&ne(t),Z=!1===t[4]&&t[13]&&t[11].additionalColumns&&ie(t),tt=("subject_chats"==t[1]||"alarm_mails"==t[1])&&oe(),et="depgroups_stats"===t[1]&&de(t),nt="online_op"===t[1]&&re(t),it=("pending_chats"===t[1]||"my_mails"===t[1]||"alarm_mails"===t[1]||"active_mails"===t[1]||"pending_mails"===t[1])&&_e(t),at="my_chats"===t[1]&&ue(t),st="unread_chats"===t[1]&&pe(t),lt=("active_chats"===t[1]||"bot_chats"===t[1])&&me(t),ct="subject_chats"==t[1]&&he(t),ot="transfer_chats"==t[1]&&ge(t),dt="online_op"==t[1]&&fe(t),rt="active_chats"==t[1]&&we(t),_t="depgroups_stats"==t[1]&&ve(t),ut=("active_mails"==t[1]||"alarm_mails"==t[1])&&be(t),pt="depgroups_stats"==t[1]&&ye(t);function mt(t,e){return"group_chats"==t[1]?je:"active_chats"==t[1]?$e:"transfer_chats"!=t[1]&&"depgroups_stats"!=t[1]?xe:void 0}let ht=mt(t),gt=ht&&ht(t);return{c(){e=h("thead"),n=h("tr"),i=h("th"),K.c(),a=r(),Y&&Y.c(),s=r(),z&&z.c(),l=r(),Z&&Z.c(),c=r(),tt&&tt.c(),o=r(),d=h("th"),et&&et.c(),_=r(),nt&&nt.c(),p=r(),it&&it.c(),v=r(),at&&at.c(),y=r(),st&&st.c(),x=r(),lt&&lt.c(),$=r(),ct&&ct.c(),k=r(),ot&&ot.c(),C=r(),dt&&dt.c(),D=r(),rt&&rt.c(),I=r(),_t&&_t.c(),L=r(),ut&&ut.c(),S=r(),P=h("th"),pt&&pt.c(),T=r(),gt&&gt.c(),A=r(),O=h("div"),R=h("a"),E=h("i"),N=w("expand"),H=r(),J=h("a"),G=h("i"),M=w("compress"),g(i,"width",t[8]),g(d,"width",t[7]),g(E,"title",V=t[12]("widget.more_rows")),g(E,"class","material-icons"),g(R,"class","text-muted disable-select"),g(G,"title",Q=t[12]("widget.less_rows")),g(G,"class","material-icons"),g(J,"class","text-muted disable-select"),g(O,"class","float-end expand-actions"),g(P,"width",t[9])},m(r,m){u(r,e,m),f(e,n),f(n,i),K.m(i,null),f(i,a),Y&&Y.m(i,null),f(i,s),z&&z.m(i,null),f(n,l),Z&&Z.m(n,null),f(n,c),tt&&tt.m(n,null),f(n,o),f(n,d),et&&et.m(d,null),f(d,_),nt&&nt.m(d,null),f(d,p),it&&it.m(d,null),f(d,v),at&&at.m(d,null),f(d,y),st&&st.m(d,null),f(d,x),lt&&lt.m(d,null),f(d,$),ct&&ct.m(d,null),f(d,k),ot&&ot.m(d,null),f(n,C),dt&&dt.m(n,null),f(n,D),rt&&rt.m(n,null),f(n,I),_t&&_t.m(n,null),f(n,L),ut&&ut.m(n,null),f(n,S),f(n,P),pt&&pt.m(P,null),f(P,T),gt&&gt.m(P,null),f(P,A),f(P,O),f(O,R),f(R,E),f(E,N),f(O,H),f(O,J),f(J,G),f(G,M),B||(q=[b(R,"click",(function(){W(F.changeWidgetHeight(t[2],t[5],!0))&&F.changeWidgetHeight(t[2],t[5],!0).apply(this,arguments)})),b(J,"click",(function(){W(F.changeWidgetHeight(t[2],t[5],!1))&&F.changeWidgetHeight(t[2],t[5],!1).apply(this,arguments)}))],B=!0)},p(e,l){U===(U=X(t=e))&&K?K.p(t,l):(K.d(1),K=U(t),K&&(K.c(),K.m(i,a))),"transfer_chats"==t[1]?Y?Y.p(t,l):(Y=te(t),Y.c(),Y.m(i,s)):Y&&(Y.d(1),Y=null),"pending_chats"==t[1]?z?z.p(t,l):(z=ne(t),z.c(),z.m(i,null)):z&&(z.d(1),z=null),256&l[0]&&g(i,"width",t[8]),!1===t[4]&&t[13]&&t[11].additionalColumns?Z?Z.p(t,l):(Z=ie(t),Z.c(),Z.m(n,c)):Z&&(Z.d(1),Z=null),"subject_chats"==t[1]||"alarm_mails"==t[1]?tt||(tt=oe(),tt.c(),tt.m(n,o)):tt&&(tt.d(1),tt=null),"depgroups_stats"===t[1]?et?et.p(t,l):(et=de(t),et.c(),et.m(d,_)):et&&(et.d(1),et=null),"online_op"===t[1]?nt?nt.p(t,l):(nt=re(t),nt.c(),nt.m(d,p)):nt&&(nt.d(1),nt=null),"pending_chats"===t[1]||"my_mails"===t[1]||"alarm_mails"===t[1]||"active_mails"===t[1]||"pending_mails"===t[1]?it?it.p(t,l):(it=_e(t),it.c(),it.m(d,v)):it&&(it.d(1),it=null),"my_chats"===t[1]?at?at.p(t,l):(at=ue(t),at.c(),at.m(d,y)):at&&(at.d(1),at=null),"unread_chats"===t[1]?st?st.p(t,l):(st=pe(t),st.c(),st.m(d,x)):st&&(st.d(1),st=null),"active_chats"===t[1]||"bot_chats"===t[1]?lt?lt.p(t,l):(lt=me(t),lt.c(),lt.m(d,$)):lt&&(lt.d(1),lt=null),"subject_chats"==t[1]?ct?ct.p(t,l):(ct=he(t),ct.c(),ct.m(d,k)):ct&&(ct.d(1),ct=null),"transfer_chats"==t[1]?ot?ot.p(t,l):(ot=ge(t),ot.c(),ot.m(d,null)):ot&&(ot.d(1),ot=null),128&l[0]&&g(d,"width",t[7]),"online_op"==t[1]?dt?dt.p(t,l):(dt=fe(t),dt.c(),dt.m(n,D)):dt&&(dt.d(1),dt=null),"active_chats"==t[1]?rt?rt.p(t,l):(rt=we(t),rt.c(),rt.m(n,I)):rt&&(rt.d(1),rt=null),"depgroups_stats"==t[1]?_t?_t.p(t,l):(_t=ve(t),_t.c(),_t.m(n,L)):_t&&(_t.d(1),_t=null),"active_mails"==t[1]||"alarm_mails"==t[1]?ut?ut.p(t,l):(ut=be(t),ut.c(),ut.m(n,S)):ut&&(ut.d(1),ut=null),"depgroups_stats"==t[1]?pt?pt.p(t,l):(pt=ye(t),pt.c(),pt.m(P,T)):pt&&(pt.d(1),pt=null),ht===(ht=mt(t))&&gt?gt.p(t,l):(gt&&gt.d(1),gt=ht&&ht(t),gt&&(gt.c(),gt.m(P,A))),4096&l[0]&&V!==(V=t[12]("widget.more_rows"))&&g(E,"title",V),4096&l[0]&&Q!==(Q=t[12]("widget.less_rows"))&&g(G,"title",Q),512&l[0]&&g(P,"width",t[9])},d(t){t&&m(e),K.d(),Y&&Y.d(),z&&z.d(),Z&&Z.d(),tt&&tt.d(),et&&et.d(),nt&&nt.d(),it&&it.d(),at&&at.d(),st&&st.d(),lt&&lt.d(),ct&&ct.d(),ot&&ot.d(),dt&&dt.d(),rt&&rt.d(),_t&&_t.d(),ut&&ut.d(),pt&&pt.d(),gt&&gt.d(),B=!1,j(q)}}}function Ut(t){let e,n,i;return{c(){e=h("i"),n=w("face"),g(e,"title",i=t[12]("widget.visitor")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){4096&n[0]&&i!==(i=t[12]("widget.visitor"))&&g(e,"title",i)},d(t){t&&m(e)}}}function Kt(t){let e,n,i;return{c(){e=h("i"),n=w("group"),g(e,"title",i=t[12]("group_chat.group_name")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){4096&n[0]&&i!==(i=t[12]("group_chat.group_name"))&&g(e,"title",i)},d(t){t&&m(e)}}}function Yt(t){let e,n,i,a,s,l,c,o,d,_,p,y,x,$,W,C,D,I,L,S="loc_dsc"==t[11].toggleWidgetData[t[0]]||"loc_asc"!=t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down",P="u_dsc"==t[11].toggleWidgetData[t[0]]||"u_asc"!=t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=h("a"),n=h("i"),i=w("location_on"),s=r(),l=h("i"),c=w(S),d=w("   "),_=h("a"),p=h("i"),y=w("face"),$=r(),W=h("i"),C=w(P),g(n,"title",a=t[12]("widget.location")),g(n,"class","material-icons"),g(l,"title",o=t[12]("widget.sort_by_location")),g(l,"class","material-icons"),k(l,"text-muted","loc_asc"!=t[11].toggleWidgetData[t[0]]&&"loc_dsc"!=t[11].toggleWidgetData[t[0]]),g(p,"title",x=t[12]("widget.visitor")),g(p,"class","material-icons"),g(W,"title",D=t[12]("widget.sort_by_nick")),g(W,"class","material-icons"),k(W,"text-muted","u_asc"!=t[11].toggleWidgetData[t[0]]&&"u_dsc"!=t[11].toggleWidgetData[t[0]])},m(a,o){u(a,e,o),f(e,n),f(n,i),f(e,s),f(e,l),f(l,c),u(a,d,o),u(a,_,o),f(_,p),f(p,y),f(_,$),f(_,W),f(W,C),I||(L=[b(e,"click",t[17]),b(_,"click",t[18])],I=!0)},p(t,e){4096&e[0]&&a!==(a=t[12]("widget.location"))&&g(n,"title",a),2049&e[0]&&S!==(S="loc_dsc"==t[11].toggleWidgetData[t[0]]||"loc_asc"!=t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(c,S),4096&e[0]&&o!==(o=t[12]("widget.sort_by_location"))&&g(l,"title",o),2049&e[0]&&k(l,"text-muted","loc_asc"!=t[11].toggleWidgetData[t[0]]&&"loc_dsc"!=t[11].toggleWidgetData[t[0]]),4096&e[0]&&x!==(x=t[12]("widget.visitor"))&&g(p,"title",x),2049&e[0]&&P!==(P="u_dsc"==t[11].toggleWidgetData[t[0]]||"u_asc"!=t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(C,P),4096&e[0]&&D!==(D=t[12]("widget.sort_by_nick"))&&g(W,"title",D),2049&e[0]&&k(W,"text-muted","u_asc"!=t[11].toggleWidgetData[t[0]]&&"u_dsc"!=t[11].toggleWidgetData[t[0]])},d(t){t&&(m(e),m(d),m(_)),I=!1,j(L)}}}function zt(t){let e,n,i;return{c(){e=h("i"),n=w(""),g(e,"title",i=t[12]("widget.dep_group")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){4096&n[0]&&i!==(i=t[12]("widget.dep_group"))&&g(e,"title",i)},d(t){t&&m(e)}}}function Zt(t){let e,n,i,a,s,l,c,o,d,_,p="onl_dsc"==t[11].toggleWidgetData[t[0]]||"onl_asc"!=t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=h("a"),n=h("i"),i=w("account_box"),s=r(),l=h("i"),c=w(p),g(n,"title",a=t[12]("widget.operator")),g(n,"class","material-icons"),g(l,"title",o=t[12]("widget.sort_by_online_status")),g(l,"class","material-icons"),k(l,"text-muted","onl_dsc"!=t[11].toggleWidgetData[t[0]]&&"onl_asc"!=t[11].toggleWidgetData[t[0]])},m(a,o){u(a,e,o),f(e,n),f(n,i),f(e,s),f(e,l),f(l,c),d||(_=b(e,"click",t[16]),d=!0)},p(t,e){4096&e[0]&&a!==(a=t[12]("widget.operator"))&&g(n,"title",a),2049&e[0]&&p!==(p="onl_dsc"==t[11].toggleWidgetData[t[0]]||"onl_asc"!=t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(c,p),4096&e[0]&&o!==(o=t[12]("widget.sort_by_online_status"))&&g(l,"title",o),2049&e[0]&&k(l,"text-muted","onl_dsc"!=t[11].toggleWidgetData[t[0]]&&"onl_asc"!=t[11].toggleWidgetData[t[0]])},d(t){t&&m(e),d=!1,_()}}}function te(t){let e,n=t[12]("widget.transferred_to_you")+"";return{c(){e=w(n)},m(t,n){u(t,e,n)},p(t,i){4096&i[0]&&n!==(n=t[12]("widget.transferred_to_you")+"")&&v(e,n)},d(t){t&&m(e)}}}function ne(t){let e,n,i,a,s,l,c="id_dsc"===t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=h("a"),n=h("i"),i=w(c),g(n,"title",a=t[12]("widget.sort")),g(n,"class","material-icons")},m(a,c){u(a,e,c),f(e,n),f(n,i),s||(l=b(e,"click",t[19]),s=!0)},p(t,e){2049&e[0]&&c!==(c="id_dsc"===t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(i,c),4096&e[0]&&a!==(a=t[12]("widget.sort"))&&g(n,"title",a)},d(t){t&&m(e),s=!1,l()}}}function ie(t){let e,n=C(t[11].additionalColumns),i=[];for(let e=0;e<n.length;e+=1)i[e]=ce(qt(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=_()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);u(t,e,n)},p(t,a){if(3076&a[0]){let s;for(n=C(t[11].additionalColumns),s=0;s<n.length;s+=1){const l=qt(t,n,s);i[s]?i[s].p(l,a):(i[s]=ce(l),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&m(e),D(i,t)}}}function ae(t){let e,n,i,a,s=t[68].name+"",l=""!==t[68].icon&&se(t),c=""!==t[10]&&t[68].sorten&&le(t);return{c(){e=h("th"),l&&l.c(),n=w(s),i=r(),c&&c.c(),a=r(),g(e,"width","20%")},m(t,s){u(t,e,s),l&&l.m(e,null),f(e,n),f(e,i),c&&c.m(e,null),f(e,a)},p(t,i){""!==t[68].icon?l?l.p(t,i):(l=se(t),l.c(),l.m(e,n)):l&&(l.d(1),l=null),2048&i[0]&&s!==(s=t[68].name+"")&&v(n,s),""!==t[10]&&t[68].sorten?c?c.p(t,i):(c=le(t),c.c(),c.m(e,a)):c&&(c.d(1),c=null)},d(t){t&&m(e),l&&l.d(),c&&c.d()}}}function se(t){let e,n,i=t[68].icon+"";return{c(){e=h("i"),n=w(i),g(e,"class","material-icons text-muted")},m(t,i){u(t,e,i),f(e,n)},p(t,e){2048&e[0]&&i!==(i=t[68].icon+"")&&v(n,i)},d(t){t&&m(e)}}}function le(t){let e,n,i,a,s,l=t[11].toggleWidgetData[t[10]]==t[68].items[0]+"_dsc"||t[11].toggleWidgetData[t[10]]!=t[68].items[0]+"_asc"?"trending_up":"trending_down";function c(...e){return t[20](t[68],...e)}return{c(){e=h("a"),n=h("i"),i=w(l),g(n,"class","material-icons"),k(n,"text-muted",t[11].toggleWidgetData[t[10]]!=t[68].items[0]+"_asc"&&t[11].toggleWidgetData[t[10]]!=t[68].items[0]+"_dsc")},m(t,l){u(t,e,l),f(e,n),f(n,i),a||(s=b(e,"click",c),a=!0)},p(e,a){t=e,3072&a[0]&&l!==(l=t[11].toggleWidgetData[t[10]]==t[68].items[0]+"_dsc"||t[11].toggleWidgetData[t[10]]!=t[68].items[0]+"_asc"?"trending_up":"trending_down")&&v(i,l),3072&a[0]&&k(n,"text-muted",t[11].toggleWidgetData[t[10]]!=t[68].items[0]+"_asc"&&t[11].toggleWidgetData[t[10]]!=t[68].items[0]+"_dsc")},d(t){t&&m(e),a=!1,s()}}}function ce(t){let e,n=1==t[68].cenabl&&!t[68].iconm&&ae(t);return{c(){n&&n.c(),e=_()},m(t,i){n&&n.m(t,i),u(t,e,i)},p(t,i){1!=t[68].cenabl||t[68].iconm?n&&(n.d(1),n=null):n?n.p(t,i):(n=ae(t),n.c(),n.m(e.parentNode,e))},d(t){t&&m(e),n&&n.d(t)}}}function oe(t){let e;return{c(){e=h("th"),e.innerHTML='<span class="material-icons">label</span>',g(e,"width","25%")},m(t,n){u(t,e,n)},d(t){t&&m(e)}}}function de(t){let e,n,i;return{c(){e=h("i"),n=w("chat"),g(e,"title",i=t[12]("widget_title.pending_chats")),g(e,"class","material-icons chat-pending")},m(t,i){u(t,e,i),f(e,n)},p(t,n){4096&n[0]&&i!==(i=t[12]("widget_title.pending_chats"))&&g(e,"title",i)},d(t){t&&m(e)}}}function re(t){let e,n,i;return{c(){e=h("i"),n=w("access_time"),g(e,"title",i=t[12]("widget.last_activity_ago")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){4096&n[0]&&i!==(i=t[12]("widget.last_activity_ago"))&&g(e,"title",i)},d(t){t&&m(e)}}}function _e(t){let e,n,i;return{c(){e=h("i"),n=w("access_time"),g(e,"title",i=t[12]("widget.wait_time")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){4096&n[0]&&i!==(i=t[12]("widget.wait_time"))&&g(e,"title",i)},d(t){t&&m(e)}}}function ue(t){let e,n,i;return{c(){e=h("i"),n=w("access_time"),g(e,"title",i=t[12]("widget.last_message")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){4096&n[0]&&i!==(i=t[12]("widget.last_message"))&&g(e,"title",i)},d(t){t&&m(e)}}}function pe(t){let e,n,i;return{c(){e=h("i"),n=w("access_time"),g(e,"title",i=t[12]("widget.time_ago")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){4096&n[0]&&i!==(i=t[12]("widget.time_ago"))&&g(e,"title",i)},d(t){t&&m(e)}}}function me(t){let e,n,i,a,s,l,c,o,d,_,p,y="lmt_dsc"==t[11].toggleWidgetData[t[0]]||"lmt_asc"!=t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down",x="id_dsc"==t[11].toggleWidgetData[t[0]]||"id_asc"!=t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=h("a"),n=h("i"),i=w(y),s=r(),l=h("a"),c=h("i"),o=w(x),g(n,"title",a=t[12]("widget.sort_by_last_msg_time")),g(n,"class","material-icons"),k(n,"text-muted","lmt_asc"!=t[11].toggleWidgetData[t[0]]&&"lmt_dsc"!=t[11].toggleWidgetData[t[0]]),g(c,"title",d=t[12]("widget.sort_by_start_time")),g(c,"class","material-icons"),k(c,"text-muted","id_asc"!=t[11].toggleWidgetData[t[0]]&&"id_dsc"!=t[11].toggleWidgetData[t[0]])},m(a,d){u(a,e,d),f(e,n),f(n,i),u(a,s,d),u(a,l,d),f(l,c),f(c,o),_||(p=[b(e,"click",t[21]),b(l,"click",t[22])],_=!0)},p(t,e){2049&e[0]&&y!==(y="lmt_dsc"==t[11].toggleWidgetData[t[0]]||"lmt_asc"!=t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(i,y),4096&e[0]&&a!==(a=t[12]("widget.sort_by_last_msg_time"))&&g(n,"title",a),2049&e[0]&&k(n,"text-muted","lmt_asc"!=t[11].toggleWidgetData[t[0]]&&"lmt_dsc"!=t[11].toggleWidgetData[t[0]]),2049&e[0]&&x!==(x="id_dsc"==t[11].toggleWidgetData[t[0]]||"id_asc"!=t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(o,x),4096&e[0]&&d!==(d=t[12]("widget.sort_by_start_time"))&&g(c,"title",d),2049&e[0]&&k(c,"text-muted","id_asc"!=t[11].toggleWidgetData[t[0]]&&"id_dsc"!=t[11].toggleWidgetData[t[0]])},d(t){t&&(m(e),m(s),m(l)),_=!1,j(p)}}}function he(t){let e,n,i;return{c(){e=h("i"),n=w("access_time"),g(e,"title",i=t[12]("widget.time_since_last_msg")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){4096&n[0]&&i!==(i=t[12]("widget.time_since_last_msg"))&&g(e,"title",i)},d(t){t&&m(e)}}}function ge(t){let e,n,i;return{c(){e=h("i"),n=w("access_time"),g(e,"title",i=t[12]("widget.created_at")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){4096&n[0]&&i!==(i=t[12]("widget.created_at"))&&g(e,"title",i)},d(t){t&&m(e)}}}function fe(t){let e,n,i,a,s,l,c,o,d,_,p,y="ac_dsc"==t[11].toggleWidgetData[t[0]]||"ac_asc"!=t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=h("th"),n=h("a"),i=h("i"),a=w("chat"),l=r(),c=h("i"),o=w(y),g(i,"title",s=t[12]("widget_title.active_chats")),g(i,"class","material-icons chat-active"),g(c,"title",d=t[12]("widget.sort_by_chat_number")),g(c,"class","material-icons"),k(c,"text-muted","ac_dsc"!=t[11].toggleWidgetData[t[0]]&&"ac_asc"!=t[11].toggleWidgetData[t[0]]),g(e,"width","15%")},m(s,d){u(s,e,d),f(e,n),f(n,i),f(i,a),f(n,l),f(n,c),f(c,o),_||(p=b(n,"click",t[23]),_=!0)},p(t,e){4096&e[0]&&s!==(s=t[12]("widget_title.active_chats"))&&g(i,"title",s),2049&e[0]&&y!==(y="ac_dsc"==t[11].toggleWidgetData[t[0]]||"ac_asc"!=t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(o,y),4096&e[0]&&d!==(d=t[12]("widget.sort_by_chat_number"))&&g(c,"title",d),2049&e[0]&&k(c,"text-muted","ac_dsc"!=t[11].toggleWidgetData[t[0]]&&"ac_asc"!=t[11].toggleWidgetData[t[0]])},d(t){t&&m(e),_=!1,p()}}}function we(t){let e,n,i,a,s,l,c,o="op_dsc"==t[11].toggleWidgetData[t[0]]||"op_asc"!=t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=h("th"),n=h("a"),i=h("i"),a=w(o),g(i,"title",s=t[12]("widget.sort_by_op")),g(i,"class","material-icons"),k(i,"text-muted","op_asc"!=t[11].toggleWidgetData[t[0]]&&"op_dsc"!=t[11].toggleWidgetData[t[0]]),g(e,"width","20%")},m(s,o){u(s,e,o),f(e,n),f(n,i),f(i,a),l||(c=b(n,"click",t[24]),l=!0)},p(t,e){2049&e[0]&&o!==(o="op_dsc"==t[11].toggleWidgetData[t[0]]||"op_asc"!=t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(a,o),4096&e[0]&&s!==(s=t[12]("widget.sort_by_op"))&&g(i,"title",s),2049&e[0]&&k(i,"text-muted","op_asc"!=t[11].toggleWidgetData[t[0]]&&"op_dsc"!=t[11].toggleWidgetData[t[0]])},d(t){t&&m(e),l=!1,c()}}}function ve(t){let e,n,i,a,s,l,c,o,d;return{c(){e=h("th"),n=h("i"),i=w("chat"),s=r(),l=h("th"),c=h("i"),o=w("android"),g(n,"title",a=t[12]("widget_title.active_chats")),g(n,"class","material-icons chat-active"),g(e,"width","12%"),g(c,"title",d=t[12]("widget_title.bot_chats")),g(c,"class","material-icons chat-active"),g(l,"width","12%")},m(t,a){u(t,e,a),f(e,n),f(n,i),u(t,s,a),u(t,l,a),f(l,c),f(c,o)},p(t,e){4096&e[0]&&a!==(a=t[12]("widget_title.active_chats"))&&g(n,"title",a),4096&e[0]&&d!==(d=t[12]("widget_title.bot_chats"))&&g(c,"title",d)},d(t){t&&(m(e),m(s),m(l))}}}function be(t){let e,n,i,a;return{c(){e=h("th"),n=h("i"),i=w("face"),g(n,"title",a=t[12]("widget.operator")),g(n,"class","material-icons"),g(e,"width","20%")},m(t,a){u(t,e,a),f(e,n),f(n,i)},p(t,e){4096&e[0]&&a!==(a=t[12]("widget.operator"))&&g(n,"title",a)},d(t){t&&m(e)}}}function ye(t){let e,n,i;return{c(){e=h("i"),n=w("donut_large"),g(e,"title",i=t[12]("widget.load_statistic")),g(e,"class","material-icons text-info")},m(t,i){u(t,e,i),f(e,n)},p(t,n){4096&n[0]&&i!==(i=t[12]("widget.load_statistic"))&&g(e,"title",i)},d(t){t&&m(e)}}}function xe(t){let e,n,i;return{c(){e=h("i"),n=w("home"),g(e,"title",i=t[12]("widget.department")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){4096&n[0]&&i!==(i=t[12]("widget.department"))&&g(e,"title",i)},d(t){t&&m(e)}}}function $e(t){let e,n,i,a,s,l,c="dep_dsc"==t[11].toggleWidgetData[t[0]]||"dep_asc"!=t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down";return{c(){e=h("a"),n=h("i"),i=w(c),g(n,"title",a=t[12]("widget.sort_by_dep")),g(n,"class","material-icons"),k(n,"text-muted","dep_asc"!=t[11].toggleWidgetData[t[0]]&&"dep_dsc"!=t[11].toggleWidgetData[t[0]])},m(a,c){u(a,e,c),f(e,n),f(n,i),s||(l=b(e,"click",t[25]),s=!0)},p(t,e){2049&e[0]&&c!==(c="dep_dsc"==t[11].toggleWidgetData[t[0]]||"dep_asc"!=t[11].toggleWidgetData[t[0]]?"trending_up":"trending_down")&&v(i,c),4096&e[0]&&a!==(a=t[12]("widget.sort_by_dep"))&&g(n,"title",a),2049&e[0]&&k(n,"text-muted","dep_asc"!=t[11].toggleWidgetData[t[0]]&&"dep_dsc"!=t[11].toggleWidgetData[t[0]])},d(t){t&&m(e),s=!1,l()}}}function je(t){let e,n,i;return{c(){e=h("i"),n=w("access_time"),g(e,"title",i=t[12]("widget.time_ago")),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,n){4096&n[0]&&i!==(i=t[12]("widget.time_ago"))&&g(e,"title",i)},d(t){t&&m(e)}}}function ke(t){let e,n,i=[],a=new Map,s=C(t[11][t[1]].list);const l=t=>t[58].id;for(let e=0;e<s.length;e+=1){let n=Rt(t,s,e),c=l(n);a.set(c,i[e]=En(c,n))}let c="group_chats"==t[1]&&Nn(t);return{c(){e=h("tbody");for(let t=0;t<i.length;t+=1)i[t].c();n=r(),c&&c.c()},m(t,a){u(t,e,a);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,null);f(e,n),c&&c.m(e,null)},p(t,o){63578&o[0]&&(s=C(t[11][t[1]].list),i=S(i,o,l,1,t,s,a,e,P,En,n,Rt)),"group_chats"==t[1]?c?c.p(t,o):(c=Nn(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(t){t&&m(e);for(let t=0;t<i.length;t+=1)i[t].d();c&&c.d()}}}function We(t){let e,n,i,a=C(t[11][t[1]].list),s=[];for(let e=0;e<a.length;e+=1)s[e]=Jn(Qt(t,a,e));let l=t[11].transfer_dep_chats.list.length>0&&Gn(t);return{c(){e=h("tbody");for(let t=0;t<s.length;t+=1)s[t].c();n=r(),l&&l.c(),i=_()},m(t,a){u(t,e,a);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);u(t,n,a),l&&l.m(t,a),u(t,i,a)},p(t,n){if(6154&n[0]){let i;for(a=C(t[11][t[1]].list),i=0;i<a.length;i+=1){const l=Qt(t,a,i);s[i]?s[i].p(l,n):(s[i]=Jn(l),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=a.length}t[11].transfer_dep_chats.list.length>0?l?l.p(t,n):(l=Gn(t),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},d(t){t&&(m(e),m(n),m(i)),D(s,t),l&&l.d(t)}}}function Ce(t){let e,n,i=!t[11].departmentd_hide_dgroup&&Bn(t),a=!t[11].departmentd_hide_dep&&t[11].departments_stats.list.length>0&&Un(t);return{c(){i&&i.c(),e=r(),a&&a.c(),n=_()},m(t,s){i&&i.m(t,s),u(t,e,s),a&&a.m(t,s),u(t,n,s)},p(t,s){t[11].departmentd_hide_dgroup?i&&(i.d(1),i=null):i?i.p(t,s):(i=Bn(t),i.c(),i.m(e.parentNode,e)),!t[11].departmentd_hide_dep&&t[11].departments_stats.list.length>0?a?a.p(t,s):(a=Un(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(t){t&&(m(e),m(n)),i&&i.d(t),a&&a.d(t)}}}function De(t){let e,n,i,a,s,l,c,o,d,_,p,w="pending_chats"==t[1]&&-1!==t[6].indexOf("lhchat_deletechat"),v=t[58].can_edit_chat&&"pending_chats"==t[1]&&-1!==t[6].indexOf("lhchat_redirectcontact"),b="subject_chats"==t[1]&&Se(t),y=w&&Pe(t),x=t[58].country_code&&Te(t),$=v&&Ae(t);function j(t,e){return"my_mails"==t[1]||"active_mails"==t[1]||"pending_mails"==t[1]||"alarm_mails"==t[1]?Re:Oe}let k=j(t),W=k(t),C=7==t[58].status_sub&&Ve(t),D="bot_chats"==t[1]&&He(t),I=t[58].hum&&("active_chats"==t[1]||"my_chats"==t[1])&&Ge(t),L=t[58].aicons&&Me(t),S=!1===t[4]&&t[13]&&t[11].additionalColumns&&Fe(t),P="my_mails"!=t[1]&&"active_mails"!=t[1]&&"pending_mails"!=t[1]&&"alarm_mails"!=t[1]&&Ye(t);return{c(){e=h("div"),b&&b.c(),n=r(),y&&y.c(),i=r(),x&&x.c(),a=r(),$&&$.c(),s=r(),W.c(),l=r(),C&&C.c(),c=r(),D&&D.c(),o=r(),I&&I.c(),d=r(),L&&L.c(),_=r(),S&&S.c(),p=r(),P&&P.c(),g(e,"class","abbr-list")},m(t,r){u(t,e,r),b&&b.m(e,null),f(e,n),y&&y.m(e,null),f(e,i),x&&x.m(e,null),f(e,a),$&&$.m(e,null),f(e,s),W.m(e,null),f(e,l),C&&C.m(e,null),f(e,c),D&&D.m(e,null),f(e,o),I&&I.m(e,null),f(e,d),L&&L.m(e,null),f(e,_),S&&S.m(e,null),f(e,p),P&&P.m(e,null)},p(t,r){"subject_chats"==t[1]?b?b.p(t,r):(b=Se(t),b.c(),b.m(e,n)):b&&(b.d(1),b=null),66&r[0]&&(w="pending_chats"==t[1]&&-1!==t[6].indexOf("lhchat_deletechat")),w?y?y.p(t,r):(y=Pe(t),y.c(),y.m(e,i)):y&&(y.d(1),y=null),t[58].country_code?x?x.p(t,r):(x=Te(t),x.c(),x.m(e,a)):x&&(x.d(1),x=null),2114&r[0]&&(v=t[58].can_edit_chat&&"pending_chats"==t[1]&&-1!==t[6].indexOf("lhchat_redirectcontact")),v?$?$.p(t,r):($=Ae(t),$.c(),$.m(e,s)):$&&($.d(1),$=null),k===(k=j(t))&&W?W.p(t,r):(W.d(1),W=k(t),W&&(W.c(),W.m(e,l))),7==t[58].status_sub?C?C.p(t,r):(C=Ve(t),C.c(),C.m(e,c)):C&&(C.d(1),C=null),"bot_chats"==t[1]?D?D.p(t,r):(D=He(t),D.c(),D.m(e,o)):D&&(D.d(1),D=null),!t[58].hum||"active_chats"!=t[1]&&"my_chats"!=t[1]?I&&(I.d(1),I=null):I?I.p(t,r):(I=Ge(t),I.c(),I.m(e,d)),t[58].aicons?L?L.p(t,r):(L=Me(t),L.c(),L.m(e,_)):L&&(L.d(1),L=null),!1===t[4]&&t[13]&&t[11].additionalColumns?S?S.p(t,r):(S=Fe(t),S.c(),S.m(e,p)):S&&(S.d(1),S=null),"my_mails"!=t[1]&&"active_mails"!=t[1]&&"pending_mails"!=t[1]&&"alarm_mails"!=t[1]?P?P.p(t,r):(P=Ye(t),P.c(),P.m(e,null)):P&&(P.d(1),P=null)},d(t){t&&m(e),b&&b.d(),y&&y.d(),x&&x.d(),$&&$.d(),W.d(),C&&C.d(),D&&D.d(),I&&I.d(),L&&L.d(),S&&S.d(),P&&P.d()}}}function Ie(t){let e,n,i,a,s,l,c,o,d,_,p,y=1==t[58].type?"security":"public",x=t[58].tm+"",$=t[58].name+"",j=1==t[58].is_member&&(!t[58].ls_id||t[58].ls_id<t[58].last_msg_id)&&ze(t),k=t[58].user_id==t[11].current_user_id&&Ze();function W(...e){return t[37](t[58],...e)}return{c(){e=h("div"),n=h("a"),j&&j.c(),i=r(),a=h("i"),s=w(y),k&&k.c(),l=w("["),c=w(x),o=w("] "),d=w($),g(a,"class","material-icons"),g(n,"class","d-block action-image"),g(e,"class","abbr-list")},m(t,r){u(t,e,r),f(e,n),j&&j.m(n,null),f(n,i),f(n,a),f(a,s),k&&k.m(n,null),f(n,l),f(n,c),f(n,o),f(n,d),_||(p=b(n,"click",W),_=!0)},p(e,a){1==(t=e)[58].is_member&&(!t[58].ls_id||t[58].ls_id<t[58].last_msg_id)?j?j.p(t,a):(j=ze(t),j.c(),j.m(n,i)):j&&(j.d(1),j=null),2050&a[0]&&y!==(y=1==t[58].type?"security":"public")&&v(s,y),t[58].user_id==t[11].current_user_id?k||(k=Ze(),k.c(),k.m(n,l)):k&&(k.d(1),k=null),2050&a[0]&&x!==(x=t[58].tm+"")&&v(c,x),2050&a[0]&&$!==($=t[58].name+"")&&v(d,$)},d(t){t&&m(e),j&&j.d(),k&&k.d(),_=!1,p()}}}function Le(t){let e,n,i,a,s,l,c=t[58].user_id!=t[11].current_user_id&&-1!==t[6].indexOf("lhgroupchat_use"),o=t[58].avatar&&tn(t),d=c&&en(t);function p(t,e){return 64&e[0]&&(i=null),null==i&&(i=!(-1===t[6].indexOf("lhuser_setopstatus"))),i?an:nn}let h=p(t,[-1,-1,-1]),g=h(t);function f(t,e){return 64&e[0]&&(s=null),null==s&&(s=!(-1===t[6].indexOf("lhstatistic_userstats"))),s?ln:sn}let w=f(t,[-1,-1,-1]),v=w(t);return{c(){o&&o.c(),e=r(),d&&d.c(),n=r(),g.c(),a=r(),v.c(),l=_()},m(t,i){o&&o.m(t,i),u(t,e,i),d&&d.m(t,i),u(t,n,i),g.m(t,i),u(t,a,i),v.m(t,i),u(t,l,i)},p(t,i){t[58].avatar?o?o.p(t,i):(o=tn(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),2114&i[0]&&(c=t[58].user_id!=t[11].current_user_id&&-1!==t[6].indexOf("lhgroupchat_use")),c?d?d.p(t,i):(d=en(t),d.c(),d.m(n.parentNode,n)):d&&(d.d(1),d=null),h===(h=p(t,i))&&g?g.p(t,i):(g.d(1),g=h(t),g&&(g.c(),g.m(a.parentNode,a))),w===(w=f(t,i))&&v?v.p(t,i):(v.d(1),v=w(t),v&&(v.c(),v.m(l.parentNode,l)))},d(t){t&&(m(e),m(n),m(a),m(l)),o&&o.d(t),d&&d.d(t),g.d(t),v.d(t)}}}function Se(t){let e,n,i=5==t[58].status?"android":"chat";return{c(){e=h("span"),n=w(i),g(e,"class","material-icons chat-pending"),k(e,"chat-active",1==t[58].status||5==t[58].status)},m(t,i){u(t,e,i),f(e,n)},p(t,a){2050&a[0]&&i!==(i=5==t[58].status?"android":"chat")&&v(n,i),2050&a[0]&&k(e,"chat-active",1==t[58].status||5==t[58].status)},d(t){t&&m(e)}}}function Pe(t){let e,n,i,a,s;function l(...e){return t[38](t[58],...e)}return{c(){e=h("a"),n=w("delete"),g(e,"title",i=t[12]("widget.delete_chat")),g(e,"class","material-icons float-end")},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",l),a=!0)},p(n,a){t=n,4096&a[0]&&i!==(i=t[12]("widget.delete_chat"))&&g(e,"title",i)},d(t){t&&m(e),a=!1,s()}}}function Te(t){let e,n,i,a,s;return{c(){e=h("span"),n=h("img"),O(n.src,i=t[3]+"/"+t[58].country_code+".png")||g(n,"src",i),g(n,"alt",a=t[58].country_name),g(n,"title",s=t[58].country_name)},m(t,i){u(t,e,i),f(e,n)},p(t,e){2058&e[0]&&!O(n.src,i=t[3]+"/"+t[58].country_code+".png")&&g(n,"src",i),2050&e[0]&&a!==(a=t[58].country_name)&&g(n,"alt",a),2050&e[0]&&s!==(s=t[58].country_name)&&g(n,"title",s)},d(t){t&&m(e)}}}function Ae(t){let e,n,i,a,s;function l(...e){return t[39](t[58],...e)}return{c(){e=h("a"),n=w("reply"),g(e,"class","material-icons me-0"),g(e,"title",i=t[12]("widget.redirect_contact"))},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",l),a=!0)},p(n,a){t=n,4096&a[0]&&i!==(i=t[12]("widget.redirect_contact"))&&g(e,"title",i)},d(t){t&&m(e),a=!1,s()}}}function Oe(t){let e,n,i,a,s;function l(...e){return t[41](t[58],...e)}return{c(){e=h("a"),n=w("info_outline"),g(e,"title",i="["+t[58].id+"] "+t[58].time_created_front),g(e,"class","material-icons me-0")},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",l),a=!0)},p(n,a){t=n,2050&a[0]&&i!==(i="["+t[58].id+"] "+t[58].time_created_front)&&g(e,"title",i)},d(t){t&&m(e),a=!1,s()}}}function Re(t){let e,n,i,a,s,l,c,o,d,_,p,y,x,$=t[58].from_name+"",j=t[58].subject_front+"",k="my_mails"==t[1]&&1!=t[58].status&&Ee();function W(...e){return t[40](t[58],...e)}let C="alarm_mails"==t[1]&&Ne(t);return{c(){k&&k.c(),e=r(),n=h("a"),i=w("info_outline"),s=r(),C&&C.c(),l=r(),c=h("span"),o=w($),d=w(" | "),_=w(j),g(n,"title",a=t[58].id),g(n,"class","material-icons"),g(c,"title",p=t[58].from_address)},m(t,a){k&&k.m(t,a),u(t,e,a),u(t,n,a),f(n,i),u(t,s,a),C&&C.m(t,a),u(t,l,a),u(t,c,a),f(c,o),f(c,d),f(c,_),y||(x=b(n,"click",W),y=!0)},p(i,s){"my_mails"==(t=i)[1]&&1!=t[58].status?k||(k=Ee(),k.c(),k.m(e.parentNode,e)):k&&(k.d(1),k=null),2050&s[0]&&a!==(a=t[58].id)&&g(n,"title",a),"alarm_mails"==t[1]?C?C.p(t,s):(C=Ne(t),C.c(),C.m(l.parentNode,l)):C&&(C.d(1),C=null),2050&s[0]&&$!==($=t[58].from_name+"")&&v(o,$),2050&s[0]&&j!==(j=t[58].subject_front+"")&&v(_,j),2050&s[0]&&p!==(p=t[58].from_address)&&g(c,"title",p)},d(t){t&&(m(e),m(n),m(s),m(l),m(c)),k&&k.d(t),C&&C.d(t),y=!1,x()}}}function Ee(t){let e;return{c(){e=h("i"),e.textContent="",g(e,"title","Pending chat"),g(e,"class","material-icons me-0 chat-unread")},m(t,n){u(t,e,n)},d(t){t&&m(e)}}}function Ne(t){let e,n,i;return{c(){e=h("i"),n=w("mail_outline"),g(e,"class",i="material-icons me-0 "+(1==t[58].status?"chat-active":"chat-pending"))},m(t,i){u(t,e,i),f(e,n)},p(t,n){2050&n[0]&&i!==(i="material-icons me-0 "+(1==t[58].status?"chat-active":"chat-pending"))&&g(e,"class",i)},d(t){t&&m(e)}}}function Ve(t){let e,n,i;return{c(){e=h("i"),n=w("mail"),g(e,"class","material-icons me-0"),g(e,"title",i=t[12]("widget.offline_request"))},m(t,i){u(t,e,i),f(e,n)},p(t,n){4096&n[0]&&i!==(i=t[12]("widget.offline_request"))&&g(e,"title",i)},d(t){t&&m(e)}}}function He(t){let e,n,i,a,s,l,c,o=(t[58].msg_v||0)+"",d=t[58].msg_v>t[11].bot_st.msg_nm&&Je(t);return{c(){e=h("span"),n=w("["),i=w(o),a=w("]"),l=r(),d&&d.c(),c=_(),g(e,"title",s=t[12]("widget.msg_v_number"))},m(t,s){u(t,e,s),f(e,n),f(e,i),f(e,a),u(t,l,s),d&&d.m(t,s),u(t,c,s)},p(t,n){2050&n[0]&&o!==(o=(t[58].msg_v||0)+"")&&v(i,o),4096&n[0]&&s!==(s=t[12]("widget.msg_v_number"))&&g(e,"title",s),t[58].msg_v>t[11].bot_st.msg_nm?d?d.p(t,n):(d=Je(t),d.c(),d.m(c.parentNode,c)):d&&(d.d(1),d=null)},d(t){t&&(m(e),m(l),m(c)),d&&d.d(t)}}}function Je(t){let e,n,i;return{c(){e=h("i"),n=w("whatshot"),g(e,"title",i=t[12]("widget.more_than")+" "+String(t[11].bot_st.msg_nm)+" "+t[12]("widget.user_msgs")),g(e,"class","material-icons text-warning me-0")},m(t,i){u(t,e,i),f(e,n)},p(t,n){6144&n[0]&&i!==(i=t[12]("widget.more_than")+" "+String(t[11].bot_st.msg_nm)+" "+t[12]("widget.user_msgs"))&&g(e,"title",i)},d(t){t&&m(e)}}}function Ge(t){let e,n,i;return{c(){e=h("i"),n=w("feedback"),g(e,"title",i=t[12]("widget.has_unread_messages")),g(e,"class","material-icons me-0 text-danger")},m(t,i){u(t,e,i),f(e,n)},p(t,n){4096&n[0]&&i!==(i=t[12]("widget.has_unread_messages"))&&g(e,"title",i)},d(t){t&&m(e)}}}function Me(t){let e,n=C(Object.entries(t[58].aicons)),i=[];for(let e=0;e<n.length;e+=1)i[e]=Be(Gt(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=_()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);u(t,e,n)},p(t,a){if(2050&a[0]){let s;for(n=C(Object.entries(t[58].aicons)),s=0;s<n.length;s+=1){const l=Gt(t,n,s);i[s]?i[s].p(l,a):(i[s]=Be(l),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&m(e),D(i,t)}}}function Qe(t){let e,n,i,a=(t[79].i||t[79])+"";return{c(){e=h("i"),n=w(a),g(e,"class","material-icons me-0"),g(e,"title",i=t[79].t?t[79].t:t[79].i),R(e,"color",t[79].c?t[79].c:"#6c757d")},m(t,i){u(t,e,i),f(e,n)},p(t,s){2050&s[0]&&a!==(a=(t[79].i||t[79])+"")&&v(n,a),2050&s[0]&&i!==(i=t[79].t?t[79].t:t[79].i)&&g(e,"title",i),2050&s[0]&&R(e,"color",t[79].c?t[79].c:"#6c757d")},d(t){t&&m(e)}}}function Be(t){let e,n=0==t[11].excludeIcons.length||-1===t[11].excludeIcons.indexOf(t[79].i),i=n&&Qe(t);return{c(){i&&i.c(),e=_()},m(t,n){i&&i.m(t,n),u(t,e,n)},p(t,a){2050&a[0]&&(n=0==t[11].excludeIcons.length||-1===t[11].excludeIcons.indexOf(t[79].i)),n?i?i.p(t,a):(i=Qe(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&m(e),i&&i.d(t)}}}function Fe(t){let e,n=C(t[11].additionalColumns),i=[];for(let e=0;e<n.length;e+=1)i[e]=Ke(Ht(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=_()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);u(t,e,n)},p(t,a){if(2050&a[0]){let s;for(n=C(t[11].additionalColumns),s=0;s<n.length;s+=1){const l=Ht(t,n,s);i[s]?i[s].p(l,a):(i[s]=Ke(l),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&m(e),D(i,t)}}}function qe(t){let e,n=C(t[68].items),i=[];for(let e=0;e<n.length;e+=1)i[e]=Ue(Jt(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=_()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);u(t,e,n)},p(t,a){if(2050&a[0]){let s;for(n=C(t[68].items),s=0;s<n.length;s+=1){const l=Jt(t,n,s);i[s]?i[s].p(l,a):(i[s]=Ue(l),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&m(e),D(i,t)}}}function Xe(t){let e,n,i,a,s,l=t[68].icon[t[58][t[71]]].icon+"";function c(...e){return t[42](t[68],t[58],...e)}return{c(){e=h("span"),n=w(l),g(e,"class","material-icons me-0"),g(e,"title",i=(1==t[68].iconp?"Click for more information | ":"")+(t[58][t[71]+"_tt"]?t[58][t[71]+"_tt"]:t[58][t[71]])),R(e,"color",t[68].icon[t[58][t[71]]].color)},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",c),a=!0)},p(a,s){t=a,2050&s[0]&&l!==(l=t[68].icon[t[58][t[71]]].icon+"")&&v(n,l),2050&s[0]&&i!==(i=(1==t[68].iconp?"Click for more information | ":"")+(t[58][t[71]+"_tt"]?t[58][t[71]+"_tt"]:t[58][t[71]]))&&g(e,"title",i),2050&s[0]&&R(e,"color",t[68].icon[t[58][t[71]]].color)},d(t){t&&m(e),a=!1,s()}}}function Ue(t){let e,n=t[58][t[71]]&&Xe(t);return{c(){n&&n.c(),e=_()},m(t,i){n&&n.m(t,i),u(t,e,i)},p(t,i){t[58][t[71]]?n?n.p(t,i):(n=Xe(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&m(e),n&&n.d(t)}}}function Ke(t){let e,n=1==t[68].cenabl&&1==t[68].iconm&&qe(t);return{c(){n&&n.c(),e=_()},m(t,i){n&&n.m(t,i),u(t,e,i)},p(t,i){1==t[68].cenabl&&1==t[68].iconm?n?n.p(t,i):(n=qe(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&m(e),n&&n.d(t)}}}function Ye(t){let e,n,i,a=t[58].nick+"",s="pending_chats"!=t[1]&&"subject_chats"!=t[1]||void 0===t[58].plain_user_name?"":" | "+t[58].plain_user_name;return{c(){e=w(a),n=h("small"),i=w(s)},m(t,a){u(t,e,a),u(t,n,a),f(n,i)},p(t,n){2050&n[0]&&a!==(a=t[58].nick+"")&&v(e,a),2050&n[0]&&s!==(s="pending_chats"!=t[1]&&"subject_chats"!=t[1]||void 0===t[58].plain_user_name?"":" | "+t[58].plain_user_name)&&v(i,s)},d(t){t&&(m(e),m(n))}}}function ze(t){let e,n,i;return{c(){e=h("i"),n=w("whatshot"),g(e,"class","material-icons text-warning"),g(e,"title",i=t[12]("group_chat.unread_messages"))},m(t,i){u(t,e,i),f(e,n)},p(t,n){4096&n[0]&&i!==(i=t[12]("group_chat.unread_messages"))&&g(e,"title",i)},d(t){t&&m(e)}}}function Ze(t){let e;return{c(){e=h("i"),e.textContent="account_balance",g(e,"class","material-icons")},m(t,n){u(t,e,n)},d(t){t&&m(e)}}}function tn(t){let e,n;return{c(){e=h("img"),g(e,"class","rounded-circle"),O(e.src,n=t[58].avatar)||g(e,"src",n),g(e,"alt",""),g(e,"width","20")},m(t,n){u(t,e,n)},p(t,i){2050&i[0]&&!O(e.src,n=t[58].avatar)&&g(e,"src",n)},d(t){t&&m(e)}}}function en(t){let e,n,i,a,s;function l(...e){return t[34](t[58],...e)}return{c(){e=h("a"),n=h("i"),n.textContent="chat",g(n,"class","material-icons"),g(e,"href","#"),g(e,"title",i=t[12]("widget.start_chat"))},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",l),a=!0)},p(n,a){t=n,4096&a[0]&&i!==(i=t[12]("widget.start_chat"))&&g(e,"title",i)},d(t){t&&m(e),a=!1,s()}}}function nn(t){let e,n,i=1==t[58].hide_online?"flash_off":"flash_on";return{c(){e=h("i"),n=w(i),g(e,"class","material-icons")},m(t,i){u(t,e,i),f(e,n)},p(t,e){2050&e[0]&&i!==(i=1==t[58].hide_online?"flash_off":"flash_on")&&v(n,i)},d(t){t&&m(e)}}}function an(t){let e,n,i,a,s,l=1==t[58].hide_online?"flash_off":"flash_on";function c(...e){return t[35](t[58],...e)}return{c(){e=h("i"),n=w(l),g(e,"class","material-icons action-image"),g(e,"title",i=t[12]("widget.change_op_status"))},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",c),a=!0)},p(a,s){t=a,2050&s[0]&&l!==(l=1==t[58].hide_online?"flash_off":"flash_on")&&v(n,l),4096&s[0]&&i!==(i=t[12]("widget.change_op_status"))&&g(e,"title",i)},d(t){t&&m(e),a=!1,s()}}}function sn(t){let e,n,i,a=(1==t[58].hide_online?t[58].offline_since:"")+"",s=t[58].name_official+"";return{c(){e=w(a),n=r(),i=w(s)},m(t,a){u(t,e,a),u(t,n,a),u(t,i,a)},p(t,n){2050&n[0]&&a!==(a=(1==t[58].hide_online?t[58].offline_since:"")+"")&&v(e,a),2050&n[0]&&s!==(s=t[58].name_official+"")&&v(i,s)},d(t){t&&(m(e),m(n),m(i))}}}function ln(t){let e,n,i,a,s,l,c,o=(1==t[58].hide_online?t[58].offline_since:"")+"",d=t[58].name_official+"";function _(...e){return t[36](t[58],...e)}return{c(){e=h("a"),n=w(o),i=r(),a=w(d),g(e,"href","#"),g(e,"title",s=t[12]("widget.see_op_stats")),k(e,"text-muted",t[58].ro)},m(t,s){u(t,e,s),f(e,n),f(e,i),f(e,a),l||(c=b(e,"click",_),l=!0)},p(i,l){t=i,2050&l[0]&&o!==(o=(1==t[58].hide_online?t[58].offline_since:"")+"")&&v(n,o),2050&l[0]&&d!==(d=t[58].name_official+"")&&v(a,d),4096&l[0]&&s!==(s=t[12]("widget.see_op_stats"))&&g(e,"title",s),2050&l[0]&&k(e,"text-muted",t[58].ro)},d(t){t&&m(e),l=!1,c()}}}function cn(t){let e,n=C(t[11].additionalColumns),i=[];for(let e=0;e<n.length;e+=1)i[e]=_n(Nt(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=_()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);u(t,e,n)},p(t,a){if(2050&a[0]){let s;for(n=C(t[11].additionalColumns),s=0;s<n.length;s+=1){const l=Nt(t,n,s);i[s]?i[s].p(l,a):(i[s]=_n(l),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&m(e),D(i,t)}}}function on(t){let e,n,i=C(t[68].items),a=[];for(let e=0;e<i.length;e+=1)a[e]=rn(Vt(t,i,e));return{c(){e=h("td");for(let t=0;t<a.length;t+=1)a[t].c();n=r()},m(t,i){u(t,e,i);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,null);f(e,n)},p(t,s){if(2050&s[0]){let l;for(i=C(t[68].items),l=0;l<i.length;l+=1){const c=Vt(t,i,l);a[l]?a[l].p(c,s):(a[l]=rn(c),a[l].c(),a[l].m(e,n))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}},d(t){t&&m(e),D(a,t)}}}function dn(t){let e,n,i=t[58][t[71]]+"";return{c(){e=h("div"),n=w(i),g(e,"class","abbr-list")},m(t,i){u(t,e,i),f(e,n)},p(t,e){2050&e[0]&&i!==(i=t[58][t[71]]+"")&&v(n,i)},d(t){t&&m(e)}}}function rn(t){let e,n=t[58][t[71]]&&dn(t);return{c(){n&&n.c(),e=_()},m(t,i){n&&n.m(t,i),u(t,e,i)},p(t,i){t[58][t[71]]?n?n.p(t,i):(n=dn(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&m(e),n&&n.d(t)}}}function _n(t){let e,n=1==t[68].cenabl&&!t[68].iconm&&on(t);return{c(){n&&n.c(),e=_()},m(t,i){n&&n.m(t,i),u(t,e,i)},p(t,i){1!=t[68].cenabl||t[68].iconm?n&&(n.d(1),n=null):n?n.p(t,i):(n=on(t),n.c(),n.m(e.parentNode,e))},d(t){t&&m(e),n&&n.d(t)}}}function un(t){let e,n=t[58].subject_list&&pn(t);return{c(){e=h("td"),n&&n.c()},m(t,i){u(t,e,i),n&&n.m(e,null)},p(t,i){t[58].subject_list?n?n.p(t,i):(n=pn(t),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(t){t&&m(e),n&&n.d()}}}function pn(t){let e,n=C(t[58].subject_list),i=[];for(let e=0;e<n.length;e+=1)i[e]=mn(Et(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=_()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);u(t,e,n)},p(t,a){if(2050&a[0]){let s;for(n=C(t[58].subject_list),s=0;s<n.length;s+=1){const l=Et(t,n,s);i[s]?i[s].p(l,a):(i[s]=mn(l),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(t){t&&m(e),D(i,t)}}}function mn(t){let e,n,i=t[65]+"";return{c(){e=h("span"),n=w(i),g(e,"class","badge bg-info fs12 me-1")},m(t,i){u(t,e,i),f(e,n)},p(t,e){2050&e[0]&&i!==(i=t[65]+"")&&v(n,i)},d(t){t&&m(e)}}}function hn(t){let e,n,i,a,s=1==t[58].is_member&&0==t[58].jtime&&gn(t),l=1==t[58].is_member&&0==t[58].jtime&&fn(t),c=0==t[58].is_member&&0==t[58].jtime&&wn(t),o=1==t[58].is_member&&t[58].jtime>0&&vn(t);return{c(){s&&s.c(),e=r(),l&&l.c(),n=r(),c&&c.c(),i=r(),o&&o.c(),a=_()},m(t,d){s&&s.m(t,d),u(t,e,d),l&&l.m(t,d),u(t,n,d),c&&c.m(t,d),u(t,i,d),o&&o.m(t,d),u(t,a,d)},p(t,d){1==t[58].is_member&&0==t[58].jtime?s?s.p(t,d):(s=gn(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),1==t[58].is_member&&0==t[58].jtime?l?l.p(t,d):(l=fn(t),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null),0==t[58].is_member&&0==t[58].jtime?c?c.p(t,d):(c=wn(t),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null),1==t[58].is_member&&t[58].jtime>0?o?o.p(t,d):(o=vn(t),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d(t){t&&(m(e),m(n),m(i),m(a)),s&&s.d(t),l&&l.d(t),c&&c.d(t),o&&o.d(t)}}}function gn(t){let e,n,i,a,s;function l(...e){return t[43](t[58],...e)}return{c(){e=h("button"),n=w("Accept invite"),g(e,"title",i=t[12]("group_chat.accept_join")),g(e,"class","btn btn-xs btn-outline-info")},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",l),a=!0)},p(n,a){t=n,4096&a[0]&&i!==(i=t[12]("group_chat.accept_join"))&&g(e,"title",i)},d(t){t&&m(e),a=!1,s()}}}function fn(t){let e,n,i,a,s;function l(...e){return t[44](t[58],...e)}return{c(){e=h("button"),n=w("Reject invite"),g(e,"title",i=t[12]("group_chat.reject_private")),g(e,"class","btn btn-xs btn-outline-danger")},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",l),a=!0)},p(n,a){t=n,4096&a[0]&&i!==(i=t[12]("group_chat.reject_private"))&&g(e,"title",i)},d(t){t&&m(e),a=!1,s()}}}function wn(t){let e,n,i,a,s;function l(...e){return t[45](t[58],...e)}return{c(){e=h("button"),n=w("Join public chat"),g(e,"title",i=t[12]("group_chat.join_public")),g(e,"class","btn btn-xs btn-outline-info")},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",l),a=!0)},p(n,a){t=n,4096&a[0]&&i!==(i=t[12]("group_chat.join_public"))&&g(e,"title",i)},d(t){t&&m(e),a=!1,s()}}}function vn(t){let e,n,i,a,s;function l(...e){return t[46](t[58],...e)}return{c(){e=h("button"),n=w("Member"),g(e,"title",i=t[12]("group_chat.already_member")),g(e,"class","btn btn-xs btn-outline-secondary")},m(t,i){u(t,e,i),f(e,n),a||(s=b(e,"click",l),a=!0)},p(n,a){t=n,4096&a[0]&&i!==(i=t[12]("group_chat.already_member"))&&g(e,"title",i)},d(t){t&&m(e),a=!1,s()}}}function bn(t){let e,n,i,a=t[58].wait_time_pending+"";return{c(){e=h("div"),n=w(a),g(e,"class","abbr-list"),g(e,"title",i=t[58].wait_time_pending)},m(t,i){u(t,e,i),f(e,n)},p(t,s){2050&s[0]&&a!==(a=t[58].wait_time_pending+"")&&v(n,a),2050&s[0]&&i!==(i=t[58].wait_time_pending)&&g(e,"title",i)},d(t){t&&m(e)}}}function yn(t){let e,n,i,a=t[58].wait_time_pending+"";return{c(){e=h("div"),n=w(a),g(e,"class","abbr-list"),g(e,"title",i=t[58].wait_time_pending)},m(t,i){u(t,e,i),f(e,n)},p(t,s){2050&s[0]&&a!==(a=t[58].wait_time_pending+"")&&v(n,a),2050&s[0]&&i!==(i=t[58].wait_time_pending)&&g(e,"title",i)},d(t){t&&m(e)}}}function xn(t){let e,n,i,a=t[58].pnd_time_front+"";return{c(){e=h("div"),n=w(a),g(e,"class","abbr-list"),g(e,"title",i=t[58].pnd_time_front)},m(t,i){u(t,e,i),f(e,n)},p(t,s){2050&s[0]&&a!==(a=t[58].pnd_time_front+"")&&v(n,a),2050&s[0]&&i!==(i=t[58].pnd_time_front)&&g(e,"title",i)},d(t){t&&m(e)}}}function $n(t){let e,n,i=(t[58].status?t[58].wait_time_response:t[58].wait_time_pending)+"";return{c(){e=h("div"),n=w(i),g(e,"class","abbr-list")},m(t,i){u(t,e,i),f(e,n)},p(t,e){2050&e[0]&&i!==(i=(t[58].status?t[58].wait_time_response:t[58].wait_time_pending)+"")&&v(n,i)},d(t){t&&m(e)}}}function jn(t){let e,n,i,a=t[58].lastactivity_ago+"";return{c(){e=h("div"),n=w(a),g(e,"class","abbr-list"),g(e,"title",i=t[58].lastactivity_ago)},m(t,i){u(t,e,i),f(e,n)},p(t,s){2050&s[0]&&a!==(a=t[58].lastactivity_ago+"")&&v(n,a),2050&s[0]&&i!==(i=t[58].lastactivity_ago)&&g(e,"title",i)},d(t){t&&m(e)}}}function kn(t){let e,n,i,a,s,l,c=!0===t[58].pnd_rsp?"call_received":"call_made",o=(t[58].last_msg_time_front?t[58].last_msg_time_front:"&#x2709;")+"";return{c(){e=h("div"),n=h("span"),i=w(c),s=w(o),g(n,"class","material-icons text-success"),g(n,"title",a=t[12]("widget.send_receive")),k(n,"text-danger",t[58].pnd_rsp),g(e,"class","abbr-list"),g(e,"title",l="Chat started at - "+t[58].time_created_front)},m(t,a){u(t,e,a),f(e,n),f(n,i),f(e,s)},p(t,d){2050&d[0]&&c!==(c=!0===t[58].pnd_rsp?"call_received":"call_made")&&v(i,c),4096&d[0]&&a!==(a=t[12]("widget.send_receive"))&&g(n,"title",a),2050&d[0]&&k(n,"text-danger",t[58].pnd_rsp),2050&d[0]&&o!==(o=(t[58].last_msg_time_front?t[58].last_msg_time_front:"&#x2709;")+"")&&v(s,o),2050&d[0]&&l!==(l="Chat started at - "+t[58].time_created_front)&&g(e,"title",l)},d(t){t&&m(e)}}}function Wn(t){let e,n,i,a,s,l,c,o,d=t[58].unread_time.hours+"",r=t[58].unread_time.minits+"",_=t[58].unread_time.seconds+"";return{c(){e=h("div"),n=w(d),i=w(" h. "),a=w(r),s=w(" m. "),l=w(_),c=w(" s."),g(e,"class","abbr-list"),g(e,"title",o=t[58].unread_time.hours+" h. "+t[58].unread_time.minits+" m. "+t[58].unread_time.seconds+" s.")},m(t,o){u(t,e,o),f(e,n),f(e,i),f(e,a),f(e,s),f(e,l),f(e,c)},p(t,i){2050&i[0]&&d!==(d=t[58].unread_time.hours+"")&&v(n,d),2050&i[0]&&r!==(r=t[58].unread_time.minits+"")&&v(a,r),2050&i[0]&&_!==(_=t[58].unread_time.seconds+"")&&v(l,_),2050&i[0]&&o!==(o=t[58].unread_time.hours+" h. "+t[58].unread_time.minits+" m. "+t[58].unread_time.seconds+" s.")&&g(e,"title",o)},d(t){t&&m(e)}}}function Cn(t){let e,n,i,a,s,l,c=!0===t[58].pnd_rsp?"call_received":"call_made",o=(0==t[58].status?"&#x23F3; "+t[58].wait_time_pending:t[58].last_msg_time_front)+"",d=1!=t[58].status&&Dn(t);return{c(){e=h("div"),d&&d.c(),n=h("span"),i=w(c),s=w(o),g(n,"class","material-icons text-success"),g(n,"title",a=t[12]("widget.send_receive")),k(n,"text-danger",t[58].pnd_rsp),g(e,"class","abbr-list"),g(e,"title",l=1==t[58].status?t[12]("widget.active"):t[12]("widget.pending"))},m(t,a){u(t,e,a),d&&d.m(e,null),f(e,n),f(n,i),f(e,s)},p(t,r){1!=t[58].status?d?d.p(t,r):(d=Dn(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),2050&r[0]&&c!==(c=!0===t[58].pnd_rsp?"call_received":"call_made")&&v(i,c),4096&r[0]&&a!==(a=t[12]("widget.send_receive"))&&g(n,"title",a),2050&r[0]&&k(n,"text-danger",t[58].pnd_rsp),2050&r[0]&&o!==(o=(0==t[58].status?"&#x23F3; "+t[58].wait_time_pending:t[58].last_msg_time_front)+"")&&v(s,o),6146&r[0]&&l!==(l=1==t[58].status?t[12]("widget.active"):t[12]("widget.pending"))&&g(e,"title",l)},d(t){t&&m(e),d&&d.d()}}}function Dn(t){let e,n,i;return{c(){e=h("i"),n=w(""),g(e,"title",i=t[12]("widget.pending")),g(e,"class","material-icons chat-unread")},m(t,i){u(t,e,i),f(e,n)},p(t,n){4096&n[0]&&i!==(i=t[12]("widget.pending"))&&g(e,"title",i)},d(t){t&&m(e)}}}function In(t){let e,n,i,a,s,l,c,o,d,_,p,b,y,x=t[58].active_chats+"",$=(t[58].max_chats&&t[58].max_chats>0?t[58].max_chats-t[58].active_chats:" n/a")+"";return{c(){e=h("td"),n=w(x),i=r(),a=h("abbr"),s=w("a.c"),c=w(", "),o=w($),d=r(),_=h("abbr"),p=w("f.s"),g(a,"title",l=t[12]("widget_title.active_chats")),g(_,"title",b=t[12]("widget.free_slots")),g(e,"title",y=t[12]("widget.max")+" - "+(t[58].max_chats&&t[58].max_chats>0?t[58].max_chats:"n/a")+" "+t[12]("widget.chats")),g(e,"class","align-middle"),k(e,"text-danger",t[58].max_chats&&t[58].max_chats>0&&t[58].max_chats-t[58].active_chats<=0),k(e,"text-success",t[58].max_chats&&t[58].max_chats>0&&t[58].max_chats-t[58].active_chats>=1)},m(t,l){u(t,e,l),f(e,n),f(e,i),f(e,a),f(a,s),f(e,c),f(e,o),f(e,d),f(e,_),f(_,p)},p(t,i){2050&i[0]&&x!==(x=t[58].active_chats+"")&&v(n,x),4096&i[0]&&l!==(l=t[12]("widget_title.active_chats"))&&g(a,"title",l),2050&i[0]&&$!==($=(t[58].max_chats&&t[58].max_chats>0?t[58].max_chats-t[58].active_chats:" n/a")+"")&&v(o,$),4096&i[0]&&b!==(b=t[12]("widget.free_slots"))&&g(_,"title",b),6146&i[0]&&y!==(y=t[12]("widget.max")+" - "+(t[58].max_chats&&t[58].max_chats>0?t[58].max_chats:"n/a")+" "+t[12]("widget.chats"))&&g(e,"title",y),2050&i[0]&&k(e,"text-danger",t[58].max_chats&&t[58].max_chats>0&&t[58].max_chats-t[58].active_chats<=0),2050&i[0]&&k(e,"text-success",t[58].max_chats&&t[58].max_chats>0&&t[58].max_chats-t[58].active_chats>=1)},d(t){t&&m(e)}}}function Ln(t){let e,n,i,a,s=t[58].n_office+"";return{c(){e=h("td"),n=h("div"),i=w(s),g(n,"class","abbr-list"),g(n,"title",a=t[58].n_off_full+" | "+t[58].plain_user_name)},m(t,a){u(t,e,a),f(e,n),f(n,i)},p(t,e){2050&e[0]&&s!==(s=t[58].n_office+"")&&v(i,s),2050&e[0]&&a!==(a=t[58].n_off_full+" | "+t[58].plain_user_name)&&g(n,"title",a)},d(t){t&&m(e)}}}function Sn(t){let e,n,i=t[58].plain_user_name+"";return{c(){e=h("td"),n=w(i)},m(t,i){u(t,e,i),f(e,n)},p(t,e){2050&e[0]&&i!==(i=t[58].plain_user_name+"")&&v(n,i)},d(t){t&&m(e)}}}function Pn(t){let e,n,i;function a(t,e){return 66&e[0]&&(n=null),null==n&&(n=!("active_chats"!==t[1]&&"pending_chats"!==t[1]||-1===t[6].indexOf("lhstatistic_statisticdep"))),n?Rn:On}let s=a(t,[-1,-1,-1]),l=s(t);return{c(){e=h("div"),l.c(),g(e,"class","abbr-list"),g(e,"title",i=t[58].department_name+(t[58].product_name?" | "+t[58].product_name:""))},m(t,n){u(t,e,n),l.m(e,null)},p(t,n){s===(s=a(t,n))&&l?l.p(t,n):(l.d(1),l=s(t),l&&(l.c(),l.m(e,null))),2050&n[0]&&i!==(i=t[58].department_name+(t[58].product_name?" | "+t[58].product_name:""))&&g(e,"title",i)},d(t){t&&m(e),l.d()}}}function Tn(t){let e,n,i,a=t[58].time_front+"";return{c(){e=h("div"),n=w(a),g(e,"class","abbr-list"),g(e,"title",i=t[58].time_front)},m(t,i){u(t,e,i),f(e,n)},p(t,s){2050&s[0]&&a!==(a=t[58].time_front+"")&&v(n,a),2050&s[0]&&i!==(i=t[58].time_front)&&g(e,"title",i)},d(t){t&&m(e)}}}function An(t){let e,n,i,a=t[58].departments_names.join(", ")+"";return{c(){e=h("div"),n=w(a),g(e,"class","abbr-list"),g(e,"title",i=t[58].departments_names.join(", "))},m(t,i){u(t,e,i),f(e,n)},p(t,s){2050&s[0]&&a!==(a=t[58].departments_names.join(", ")+"")&&v(n,a),2050&s[0]&&i!==(i=t[58].departments_names.join(", "))&&g(e,"title",i)},d(t){t&&m(e)}}}function On(t){let e,n,i=t[58].department_name+"",a=t[58].product_name?" | "+t[58].product_name:"";return{c(){e=w(i),n=w(a)},m(t,i){u(t,e,i),u(t,n,i)},p(t,s){2050&s[0]&&i!==(i=t[58].department_name+"")&&v(e,i),2050&s[0]&&a!==(a=t[58].product_name?" | "+t[58].product_name:"")&&v(n,a)},d(t){t&&(m(e),m(n))}}}function Rn(t){let e,n,i,a,s,l,c=t[58].department_name+"",o=t[58].product_name?" | "+t[58].product_name:"";function d(...e){return t[47](t[58],...e)}return{c(){e=h("a"),n=h("i"),n.textContent="donut_large",i=w(c),a=w(o),g(n,"class","material-icons"),g(e,"class","text-primary")},m(t,c){u(t,e,c),f(e,n),f(e,i),f(e,a),s||(l=b(e,"click",d),s=!0)},p(e,n){t=e,2050&n[0]&&c!==(c=t[58].department_name+"")&&v(i,c),2050&n[0]&&o!==(o=t[58].product_name?" | "+t[58].product_name:"")&&v(a,o)},d(t){t&&m(e),s=!1,l()}}}function En(t,e){let n,i,a,s,l,c,o,d,_,p,g,w,v,y,x,$,j,W,C,D,I;function L(t,e){return"online_op"==t[1]?Le:"group_chats"==t[1]?Ie:De}let S=L(e),P=S(e),T=!1===e[4]&&e[13]&&e[11].additionalColumns&&cn(e),A=("subject_chats"==e[1]||"alarm_mails"==e[1])&&un(e),O="group_chats"==e[1]&&hn(e),R=e[58].can_edit_chat&&"pending_chats"==e[1]&&bn(e),E=("my_mails"==e[1]||"pending_mails"==e[1])&&yn(e),N="active_mails"==e[1]&&xn(e),V="alarm_mails"==e[1]&&$n(e),H="online_op"==e[1]&&jn(e),J=("active_chats"==e[1]||"subject_chats"==e[1]||"bot_chats"==e[1])&&kn(e),G="unread_chats"==e[1]&&Wn(e),M="my_chats"==e[1]&&Cn(e),Q="online_op"==e[1]&&In(e),B="active_chats"==e[1]&&Ln(e),F=("active_mails"==e[1]||"alarm_mails"==e[1])&&Sn(e);function q(t,e){return"online_op"==t[1]?An:"group_chats"==t[1]?Tn:Pn}let X=q(e),U=X(e);function K(...t){return e[48](e[58],...t)}return{key:t,first:null,c(){n=h("tr"),i=h("td"),P.c(),a=r(),T&&T.c(),s=r(),A&&A.c(),l=r(),c=h("td"),O&&O.c(),o=r(),R&&R.c(),d=r(),E&&E.c(),_=r(),N&&N.c(),p=r(),V&&V.c(),g=r(),H&&H.c(),w=r(),J&&J.c(),v=r(),G&&G.c(),y=r(),M&&M.c(),x=r(),Q&&Q.c(),$=r(),B&&B.c(),j=r(),F&&F.c(),W=r(),C=h("td"),U.c(),k(c,"align-middle","online_op"==e[1]),k(C,"align-middle","online_op"==e[1]),k(n,"user-away-row",e[14]&&e[13]&&2==e[58].user_status_front),k(n,"user-online-row",e[14]&&e[13]&&!e[58].user_status_front),this.first=n},m(t,e){u(t,n,e),f(n,i),P.m(i,null),f(n,a),T&&T.m(n,null),f(n,s),A&&A.m(n,null),f(n,l),f(n,c),O&&O.m(c,null),f(c,o),R&&R.m(c,null),f(c,d),E&&E.m(c,null),f(c,_),N&&N.m(c,null),f(c,p),V&&V.m(c,null),f(c,g),H&&H.m(c,null),f(c,w),J&&J.m(c,null),f(c,v),G&&G.m(c,null),f(c,y),M&&M.m(c,null),f(n,x),Q&&Q.m(n,null),f(n,$),B&&B.m(n,null),f(n,j),F&&F.m(n,null),f(n,W),f(n,C),U.m(C,null),D||(I=b(n,"click",K),D=!0)},p(t,a){S===(S=L(e=t))&&P?P.p(e,a):(P.d(1),P=S(e),P&&(P.c(),P.m(i,null))),!1===e[4]&&e[13]&&e[11].additionalColumns?T?T.p(e,a):(T=cn(e),T.c(),T.m(n,s)):T&&(T.d(1),T=null),"subject_chats"==e[1]||"alarm_mails"==e[1]?A?A.p(e,a):(A=un(e),A.c(),A.m(n,l)):A&&(A.d(1),A=null),"group_chats"==e[1]?O?O.p(e,a):(O=hn(e),O.c(),O.m(c,o)):O&&(O.d(1),O=null),e[58].can_edit_chat&&"pending_chats"==e[1]?R?R.p(e,a):(R=bn(e),R.c(),R.m(c,d)):R&&(R.d(1),R=null),"my_mails"==e[1]||"pending_mails"==e[1]?E?E.p(e,a):(E=yn(e),E.c(),E.m(c,_)):E&&(E.d(1),E=null),"active_mails"==e[1]?N?N.p(e,a):(N=xn(e),N.c(),N.m(c,p)):N&&(N.d(1),N=null),"alarm_mails"==e[1]?V?V.p(e,a):(V=$n(e),V.c(),V.m(c,g)):V&&(V.d(1),V=null),"online_op"==e[1]?H?H.p(e,a):(H=jn(e),H.c(),H.m(c,w)):H&&(H.d(1),H=null),"active_chats"==e[1]||"subject_chats"==e[1]||"bot_chats"==e[1]?J?J.p(e,a):(J=kn(e),J.c(),J.m(c,v)):J&&(J.d(1),J=null),"unread_chats"==e[1]?G?G.p(e,a):(G=Wn(e),G.c(),G.m(c,y)):G&&(G.d(1),G=null),"my_chats"==e[1]?M?M.p(e,a):(M=Cn(e),M.c(),M.m(c,null)):M&&(M.d(1),M=null),2&a[0]&&k(c,"align-middle","online_op"==e[1]),"online_op"==e[1]?Q?Q.p(e,a):(Q=In(e),Q.c(),Q.m(n,$)):Q&&(Q.d(1),Q=null),"active_chats"==e[1]?B?B.p(e,a):(B=Ln(e),B.c(),B.m(n,j)):B&&(B.d(1),B=null),"active_mails"==e[1]||"alarm_mails"==e[1]?F?F.p(e,a):(F=Sn(e),F.c(),F.m(n,W)):F&&(F.d(1),F=null),X===(X=q(e))&&U?U.p(e,a):(U.d(1),U=X(e),U&&(U.c(),U.m(C,null))),2&a[0]&&k(C,"align-middle","online_op"==e[1]),26626&a[0]&&k(n,"user-away-row",e[14]&&e[13]&&2==e[58].user_status_front),26626&a[0]&&k(n,"user-online-row",e[14]&&e[13]&&!e[58].user_status_front)},d(t){t&&m(n),P.d(),T&&T.d(),A&&A.d(),O&&O.d(),R&&R.d(),E&&E.d(),N&&N.d(),V&&V.d(),H&&H.d(),J&&J.d(),G&&G.d(),M&&M.d(),Q&&Q.d(),B&&B.d(),F&&F.d(),U.d(),D=!1,I()}}}function Nn(t){let e,n,i,a,s,l,c,o,d,_,p,y,$,k,W,C=t[12]("group_chat.private_group")+"",D=-1!==t[6].indexOf("lhgroupchat_public_chat"),I=t[12]("group_chat.new")+"",L=D&&Vn(t);return{c(){e=h("tr"),n=h("td"),i=h("input"),s=r(),l=h("td"),c=h("select"),o=h("option"),d=w(C),L&&L.c(),_=r(),p=h("td"),y=h("button"),$=w(I),g(i,"type","text"),g(i,"name",""),g(i,"class","form-control form-control-sm"),g(i,"placeholder",a=t[12]("group_chat.new_group_name")),o.__value="1",x(o,o.__value),g(c,"class","form-control form-control-sm"),void 0===t[11].new_group_type&&T((()=>t[50].call(c))),g(y,"type","button"),g(y,"class","btn btn-sm btn-outline-secondary w-100 d-block")},m(a,r){u(a,e,r),f(e,n),f(n,i),x(i,t[11].new_group_name),f(e,s),f(e,l),f(l,c),f(c,o),f(o,d),L&&L.m(c,null),A(c,t[11].new_group_type,!0),f(e,_),f(e,p),f(p,y),f(y,$),k||(W=[b(i,"input",t[49]),b(c,"change",t[50]),b(y,"click",t[51])],k=!0)},p(t,e){4096&e[0]&&a!==(a=t[12]("group_chat.new_group_name"))&&g(i,"placeholder",a),2048&e[0]&&i.value!==t[11].new_group_name&&x(i,t[11].new_group_name),4096&e[0]&&C!==(C=t[12]("group_chat.private_group")+"")&&v(d,C),64&e[0]&&(D=-1!==t[6].indexOf("lhgroupchat_public_chat")),D?L?L.p(t,e):(L=Vn(t),L.c(),L.m(c,null)):L&&(L.d(1),L=null),2048&e[0]&&A(c,t[11].new_group_type),4096&e[0]&&I!==(I=t[12]("group_chat.new")+"")&&v($,I)},d(t){t&&m(e),L&&L.d(),k=!1,j(W)}}}function Vn(t){let e,n,i=t[12]("group_chat.public_group")+"";return{c(){e=h("option"),n=w(i),e.__value="",x(e,e.__value)},m(t,i){u(t,e,i),f(e,n)},p(t,e){4096&e[0]&&i!==(i=t[12]("group_chat.public_group")+"")&&v(n,i)},d(t){t&&m(e)}}}function Hn(t){let e,n,i,a,s;return{c(){e=h("span"),n=h("img"),O(n.src,i=t[3]+"/"+t[58].country_code+".png")||g(n,"src",i),g(n,"alt",a=t[58].country_name),g(n,"title",s=t[58].country_name)},m(t,i){u(t,e,i),f(e,n)},p(t,e){2058&e[0]&&!O(n.src,i=t[3]+"/"+t[58].country_code+".png")&&g(n,"src",i),2050&e[0]&&a!==(a=t[58].country_name)&&g(n,"alt",a),2050&e[0]&&s!==(s=t[58].country_name)&&g(n,"title",s)},d(t){t&&m(e)}}}function Jn(t){let e,n,i,a,s,l,c,o,d,_,p,y,x,$,k,W,C,D,I,L,S,P=t[58].nick+"",T=t[58].time_front+"",A=t[58].country_code&&Hn(t);function O(...e){return t[28](t[58],...e)}function R(...e){return t[29](t[58],...e)}function E(...e){return t[30](t[58],...e)}return{c(){e=h("tr"),n=h("td"),A&&A.c(),i=r(),a=h("a"),s=w("open_in_new"),c=r(),o=h("a"),d=w("info_outline"),p=r(),y=h("a"),x=w(P),k=r(),W=h("td"),C=h("div"),D=w(T),I=r(),g(a,"title",l=t[12]("widget.open_new_window")),g(a,"class","material-icons"),g(o,"title",_="["+t[58].id+"]"),g(o,"class","material-icons"),g(y,"title",$=t[12]("widget.accept_chat")),g(C,"class","abbr-list"),g(W,"nowrap","nowrap"),g(W,"colspan","2")},m(t,l){u(t,e,l),f(e,n),A&&A.m(n,null),f(n,i),f(n,a),f(a,s),f(n,c),f(n,o),f(o,d),f(n,p),f(n,y),f(y,x),f(e,k),f(e,W),f(W,C),f(C,D),f(e,I),L||(S=[b(a,"click",O),b(o,"click",R),b(y,"click",E)],L=!0)},p(e,s){(t=e)[58].country_code?A?A.p(t,s):(A=Hn(t),A.c(),A.m(n,i)):A&&(A.d(1),A=null),4096&s[0]&&l!==(l=t[12]("widget.open_new_window"))&&g(a,"title",l),2050&s[0]&&_!==(_="["+t[58].id+"]")&&g(o,"title",_),2050&s[0]&&P!==(P=t[58].nick+"")&&v(x,P),4096&s[0]&&$!==($=t[12]("widget.accept_chat"))&&g(y,"title",$),2050&s[0]&&T!==(T=t[58].time_front+"")&&v(D,T)},d(t){t&&m(e),A&&A.d(),L=!1,j(S)}}}function Gn(t){let e,n,i,a,s,l,c,o,d,_,p,b,y,x=t[12]("widget.transferred_to_dep")+"",$=C(t[11].transfer_dep_chats.list),j=[];for(let e=0;e<$.length;e+=1)j[e]=Qn(Mt(t,$,e));return{c(){e=h("thead"),n=h("tr"),i=h("th"),a=h("i"),a.textContent="face",s=r(),l=w(x),c=r(),o=h("th"),d=h("i"),_=w("access_time"),b=r(),y=h("tbody");for(let t=0;t<j.length;t+=1)j[t].c();g(a,"title","Visitor"),g(a,"class","material-icons"),g(i,"width","60%"),g(d,"title",p=t[12]("widget.transfer_time")),g(d,"class","material-icons"),g(o,"width","40%"),g(o,"colspan","2")},m(t,r){u(t,e,r),f(e,n),f(n,i),f(i,a),f(i,s),f(i,l),f(n,c),f(n,o),f(o,d),f(d,_),u(t,b,r),u(t,y,r);for(let t=0;t<j.length;t+=1)j[t]&&j[t].m(y,null)},p(t,e){if(4096&e[0]&&x!==(x=t[12]("widget.transferred_to_dep")+"")&&v(l,x),4096&e[0]&&p!==(p=t[12]("widget.transfer_time"))&&g(d,"title",p),6152&e[0]){let n;for($=C(t[11].transfer_dep_chats.list),n=0;n<$.length;n+=1){const i=Mt(t,$,n);j[n]?j[n].p(i,e):(j[n]=Qn(i),j[n].c(),j[n].m(y,null))}for(;n<j.length;n+=1)j[n].d(1);j.length=$.length}},d(t){t&&(m(e),m(b),m(y)),D(j,t)}}}function Mn(t){let e,n,i,a,s;return{c(){e=h("span"),n=h("img"),O(n.src,i=t[3]+"/"+t[58].country_code+".png")||g(n,"src",i),g(n,"alt",a=t[58].country_name),g(n,"title",s=t[58].country_name)},m(t,i){u(t,e,i),f(e,n)},p(t,e){2056&e[0]&&!O(n.src,i=t[3]+"/"+t[58].country_code+".png")&&g(n,"src",i),2048&e[0]&&a!==(a=t[58].country_name)&&g(n,"alt",a),2048&e[0]&&s!==(s=t[58].country_name)&&g(n,"title",s)},d(t){t&&m(e)}}}function Qn(t){let e,n,i,a,s,l,c,o,d,_,p,y,x,$,k,W,C,D,I,L,S,P=t[58].nick+"",T=t[58].time_front+"",A=t[58].country_code&&Mn(t);function O(...e){return t[31](t[58],...e)}function R(...e){return t[32](t[58],...e)}function E(...e){return t[33](t[58],...e)}return{c(){e=h("tr"),n=h("td"),A&&A.c(),i=r(),a=h("a"),s=w("open_in_new"),c=r(),o=h("a"),d=w("info_outline"),p=r(),y=h("a"),x=w(P),k=r(),W=h("td"),C=h("div"),D=w(T),I=r(),g(a,"title",l=t[12]("widget.open_new_window")),g(a,"class","material-icons"),g(o,"title",_="["+t[58].id+"]"),g(o,"class","material-icons"),g(y,"title",$=t[12]("widget.accept_chat")),g(C,"class","abbr-list"),g(W,"nowrap","nowrap"),g(W,"colspan","2")},m(t,l){u(t,e,l),f(e,n),A&&A.m(n,null),f(n,i),f(n,a),f(a,s),f(n,c),f(n,o),f(o,d),f(n,p),f(n,y),f(y,x),f(e,k),f(e,W),f(W,C),f(C,D),f(e,I),L||(S=[b(a,"click",O),b(o,"click",R),b(y,"click",E)],L=!0)},p(e,s){(t=e)[58].country_code?A?A.p(t,s):(A=Mn(t),A.c(),A.m(n,i)):A&&(A.d(1),A=null),4096&s[0]&&l!==(l=t[12]("widget.open_new_window"))&&g(a,"title",l),2048&s[0]&&_!==(_="["+t[58].id+"]")&&g(o,"title",_),2048&s[0]&&P!==(P=t[58].nick+"")&&v(x,P),4096&s[0]&&$!==($=t[12]("widget.accept_chat"))&&g(y,"title",$),2048&s[0]&&T!==(T=t[58].time_front+"")&&v(D,T)},d(t){t&&m(e),A&&A.d(),L=!1,j(S)}}}function Bn(t){let e,n=[],i=new Map,a=C(t[11][t[1]].list);const s=t=>t[55].id;for(let e=0;e<a.length;e+=1){let l=Ft(t,a,e),c=s(l);i.set(c,n[e]=Xn(c,l))}return{c(){e=h("tbody");for(let t=0;t<n.length;t+=1)n[t].c()},m(t,i){u(t,e,i);for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,null)},p(t,l){6210&l[0]&&(a=C(t[11][t[1]].list),n=S(n,l,s,1,t,a,i,e,P,Xn,null,Ft))},d(t){t&&m(e);for(let t=0;t<n.length;t+=1)n[t].d()}}}function Fn(t){let e,n,i,a,s,l,c=(t[55].max_load_h?t[55].max_load_h-(t[55].acopchats_cnt-(t[55].inopchats_cnt?t[55].inopchats_cnt:0)):"n/a")+"",o=(t[55].max_load?t[55].max_load-(t[55].achats_cnt-(t[55].inachats_cnt?t[55].inachats_cnt:0)):"n/a")+"";return{c(){e=h("span"),n=w(c),a=w(" ("),s=w(o),l=w(")"),g(e,"class",i=t[55].max_load_h&&t[55].max_load_h-(t[55].acopchats_cnt-(t[55].inopchats_cnt?t[55].inopchats_cnt:0))<=3?"text-danger fw-bold":"")},m(t,i){u(t,e,i),f(e,n),u(t,a,i),u(t,s,i),u(t,l,i)},p(t,a){2050&a[0]&&c!==(c=(t[55].max_load_h?t[55].max_load_h-(t[55].acopchats_cnt-(t[55].inopchats_cnt?t[55].inopchats_cnt:0)):"n/a")+"")&&v(n,c),2050&a[0]&&i!==(i=t[55].max_load_h&&t[55].max_load_h-(t[55].acopchats_cnt-(t[55].inopchats_cnt?t[55].inopchats_cnt:0))<=3?"text-danger fw-bold":"")&&g(e,"class",i),2050&a[0]&&o!==(o=(t[55].max_load?t[55].max_load-(t[55].achats_cnt-(t[55].inachats_cnt?t[55].inachats_cnt:0)):"n/a")+"")&&v(s,o)},d(t){t&&(m(e),m(a),m(s),m(l))}}}function qn(t){let e,n,i,a,s,l,c,o,d,r=(t[55].max_load_h?t[55].max_load_h-(t[55].acopchats_cnt-(t[55].inopchats_cnt?t[55].inopchats_cnt:0)):"n/a")+"",_=(t[55].max_load?t[55].max_load-(t[55].achats_cnt-(t[55].inachats_cnt?t[55].inachats_cnt:0)):"n/a")+"";function p(...e){return t[26](t[55],...e)}return{c(){e=h("a"),n=h("span"),i=w(r),s=w(" ("),l=w(_),c=w(")"),g(n,"class",a=t[55].max_load_h&&t[55].max_load_h-(t[55].acopchats_cnt-(t[55].inopchats_cnt?t[55].inopchats_cnt:0))<=3?"text-danger fw-bold":""),g(e,"href","#")},m(t,a){u(t,e,a),f(e,n),f(n,i),f(e,s),f(e,l),f(e,c),o||(d=b(e,"click",p),o=!0)},p(e,s){t=e,2050&s[0]&&r!==(r=(t[55].max_load_h?t[55].max_load_h-(t[55].acopchats_cnt-(t[55].inopchats_cnt?t[55].inopchats_cnt:0)):"n/a")+"")&&v(i,r),2050&s[0]&&a!==(a=t[55].max_load_h&&t[55].max_load_h-(t[55].acopchats_cnt-(t[55].inopchats_cnt?t[55].inopchats_cnt:0))<=3?"text-danger fw-bold":"")&&g(n,"class",a),2050&s[0]&&_!==(_=(t[55].max_load?t[55].max_load-(t[55].achats_cnt-(t[55].inachats_cnt?t[55].inachats_cnt:0)):"n/a")+"")&&v(l,_)},d(t){t&&m(e),o=!1,d()}}}function Xn(t,e){let n,i,a,s,l,c,o,d,_,p,b,y,x,$,j,k,W,C,D,I,L,S,P,T,A,O,R,E=e[55].name+"",N=(e[55].pchats_cnt?e[55].pchats_cnt:0)+"",V=(e[55].achats_cnt?e[55].achats_cnt:0)+"",H=(e[55].bchats_cnt?e[55].bchats_cnt:0)+"";function J(t,e){return 64&e[0]&&(A=null),null==A&&(A=!(-1===t[6].indexOf("lhstatistic_statisticdep"))),A?qn:Fn}let G=J(e,[-1,-1,-1]),M=G(e);return{key:t,first:null,c(){n=h("tr"),i=h("td"),a=h("div"),s=h("a"),l=w(E),d=r(),_=h("td"),p=h("a"),b=w(N),x=r(),$=h("td"),j=h("a"),k=w(V),C=r(),D=h("td"),I=h("a"),L=w(H),P=r(),T=h("td"),M.c(),R=r(),g(s,"class","d-block"),g(s,"href",c=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[55].id+"/(chat_status_ids)/0/1/5"),g(a,"class","abbr-list"),g(a,"title",o=e[55].name),g(p,"class","d-block"),g(p,"href",y=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[55].id+"/(chat_status_ids)/0"),g(j,"class","d-block"),g(j,"href",W=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[55].id+"/(chat_status_ids)/1"),g(I,"class","d-block"),g(I,"href",S=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[55].id+"/(chat_status_ids)/5"),g(T,"nowrap",""),g(T,"title",O=(e[55].inachats_cnt?e[55].inachats_cnt:"0")+" "+e[12]("widget.inactive_chats")+".\n"+(e[55].inopchats_cnt?e[55].inopchats_cnt:"0")+" "+e[12]("widget.inactive_op_chats")+".\n"+(e[55].acopchats_cnt?e[55].acopchats_cnt:"0")+" "+e[12]("widget.active_op_chats")+".\n"+e[12]("widget.hard_limit")+" - "+(e[55].max_load_h?e[55].max_load_h:"0")+", "+e[12]("widget.soft_limit")+" - "+(e[55].max_load?e[55].max_load:"0")+".\n"+e[12]("widget.hard_limit_explain")),this.first=n},m(t,e){u(t,n,e),f(n,i),f(i,a),f(a,s),f(s,l),f(n,d),f(n,_),f(_,p),f(p,b),f(n,x),f(n,$),f($,j),f(j,k),f(n,C),f(n,D),f(D,I),f(I,L),f(n,P),f(n,T),M.m(T,null),f(n,R)},p(t,n){e=t,2050&n[0]&&E!==(E=e[55].name+"")&&v(l,E),2050&n[0]&&c!==(c=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[55].id+"/(chat_status_ids)/0/1/5")&&g(s,"href",c),2050&n[0]&&o!==(o=e[55].name)&&g(a,"title",o),2050&n[0]&&N!==(N=(e[55].pchats_cnt?e[55].pchats_cnt:0)+"")&&v(b,N),2050&n[0]&&y!==(y=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[55].id+"/(chat_status_ids)/0")&&g(p,"href",y),2050&n[0]&&V!==(V=(e[55].achats_cnt?e[55].achats_cnt:0)+"")&&v(k,V),2050&n[0]&&W!==(W=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[55].id+"/(chat_status_ids)/1")&&g(j,"href",W),2050&n[0]&&H!==(H=(e[55].bchats_cnt?e[55].bchats_cnt:0)+"")&&v(L,H),2050&n[0]&&S!==(S=WWW_DIR_JAVASCRIPT+"chat/list/(department_group_ids)/"+e[55].id+"/(chat_status_ids)/5")&&g(I,"href",S),G===(G=J(e,n))&&M?M.p(e,n):(M.d(1),M=G(e),M&&(M.c(),M.m(T,null))),6146&n[0]&&O!==(O=(e[55].inachats_cnt?e[55].inachats_cnt:"0")+" "+e[12]("widget.inactive_chats")+".\n"+(e[55].inopchats_cnt?e[55].inopchats_cnt:"0")+" "+e[12]("widget.inactive_op_chats")+".\n"+(e[55].acopchats_cnt?e[55].acopchats_cnt:"0")+" "+e[12]("widget.active_op_chats")+".\n"+e[12]("widget.hard_limit")+" - "+(e[55].max_load_h?e[55].max_load_h:"0")+", "+e[12]("widget.soft_limit")+" - "+(e[55].max_load?e[55].max_load:"0")+".\n"+e[12]("widget.hard_limit_explain"))&&g(T,"title",O)},d(t){t&&m(n),M.d()}}}function Un(t){let e,n,i,a,s,l,c,o,d,_,p,v,b,y,x,$,j,k,W,D,I,L,T,A,O,R,E,N,V=[],H=new Map,J=C(t[11].departments_stats.list);const G=t=>t[52].id;for(let e=0;e<J.length;e+=1){let n=Bt(t,J,e),i=G(n);H.set(i,V[e]=zn(i,n))}return{c(){e=h("thead"),n=h("tr"),i=h("th"),a=h("i"),s=w("home"),c=r(),o=h("th"),d=h("i"),_=w("chat"),v=r(),b=h("th"),y=h("i"),x=w("chat"),j=r(),k=h("th"),W=h("i"),D=w("android"),L=r(),T=h("th"),A=h("i"),O=w("donut_large"),E=r(),N=h("tbody");for(let t=0;t<V.length;t+=1)V[t].c();g(a,"title",l=t[12]("widget.department")),g(a,"class","material-icons"),g(i,"width","40%"),g(d,"title",p=t[12]("widget_title.pending_chats")),g(d,"class","material-icons chat-pending"),g(o,"width","12%"),g(y,"title",$=t[12]("widget_title.active_chats")),g(y,"class","material-icons chat-active"),g(b,"width","12%"),g(W,"title",I=t[12]("widget_title.bot_chats")),g(W,"class","material-icons chat-active"),g(k,"width","12%"),g(A,"title",R=t[12]("widget.load_statistic")),g(A,"class","material-icons text-info"),g(T,"width","21%")},m(t,l){u(t,e,l),f(e,n),f(n,i),f(i,a),f(a,s),f(n,c),f(n,o),f(o,d),f(d,_),f(n,v),f(n,b),f(b,y),f(y,x),f(n,j),f(n,k),f(k,W),f(W,D),f(n,L),f(n,T),f(T,A),f(A,O),u(t,E,l),u(t,N,l);for(let t=0;t<V.length;t+=1)V[t]&&V[t].m(N,null)},p(t,e){4096&e[0]&&l!==(l=t[12]("widget.department"))&&g(a,"title",l),4096&e[0]&&p!==(p=t[12]("widget_title.pending_chats"))&&g(d,"title",p),4096&e[0]&&$!==($=t[12]("widget_title.active_chats"))&&g(y,"title",$),4096&e[0]&&I!==(I=t[12]("widget_title.bot_chats"))&&g(W,"title",I),4096&e[0]&&R!==(R=t[12]("widget.load_statistic"))&&g(A,"title",R),6208&e[0]&&(J=C(t[11].departments_stats.list),V=S(V,e,G,1,t,J,H,N,P,zn,null,Bt))},d(t){t&&(m(e),m(E),m(N));for(let t=0;t<V.length;t+=1)V[t].d()}}}function Kn(t){let e,n,i,a,s,l,c=(t[52].max_load_h?t[52].max_load_h-(t[52].acop_chats_cnt-(t[52].inop_chats_cnt?t[52].inop_chats_cnt:0)):"n/a")+"",o=(t[52].max_load?t[52].max_load-(t[52].active_chats_counter-(t[52].inactive_chats_cnt?t[52].inactive_chats_cnt:0)):"n/a")+"";return{c(){e=h("span"),n=w(c),a=w(" ("),s=w(o),l=w(")"),g(e,"class",i=t[52].max_load_h&&t[52].max_load_h-(t[52].acop_chats_cnt-(t[52].inop_chats_cnt?t[52].inop_chats_cnt:0))<=3?"text-danger fw-bold":"")},m(t,i){u(t,e,i),f(e,n),u(t,a,i),u(t,s,i),u(t,l,i)},p(t,a){2048&a[0]&&c!==(c=(t[52].max_load_h?t[52].max_load_h-(t[52].acop_chats_cnt-(t[52].inop_chats_cnt?t[52].inop_chats_cnt:0)):"n/a")+"")&&v(n,c),2048&a[0]&&i!==(i=t[52].max_load_h&&t[52].max_load_h-(t[52].acop_chats_cnt-(t[52].inop_chats_cnt?t[52].inop_chats_cnt:0))<=3?"text-danger fw-bold":"")&&g(e,"class",i),2048&a[0]&&o!==(o=(t[52].max_load?t[52].max_load-(t[52].active_chats_counter-(t[52].inactive_chats_cnt?t[52].inactive_chats_cnt:0)):"n/a")+"")&&v(s,o)},d(t){t&&(m(e),m(a),m(s),m(l))}}}function Yn(t){let e,n,i,a,s,l,c,o,d,r=(t[52].max_load_h?t[52].max_load_h-(t[52].acop_chats_cnt-(t[52].inop_chats_cnt?t[52].inop_chats_cnt:0)):"n/a")+"",_=(t[52].max_load?t[52].max_load-(t[52].active_chats_counter-(t[52].inactive_chats_cnt?t[52].inactive_chats_cnt:0)):"n/a")+"";function p(...e){return t[27](t[52],...e)}return{c(){e=h("a"),n=h("span"),i=w(r),s=w(" ("),l=w(_),c=w(")"),g(n,"class",a=t[52].max_load_h&&t[52].max_load_h-(t[52].acop_chats_cnt-(t[52].inop_chats_cnt?t[52].inop_chats_cnt:0))<=3?"text-danger fw-bold":""),g(e,"href","#")},m(t,a){u(t,e,a),f(e,n),f(n,i),f(e,s),f(e,l),f(e,c),o||(d=b(e,"click",p),o=!0)},p(e,s){t=e,2048&s[0]&&r!==(r=(t[52].max_load_h?t[52].max_load_h-(t[52].acop_chats_cnt-(t[52].inop_chats_cnt?t[52].inop_chats_cnt:0)):"n/a")+"")&&v(i,r),2048&s[0]&&a!==(a=t[52].max_load_h&&t[52].max_load_h-(t[52].acop_chats_cnt-(t[52].inop_chats_cnt?t[52].inop_chats_cnt:0))<=3?"text-danger fw-bold":"")&&g(n,"class",a),2048&s[0]&&_!==(_=(t[52].max_load?t[52].max_load-(t[52].active_chats_counter-(t[52].inactive_chats_cnt?t[52].inactive_chats_cnt:0)):"n/a")+"")&&v(l,_)},d(t){t&&m(e),o=!1,d()}}}function zn(t,e){let n,i,a,s,l,c,o,d,_,p,b,y,x,$,j,k,W,C,D,I,L,S,P,T,A,O,R,E=e[52].name+"",N=(e[52].pending_chats_counter?e[52].pending_chats_counter:0)+"",V=(e[52].active_chats_counter?e[52].active_chats_counter:0)+"",H=(e[52].bot_chats_counter?e[52].bot_chats_counter:0)+"";function J(t,e){return 64&e[0]&&(A=null),null==A&&(A=!(-1===t[6].indexOf("lhstatistic_statisticdep"))),A?Yn:Kn}let G=J(e,[-1,-1,-1]),M=G(e);return{key:t,first:null,c(){n=h("tr"),i=h("td"),a=h("div"),s=h("a"),l=w(E),d=r(),_=h("td"),p=h("a"),b=w(N),x=r(),$=h("td"),j=h("a"),k=w(V),C=r(),D=h("td"),I=h("a"),L=w(H),P=r(),T=h("td"),M.c(),R=r(),g(s,"class","d-block"),g(s,"href",c=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[52].id+"/(chat_status_ids)/0/1/5"),g(a,"class","abbr-list"),g(a,"title",o=e[52].name),g(p,"class","d-block"),g(p,"href",y=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[52].id+"/(chat_status_ids)/0"),g(j,"class","d-block"),g(j,"href",W=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[52].id+"/(chat_status_ids)/1"),g(I,"class","d-block"),g(I,"href",S=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[52].id+"/(chat_status_ids)/5"),g(T,"nowrap",""),g(T,"title",O=(e[52].inactive_chats_cnt?e[52].inactive_chats_cnt:"0")+" "+e[12]("widget.inactive_chats")+".\n"+(e[52].inop_chats_cnt?e[52].inop_chats_cnt:"0")+" "+e[12]("widget.inactive_op_chats")+".\n"+(e[52].acop_chats_cnt?e[52].acop_chats_cnt:"0")+" "+e[12]("widget.active_op_chats")+".\n"+e[12]("widget.hard_limit")+" - "+(e[52].max_load_h?e[52].max_load_h:"0")+", "+e[12]("widget.soft_limit")+" - "+(e[52].max_load?e[52].max_load:"0")+".\n"+e[12]("widget.hard_limit_explain")),this.first=n},m(t,e){u(t,n,e),f(n,i),f(i,a),f(a,s),f(s,l),f(n,d),f(n,_),f(_,p),f(p,b),f(n,x),f(n,$),f($,j),f(j,k),f(n,C),f(n,D),f(D,I),f(I,L),f(n,P),f(n,T),M.m(T,null),f(n,R)},p(t,n){e=t,2048&n[0]&&E!==(E=e[52].name+"")&&v(l,E),2048&n[0]&&c!==(c=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[52].id+"/(chat_status_ids)/0/1/5")&&g(s,"href",c),2048&n[0]&&o!==(o=e[52].name)&&g(a,"title",o),2048&n[0]&&N!==(N=(e[52].pending_chats_counter?e[52].pending_chats_counter:0)+"")&&v(b,N),2048&n[0]&&y!==(y=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[52].id+"/(chat_status_ids)/0")&&g(p,"href",y),2048&n[0]&&V!==(V=(e[52].active_chats_counter?e[52].active_chats_counter:0)+"")&&v(k,V),2048&n[0]&&W!==(W=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[52].id+"/(chat_status_ids)/1")&&g(j,"href",W),2048&n[0]&&H!==(H=(e[52].bot_chats_counter?e[52].bot_chats_counter:0)+"")&&v(L,H),2048&n[0]&&S!==(S=WWW_DIR_JAVASCRIPT+"chat/list/(department_ids)/"+e[52].id+"/(chat_status_ids)/5")&&g(I,"href",S),G===(G=J(e,n))&&M?M.p(e,n):(M.d(1),M=G(e),M&&(M.c(),M.m(T,null))),6144&n[0]&&O!==(O=(e[52].inactive_chats_cnt?e[52].inactive_chats_cnt:"0")+" "+e[12]("widget.inactive_chats")+".\n"+(e[52].inop_chats_cnt?e[52].inop_chats_cnt:"0")+" "+e[12]("widget.inactive_op_chats")+".\n"+(e[52].acop_chats_cnt?e[52].acop_chats_cnt:"0")+" "+e[12]("widget.active_op_chats")+".\n"+e[12]("widget.hard_limit")+" - "+(e[52].max_load_h?e[52].max_load_h:"0")+", "+e[12]("widget.soft_limit")+" - "+(e[52].max_load?e[52].max_load:"0")+".\n"+e[12]("widget.hard_limit_explain"))&&g(T,"title",O)},d(t){t&&m(n),M.d()}}}function Zn(t){let e,n,i=("depgroups_stats"!=t[1]||!t[11].departmentd_hide_dgroup&&t[11][t[1]].list.length>0)&&Xt(t);function a(t,e){return"depgroups_stats"==t[1]?Ce:"transfer_chats"==t[1]?We:ke}let s=a(t),l=s(t);return{c(){e=h("table"),i&&i.c(),n=r(),l.c(),g(e,"class","table table-sm mb-0 table-small table-fixed"),k(e,"list-chat-table",t[13])},m(t,a){u(t,e,a),i&&i.m(e,null),f(e,n),l.m(e,null)},p(t,c){"depgroups_stats"!=t[1]||!t[11].departmentd_hide_dgroup&&t[11][t[1]].list.length>0?i?i.p(t,c):(i=Xt(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),s===(s=a(t))&&l?l.p(t,c):(l.d(1),l=s(t),l&&(l.c(),l.m(e,null)))},i:p,o:p,d(t){t&&m(e),i&&i.d(),l.d()}}}function ti(t,e,n){let i,s,l=p,c=()=>(l(),l=I(r,(t=>n(11,i=t))),r);a(t,y,(t=>n(12,s=t))),t.$$.on_destroy.push((()=>l()));let{sort_identifier:o=null}=e,{type:d=null}=e,{lhcList:r=null}=e;c();let{www_dir_flags:_=null}=e,{no_additional_column:u=!1}=e,{panel_id:m=null}=e,{permissions:h=[]}=e,{column_2_width:g="20%"}=e,{column_1_width:f="40%"}=e,{column_3_width:w="20%"}=e,{additional_sort:v=""}=e,b="transfer_chats"!==d&&"group_chats"!==d&&"online_op"!==d&&"depgroups_stats"!==d,x="my_mails"!==d&&"active_mails"!==d&&"pending_mails"!==d&&"alarm_mails"!==d;function $(t){"group_chats"===d?F.startGroupChat(t.id,t.name):"my_mails"===d||"active_mails"===d||"pending_mails"===d||"alarm_mails"===d?F.startMailChat(t.id,t.subject_front):F.startChat(t.id,t.nick)}return t.$$set=t=>{"sort_identifier"in t&&n(0,o=t.sort_identifier),"type"in t&&n(1,d=t.type),"lhcList"in t&&c(n(2,r=t.lhcList)),"www_dir_flags"in t&&n(3,_=t.www_dir_flags),"no_additional_column"in t&&n(4,u=t.no_additional_column),"panel_id"in t&&n(5,m=t.panel_id),"permissions"in t&&n(6,h=t.permissions),"column_2_width"in t&&n(7,g=t.column_2_width),"column_1_width"in t&&n(8,f=t.column_1_width),"column_3_width"in t&&n(9,w=t.column_3_width),"additional_sort"in t&&n(10,v=t.additional_sort)},[o,d,r,_,u,m,h,g,f,w,v,i,s,b,x,$,t=>F.toggleWidgetSort(r,o,"onl_dsc","onl_asc",!0),t=>F.toggleWidgetSort(r,o,"loc_dsc","loc_asc",!0),t=>F.toggleWidgetSort(r,o,"u_dsc","u_asc",!0),t=>F.toggleWidgetSort(r,o,"id_dsc","id_asc",!0),(t,e)=>F.toggleWidgetSort(r,v,t.items[0]+"_dsc",t.items[0]+"_asc",!0),t=>F.toggleWidgetSort(r,o,"lmt_dsc","lmt_asc",!0),t=>F.toggleWidgetSort(r,o,"id_dsc","id_asc",!0),t=>F.toggleWidgetSort(r,o,"ac_dsc","ac_asc",!0),t=>F.toggleWidgetSort(r,o,"op_dsc","op_asc",!0),t=>F.toggleWidgetSort(r,o,"dep_dsc","dep_asc",!0),(t,e)=>F.openModal("statistic/departmentstats/"+t.id+"/(type)/group"),(t,e)=>F.openModal("statistic/departmentstats/"+t.id),(t,e)=>F.startChatNewWindowTransfer(t.id,t.nick,t.transfer_id),(t,e)=>F.previewChat(t.id,e),(t,e)=>F.startChatTransfer(t.id,t.nick,t.transfer_id),(t,e)=>F.startChatNewWindowTransfer(t.id,t.nick,t.transfer_id),(t,e)=>F.previewChat(t.id,e),(t,e)=>F.startChatTransfer(t.id,t.nick,t.transfer_id),(t,e)=>F.startChatOperator(t.user_id),(t,e)=>F.openModal("user/setopstatus/"+t.user_id),(t,e)=>F.openModal("statistic/userstats/"+t.user_id),(t,e)=>F.startGroupChat(t.id,t.name),(t,e)=>{F.deleteChat(t.id),e.stopPropagation()},(t,e)=>F.redirectContact(t.id,s("widget.are_you_sure"),e),(t,e)=>F.previewMail(t.id,e),(t,e)=>F.previewChat(t.id,e),(t,e,n)=>{t.iconp&&F.openModal("chat/icondetailed/"+e.id+"/"+t.id,n)},(t,e)=>F.startGroupChat(t.id,t.name),(t,e)=>F.rejectGroupChat(t.id,e),(t,e)=>F.startGroupChat(t.id,t.name),(t,e)=>F.startGroupChat(t.id,t.name),(t,e)=>F.openModal("statistic/departmentstats/"+t.dep_id,e),(t,e)=>b&&$(t),function(){i.new_group_name=this.value,r.set(i)},function(){i.new_group_type=L(this),r.set(i)},()=>F.startNewGroupChat(r,i.new_group_name,i.new_group_type)]}customElements.define("lhc-open-chat",t(Ot,{},[],[],!1));class ei extends e{constructor(t){super(),n(this,t,ti,Zn,i,{sort_identifier:0,type:1,lhcList:2,www_dir_flags:3,no_additional_column:4,panel_id:5,permissions:6,column_2_width:7,column_1_width:8,column_3_width:9,additional_sort:10},null,[-1,-1,-1])}get sort_identifier(){return this.$$.ctx[0]}set sort_identifier(t){this.$$set({sort_identifier:t}),d()}get type(){return this.$$.ctx[1]}set type(t){this.$$set({type:t}),d()}get lhcList(){return this.$$.ctx[2]}set lhcList(t){this.$$set({lhcList:t}),d()}get www_dir_flags(){return this.$$.ctx[3]}set www_dir_flags(t){this.$$set({www_dir_flags:t}),d()}get no_additional_column(){return this.$$.ctx[4]}set no_additional_column(t){this.$$set({no_additional_column:t}),d()}get panel_id(){return this.$$.ctx[5]}set panel_id(t){this.$$set({panel_id:t}),d()}get permissions(){return this.$$.ctx[6]}set permissions(t){this.$$set({permissions:t}),d()}get column_2_width(){return this.$$.ctx[7]}set column_2_width(t){this.$$set({column_2_width:t}),d()}get column_1_width(){return this.$$.ctx[8]}set column_1_width(t){this.$$set({column_1_width:t}),d()}get column_3_width(){return this.$$.ctx[9]}set column_3_width(t){this.$$set({column_3_width:t}),d()}get additional_sort(){return this.$$.ctx[10]}set additional_sort(t){this.$$set({additional_sort:t}),d()}}function ni(t,e,n){const i=t.slice();return i[38]=e[n],i}function ii(t,e,n){const i=t.slice();return i[41]=e[n],i}function ai(t,e,n){const i=t.slice();return i[44]=e[n],i}function si(t,e,n){const i=t.slice();return i[44]=e[n],i}function li(t,e,n){const i=t.slice();return i[49]=e[n],i}function ci(t){let e,n,i,a,s,l,c,o,d,_,p,y,$,j,k,W,D,I,L,T,A,O,E,N,V=(0==t[7][t[1].panelid].length?t[8]("widget_options.all_dep"):1!=t[7][t[1].panelid].length||t[1].hasOwnProperty("no_names_department")&&!0===t[1].no_names_department?"["+t[7][t[1].panelid].length+"] "+t[8]("widget_options.departments"):t[7][t[1].panelid+"Names"].join(", "))+"",H=!t[1].hasOwnProperty("hide_department_variations"),J=t[1].hasOwnProperty("hide_department")&&1==t[1].hide_department,G=t[1].hasOwnProperty("hide_depgroup")&&1==t[1].hide_depgroup,M=!t[1].hasOwnProperty("hide_department_variations"),Q=!t[1].hasOwnProperty("disable_product")||0==t[1].disable_product,B=[],F=new Map,q=[],X=new Map,U=H&&oi(t),K=J&&di(t),Y=G&&ri(t),z=M&&_i(t),Z=Q&&ui(t),tt=C(t[7].userDepartmentsGroups);const et=t=>t[44].id;for(let e=0;e<tt.length;e+=1){let n=si(t,tt,e),i=et(n);F.set(i,B[e]=hi(i,n))}let nt=t[7].userDepartmentsGroups.length>0&&gi(),it=C(t[7].userDepartments);const at=t=>t[44].id;for(let e=0;e<it.length;e+=1){let n=ai(t,it,e),i=at(n);X.set(i,q[e]=wi(i,n))}return{c(){e=h("div"),n=h("div"),i=h("button"),a=w(V),s=r(),l=h("ul"),c=h("li"),o=h("ul"),U&&U.c(),d=r(),K&&K.c(),_=r(),Y&&Y.c(),p=r(),z&&z.c(),y=r(),Z&&Z.c(),$=r();for(let t=0;t<B.length;t+=1)B[t].c();j=r(),nt&&nt.c(),k=r(),W=h("li"),D=h("input"),L=r(),T=h("li"),A=h("ul");for(let t=0;t<q.length;t+=1)q[t].c();g(i,"type","button"),g(i,"class","btn btn-light btn-block btn-sm dropdown-toggle btn-department-dropdown"),g(i,"data-bs-toggle","dropdown"),g(i,"aria-expanded","false"),g(D,"type","text"),g(D,"data-stoppropagation","true"),g(D,"placeholder",I=t[8]("widget_options.search_dep")),g(D,"class","form-control form-control-sm"),g(W,"class","p-1"),g(A,"class","list-unstyled dropdown-lhc"),g(T,"class","dropdown-result"),R(T,"max-height","218px"),R(T,"min-height","218px"),g(o,"class","list-unstyled dropdown-lhc"),g(c,"class","dropdown-result"),g(l,"class","dropdown-menu"),g(l,"role","menu"),g(n,"class","btn-group btn-block btn-block-department"),g(e,"class",O="col-"+(t[1].hasOwnProperty("userid")?6:t[1].hasOwnProperty("hide_limits")?12:10)+" pe-0")},m(r,m){u(r,e,m),f(e,n),f(n,i),f(i,a),f(n,s),f(n,l),f(l,c),f(c,o),U&&U.m(o,null),f(o,d),K&&K.m(o,null),f(o,_),Y&&Y.m(o,null),f(o,p),z&&z.m(o,null),f(o,y),Z&&Z.m(o,null),f(o,$);for(let t=0;t<B.length;t+=1)B[t]&&B[t].m(o,null);f(o,j),nt&&nt.m(o,null),f(o,k),f(o,W),f(W,D),x(D,t[7].depFilterText),f(o,L),f(o,T),f(T,A);for(let t=0;t<q.length;t+=1)q[t]&&q[t].m(A,null);E||(N=b(D,"input",t[28]),E=!0)},p(t,n){386&n[0]&&V!==(V=(0==t[7][t[1].panelid].length?t[8]("widget_options.all_dep"):1!=t[7][t[1].panelid].length||t[1].hasOwnProperty("no_names_department")&&!0===t[1].no_names_department?"["+t[7][t[1].panelid].length+"] "+t[8]("widget_options.departments"):t[7][t[1].panelid+"Names"].join(", "))+"")&&v(a,V),2&n[0]&&(H=!t[1].hasOwnProperty("hide_department_variations")),H?U?U.p(t,n):(U=oi(t),U.c(),U.m(o,d)):U&&(U.d(1),U=null),2&n[0]&&(J=t[1].hasOwnProperty("hide_department")&&1==t[1].hide_department),J?K?K.p(t,n):(K=di(t),K.c(),K.m(o,_)):K&&(K.d(1),K=null),2&n[0]&&(G=t[1].hasOwnProperty("hide_depgroup")&&1==t[1].hide_depgroup),G?Y?Y.p(t,n):(Y=ri(t),Y.c(),Y.m(o,p)):Y&&(Y.d(1),Y=null),2&n[0]&&(M=!t[1].hasOwnProperty("hide_department_variations")),M?z?z.p(t,n):(z=_i(t),z.c(),z.m(o,y)):z&&(z.d(1),z=null),2&n[0]&&(Q=!t[1].hasOwnProperty("disable_product")||0==t[1].disable_product),Q?Z?Z.p(t,n):(Z=ui(t),Z.c(),Z.m(o,$)):Z&&(Z.d(1),Z=null),146&n[0]&&(tt=C(t[7].userDepartmentsGroups),B=S(B,n,et,1,t,tt,F,o,P,hi,j,si)),t[7].userDepartmentsGroups.length>0?nt||(nt=gi(),nt.c(),nt.m(o,k)):nt&&(nt.d(1),nt=null),256&n[0]&&I!==(I=t[8]("widget_options.search_dep"))&&g(D,"placeholder",I),128&n[0]&&D.value!==t[7].depFilterText&&x(D,t[7].depFilterText),450&n[0]&&(it=C(t[7].userDepartments),q=S(q,n,at,1,t,it,X,A,P,wi,null,ai)),2&n[0]&&O!==(O="col-"+(t[1].hasOwnProperty("userid")?6:t[1].hasOwnProperty("hide_limits")?12:10)+" pe-0")&&g(e,"class",O)},d(t){t&&m(e),U&&U.d(),K&&K.d(),Y&&Y.d(),z&&z.d(),Z&&Z.d();for(let t=0;t<B.length;t+=1)B[t].d();nt&&nt.d();for(let t=0;t<q.length;t+=1)q[t].d();E=!1,N()}}}function oi(t){let e,n,i,a,s,l,c,o,d,_,p,y,x,$,k,W,C,D,I,L,S,P,T,A,O,R=t[8]("widget_options.check_all")+"",E=t[8]("widget_options.only_online")+"",N=t[8]("widget_options.only_explicit_online")+"",V=t[8]("widget_options.hide_hidden")+"";return{c(){e=h("li"),n=h("label"),i=h("input"),a=r(),s=w(R),l=r(),c=h("li"),o=h("label"),d=h("input"),_=r(),p=w(E),y=r(),x=h("li"),$=h("label"),k=h("input"),W=r(),C=w(N),D=r(),I=h("li"),L=h("label"),S=h("input"),P=r(),T=w(V),g(i,"type","checkbox"),g(d,"type","checkbox"),g(k,"type","checkbox"),g(S,"type","checkbox")},m(r,m){u(r,e,m),f(e,n),f(n,i),i.checked=t[7][t[1].panelid+"_all_departments"],f(n,a),f(n,s),u(r,l,m),u(r,c,m),f(c,o),f(o,d),d.checked=t[7][t[1].panelid+"_only_online"],f(o,_),f(o,p),u(r,y,m),u(r,x,m),f(x,$),f($,k),k.checked=t[7][t[1].panelid+"_only_explicit_online"],f($,W),f($,C),u(r,D,m),u(r,I,m),f(I,L),f(L,S),S.checked=t[7][t[1].panelid+"_hide_hidden"],f(L,P),f(L,T),A||(O=[b(i,"change",t[9]),b(i,"change",t[10]),b(d,"change",t[11]),b(d,"change",t[12]),b(k,"change",t[13]),b(k,"change",t[14]),b(S,"change",t[15]),b(S,"change",t[16])],A=!0)},p(t,e){130&e[0]&&(i.checked=t[7][t[1].panelid+"_all_departments"]),256&e[0]&&R!==(R=t[8]("widget_options.check_all")+"")&&v(s,R),130&e[0]&&(d.checked=t[7][t[1].panelid+"_only_online"]),256&e[0]&&E!==(E=t[8]("widget_options.only_online")+"")&&v(p,E),130&e[0]&&(k.checked=t[7][t[1].panelid+"_only_explicit_online"]),256&e[0]&&N!==(N=t[8]("widget_options.only_explicit_online")+"")&&v(C,N),130&e[0]&&(S.checked=t[7][t[1].panelid+"_hide_hidden"]),256&e[0]&&V!==(V=t[8]("widget_options.hide_hidden")+"")&&v(T,V)},d(t){t&&(m(e),m(l),m(c),m(y),m(x),m(D),m(I)),A=!1,j(O)}}}function di(t){let e,n,i,a,s,l,c,o,d=t[8]("widget_options.hide_dep")+"";return{c(){e=h("li"),n=h("label"),i=h("input"),a=r(),s=h("i"),s.textContent="home",l=w(d),g(i,"type","checkbox"),g(s,"class","material-icons")},m(d,r){u(d,e,r),f(e,n),f(n,i),i.checked=t[7][t[1].panelid+"_hide_dep"],f(n,a),f(n,s),f(n,l),c||(o=[b(i,"change",t[17]),b(i,"change",t[18])],c=!0)},p(t,e){130&e[0]&&(i.checked=t[7][t[1].panelid+"_hide_dep"]),256&e[0]&&d!==(d=t[8]("widget_options.hide_dep")+"")&&v(l,d)},d(t){t&&m(e),c=!1,j(o)}}}function ri(t){let e,n,i,a,s,l,c,o,d=t[8]("widget_options.hide_dep_groups")+"";return{c(){e=h("li"),n=h("label"),i=h("input"),a=r(),s=h("i"),s.textContent="",l=w(d),g(i,"type","checkbox"),g(s,"class","material-icons")},m(d,r){u(d,e,r),f(e,n),f(n,i),i.checked=t[7][t[1].panelid+"_hide_dgroup"],f(n,a),f(n,s),f(n,l),c||(o=[b(i,"change",t[19]),b(i,"change",t[20])],c=!0)},p(t,e){130&e[0]&&(i.checked=t[7][t[1].panelid+"_hide_dgroup"]),256&e[0]&&d!==(d=t[8]("widget_options.hide_dep_groups")+"")&&v(l,d)},d(t){t&&m(e),c=!1,j(o)}}}function _i(t){let e,n,i,a,s,l,c,o=t[8]("widget_options.hide_disabled")+"";return{c(){e=h("li"),n=h("label"),i=h("input"),a=r(),s=w(o),g(i,"data-stoppropagation","true"),g(i,"type","checkbox"),g(e,"class","border-bottom")},m(o,d){u(o,e,d),f(e,n),f(n,i),i.checked=t[7][t[1].panelid+"_hide_disabled"],f(n,a),f(n,s),l||(c=[b(i,"change",t[21]),b(i,"change",t[22])],l=!0)},p(t,e){130&e[0]&&(i.checked=t[7][t[1].panelid+"_hide_disabled"]),256&e[0]&&o!==(o=t[8]("widget_options.hide_disabled")+"")&&v(s,o)},d(t){t&&m(e),l=!1,j(c)}}}function ui(t){let e,n,i=[],a=new Map,s=C(t[7].userProductNames);const l=t=>t[49].id;for(let e=0;e<s.length;e+=1){let n=li(t,s,e),c=l(n);a.set(c,i[e]=pi(c,n))}let c=t[7].userProductNames.length>0&&mi();return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=r(),c&&c.c(),n=_()},m(t,a){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,a);u(t,e,a),c&&c.m(t,a),u(t,n,a)},p(t,o){162&o[0]&&(s=C(t[7].userProductNames),i=S(i,o,l,1,t,s,a,e.parentNode,P,pi,e,li)),t[7].userProductNames.length>0?c||(c=mi(),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null)},d(t){t&&(m(e),m(n));for(let e=0;e<i.length;e+=1)i[e].d(t);c&&c.d(t)}}}function pi(t,e){let n,i,a,s,l,c,o,d,r,_=!1,p=e[49].name+"";return o=E(e[24][4]),{key:t,first:null,c(){n=h("li"),i=h("label"),a=h("input"),l=h("i"),l.textContent="",c=w(p),g(a,"type","checkbox"),a.__value=s=e[49].id,x(a,a.__value),g(l,"class","material-icons"),g(n,"data-stoppropagation","true"),o.p(a),this.first=n},m(t,s){u(t,n,s),f(n,i),f(i,a),a.checked=~(e[5]||[]).indexOf(a.__value),f(i,l),f(i,c),d||(r=[b(a,"change",e[23]),b(a,"change",e[25])],d=!0)},p(t,n){e=t,128&n[0]&&s!==(s=e[49].id)&&(a.__value=s,x(a,a.__value),_=!0),(_||160&n[0])&&(a.checked=~(e[5]||[]).indexOf(a.__value)),128&n[0]&&p!==(p=e[49].name+"")&&v(c,p)},d(t){t&&m(n),o.r(),d=!1,j(r)}}}function mi(t){let e;return{c(){e=h("li"),g(e,"class","border-bottom")},m(t,n){u(t,e,n)},d(t){t&&m(e)}}}function hi(t,e){let n,i,a,s,l,c,o,d,r,_=!1,p=e[44].name+"";return o=E(e[24][3]),{key:t,first:null,c(){n=h("li"),i=h("label"),a=h("input"),l=h("i"),l.textContent="",c=w(p),a.__value=s=e[44].id,x(a,a.__value),g(a,"type","checkbox"),g(l,"title","Department group"),g(l,"class","material-icons"),g(n,"data-stoppropagation","true"),o.p(a),this.first=n},m(t,s){u(t,n,s),f(n,i),f(i,a),a.checked=~(e[4]||[]).indexOf(a.__value),f(i,l),f(i,c),d||(r=[b(a,"change",e[26]),b(a,"change",e[27])],d=!0)},p(t,n){e=t,128&n[0]&&s!==(s=e[44].id)&&(a.__value=s,x(a,a.__value),_=!0),(_||144&n[0])&&(a.checked=~(e[4]||[]).indexOf(a.__value)),128&n[0]&&p!==(p=e[44].name+"")&&v(c,p)},d(t){t&&m(n),o.r(),d=!1,j(r)}}}function gi(t){let e;return{c(){e=h("li"),g(e,"class","border-bottom")},m(t,n){u(t,e,n)},d(t){t&&m(e)}}}function fi(t){let e,n,i,a,s,l,c,o,d,r,_,p=!1,y=t[44].name+"";return d=E(t[24][2]),{c(){e=h("li"),n=h("label"),i=h("input"),s=h("i"),l=w("home"),o=w(y),i.__value=a=t[44].id,x(i,i.__value),g(i,"type","checkbox"),g(s,"title",c=t[8]("widget.department")),g(s,"class","material-icons"),k(s,"chat-active",t[44].slc),g(e,"data-stoppropagation","true"),d.p(i)},m(a,c){u(a,e,c),f(e,n),f(n,i),i.checked=~(t[6]||[]).indexOf(i.__value),f(n,s),f(s,l),f(n,o),r||(_=[b(i,"change",t[29]),b(i,"change",t[30])],r=!0)},p(t,e){128&e[0]&&a!==(a=t[44].id)&&(i.__value=a,x(i,i.__value),p=!0),(p||192&e[0])&&(i.checked=~(t[6]||[]).indexOf(i.__value)),256&e[0]&&c!==(c=t[8]("widget.department"))&&g(s,"title",c),128&e[0]&&k(s,"chat-active",t[44].slc),128&e[0]&&y!==(y=t[44].name+"")&&v(o,y)},d(t){t&&m(e),d.r(),r=!1,j(_)}}}function wi(t,e){let n,i,a=!(1==e[7][e[1].panelid+"_only_explicit_online"]&&0==e[44].oexp||1==e[7][e[1].panelid+"_hide_hidden"]&&1==e[44].hidden||1==e[7][e[1].panelid+"_hide_disabled"]&&1==e[44].disabled||e[7][e[1].panelid+"_only_online"]&&0==e[44].ogen)&&fi(e);return{key:t,first:null,c(){n=_(),a&&a.c(),i=_(),this.first=n},m(t,e){u(t,n,e),a&&a.m(t,e),u(t,i,e)},p(t,n){1==(e=t)[7][e[1].panelid+"_only_explicit_online"]&&0==e[44].oexp||1==e[7][e[1].panelid+"_hide_hidden"]&&1==e[44].hidden||1==e[7][e[1].panelid+"_hide_disabled"]&&1==e[44].disabled||e[7][e[1].panelid+"_only_online"]&&0==e[44].ogen?a&&(a.d(1),a=null):a?a.p(e,n):(a=fi(e),a.c(),a.m(i.parentNode,i))},d(t){t&&(m(n),m(i)),a&&a.d(t)}}}function vi(t){let e,n,i,a,s,l,c,o,d,_,p,y,$,j,k,W,D=t[8]("widget_options.users")+"",I=[],L=new Map,T=[],A=new Map,O=C(t[7].userList);const R=t=>t[41].id;for(let e=0;e<O.length;e+=1){let n=ii(t,O,e),i=R(n);L.set(i,I[e]=bi(i,n))}let E=t[7].userGroups.length>0&&yi(),N=C(t[7].userGroups);const V=t=>t[38].id;for(let e=0;e<N.length;e+=1){let n=ni(t,N,e),i=V(n);A.set(i,T[e]=xi(i,n))}return{c(){e=h("div"),n=h("div"),i=h("button"),a=w(D),s=r(),l=h("ul"),c=h("li"),o=h("input"),_=r(),p=h("li"),y=h("ul");for(let t=0;t<I.length;t+=1)I[t].c();$=r(),E&&E.c(),j=r();for(let t=0;t<T.length;t+=1)T[t].c();g(i,"type","button"),g(i,"class","btn btn-light btn-block btn-sm dropdown-toggle btn-department-dropdown"),g(i,"data-bs-toggle","dropdown"),g(i,"aria-expanded","false"),g(o,"type","text"),g(o,"data-stoppropagation","true"),g(o,"placeholder",d=t[8]("widget_options.search_operators")),g(o,"class","filter-text-input form-control form-control-sm"),g(c,"class","p-1"),g(y,"class","list-unstyled dropdown-lhc"),g(p,"class","dropdown-result"),g(l,"class","dropdown-menu dropdown-lhc"),g(l,"role","menu"),g(n,"class","btn-group btn-block btn-block-department"),g(e,"class","col-4 pe-0")},m(d,r){u(d,e,r),f(e,n),f(n,i),f(i,a),f(n,s),f(n,l),f(l,c),f(c,o),x(o,t[7].userFilterText),f(l,_),f(l,p),f(p,y);for(let t=0;t<I.length;t+=1)I[t]&&I[t].m(y,null);f(y,$),E&&E.m(y,null),f(y,j);for(let t=0;t<T.length;t+=1)T[t]&&T[t].m(y,null);k||(W=b(o,"input",t[31]),k=!0)},p(t,e){256&e[0]&&D!==(D=t[8]("widget_options.users")+"")&&v(a,D),256&e[0]&&d!==(d=t[8]("widget_options.search_operators"))&&g(o,"placeholder",d),128&e[0]&&o.value!==t[7].userFilterText&&x(o,t[7].userFilterText),134&e[0]&&(O=C(t[7].userList),I=S(I,e,R,1,t,O,L,y,P,bi,$,ii)),t[7].userGroups.length>0?E||(E=yi(),E.c(),E.m(y,j)):E&&(E.d(1),E=null),138&e[0]&&(N=C(t[7].userGroups),T=S(T,e,V,1,t,N,A,y,P,xi,null,ni))},d(t){t&&m(e);for(let t=0;t<I.length;t+=1)I[t].d();E&&E.d();for(let t=0;t<T.length;t+=1)T[t].d();k=!1,W()}}}function bi(t,e){let n,i,a,s,l,c,o,d,r,_=!1,p=(e[41].name||e[41].name_official)+"";return o=E(e[24][1]),{key:t,first:null,c(){n=h("li"),i=h("label"),a=h("input"),l=h("i"),l.textContent="account_box",c=w(p),a.__value=s=e[41].id,x(a,a.__value),g(a,"type","checkbox"),g(l,"title","User"),g(l,"class","material-icons"),g(n,"data-stoppropagation","true"),o.p(a),this.first=n},m(t,s){u(t,n,s),f(n,i),f(i,a),a.checked=~(e[2]||[]).indexOf(a.__value),f(i,l),f(i,c),d||(r=[b(a,"change",e[32]),b(a,"change",e[33])],d=!0)},p(t,n){e=t,128&n[0]&&s!==(s=e[41].id)&&(a.__value=s,x(a,a.__value),_=!0),(_||132&n[0])&&(a.checked=~(e[2]||[]).indexOf(a.__value)),128&n[0]&&p!==(p=(e[41].name||e[41].name_official)+"")&&v(c,p)},d(t){t&&m(n),o.r(),d=!1,j(r)}}}function yi(t){let e;return{c(){e=h("li"),g(e,"class","border-top")},m(t,n){u(t,e,n)},d(t){t&&m(e)}}}function xi(t,e){let n,i,a,s,l,c,o,d,r,_=!1,p=e[38].name+"";return o=E(e[24][0]),{key:t,first:null,c(){n=h("li"),i=h("label"),a=h("input"),l=h("i"),l.textContent="people",c=w(p),a.__value=s=e[38].id,x(a,a.__value),g(a,"type","checkbox"),g(l,"title","User group"),g(l,"class","material-icons"),g(n,"data-stoppropagation","true"),o.p(a),this.first=n},m(t,s){u(t,n,s),f(n,i),f(i,a),a.checked=~(e[3]||[]).indexOf(a.__value),f(i,l),f(i,c),d||(r=[b(a,"change",e[34]),b(a,"change",e[35])],d=!0)},p(t,n){e=t,128&n[0]&&s!==(s=e[38].id)&&(a.__value=s,x(a,a.__value),_=!0),(_||136&n[0])&&(a.checked=~(e[3]||[]).indexOf(a.__value)),128&n[0]&&p!==(p=e[38].name+"")&&v(c,p)},d(t){t&&m(n),o.r(),d=!1,j(r)}}}function $i(t){let e,n,i,a,s,l,c,o,d,r,_;return{c(){e=h("div"),n=h("select"),i=h("option"),i.textContent="5",a=h("option"),a.textContent="10",s=h("option"),s.textContent="25",l=h("option"),l.textContent="50",c=h("option"),c.textContent="100",i.__value="5",x(i,i.__value),a.__value="10",x(a,a.__value),s.__value="25",x(s,s.__value),l.__value="50",x(l,l.__value),c.__value="100",x(c,c.__value),g(n,"class","form-control form-control-sm btn-light"),g(n,"title",o=t[8]("widget_options.limit")),void 0===t[7][t[1].limitid]&&T((()=>t[36].call(n))),g(e,"class",d="col-"+(t[1].hasOwnProperty("limits_width")?t[1].limits_width:2))},m(o,d){u(o,e,d),f(e,n),f(n,i),f(n,a),f(n,s),f(n,l),f(n,c),A(n,t[7][t[1].limitid],!0),r||(_=[b(n,"change",t[36]),b(n,"change",t[37])],r=!0)},p(t,i){256&i[0]&&o!==(o=t[8]("widget_options.limit"))&&g(n,"title",o),130&i[0]&&A(n,t[7][t[1].limitid]),2&i[0]&&d!==(d="col-"+(t[1].hasOwnProperty("limits_width")?t[1].limits_width:2))&&g(e,"class",d)},d(t){t&&m(e),r=!1,j(_)}}}function ji(t){let e,n,i,a,s,l=!t[1].hasOwnProperty("hide_department_filter")||!1===t[1].hide_department_filter,c=t[1].hasOwnProperty("userid"),o=!t[1].hasOwnProperty("hide_limits"),d=l&&ci(t),_=c&&vi(t),w=o&&$i(t);return{c(){e=h("div"),n=h("div"),d&&d.c(),i=r(),_&&_.c(),a=r(),w&&w.c(),g(n,"class","row"),g(e,"class",s="p-"+(t[1].hasOwnProperty("padding_filters")?t[1].padding_filters:2))},m(t,s){u(t,e,s),f(e,n),d&&d.m(n,null),f(n,i),_&&_.m(n,null),f(n,a),w&&w.m(n,null)},p(t,r){2&r[0]&&(l=!t[1].hasOwnProperty("hide_department_filter")||!1===t[1].hide_department_filter),l?d?d.p(t,r):(d=ci(t),d.c(),d.m(n,i)):d&&(d.d(1),d=null),2&r[0]&&(c=t[1].hasOwnProperty("userid")),c?_?_.p(t,r):(_=vi(t),_.c(),_.m(n,a)):_&&(_.d(1),_=null),2&r[0]&&(o=!t[1].hasOwnProperty("hide_limits")),o?w?w.p(t,r):(w=$i(t),w.c(),w.m(n,null)):w&&(w.d(1),w=null),2&r[0]&&s!==(s="p-"+(t[1].hasOwnProperty("padding_filters")?t[1].padding_filters:2))&&g(e,"class",s)},i:p,o:p,d(t){t&&m(e),d&&d.d(),_&&_.d(),w&&w.d()}}}function ki(t,e,n){let i,s,l=p,o=()=>(l(),l=I(d,(t=>n(7,i=t))),d);a(t,y,(t=>n(8,s=t))),t.$$.on_destroy.push((()=>l()));let{lhcList:d=null}=e;o();let{optionsPanel:r={panelid:"pendingd",limitid:"limitp",userid:"pendingu"}}=e,_=i[r.userid],u=i[r.panelid+"_ugroups"],m=i[r.panelid+"_dpgroups"],h=i[r.panelid+"_products"],g=i[r.panelid];const f=[[],[],[],[],[]];return t.$$set=t=>{"lhcList"in t&&o(n(0,d=t.lhcList)),"optionsPanel"in t&&n(1,r=t.optionsPanel)},t.$$.update=()=>{10&t.$$.dirty[0]&&c(d,i[r.panelid+"_ugroups"]=u,i),18&t.$$.dirty[0]&&c(d,i[r.panelid+"_dpgroups"]=m,i),6&t.$$.dirty[0]&&c(d,i[r.userid]=_,i),34&t.$$.dirty[0]&&c(d,i[r.panelid+"_products"]=h,i),66&t.$$.dirty[0]&&c(d,i[r.panelid]=g,i)},[d,r,_,u,m,h,g,i,s,function(){i[r.panelid+"_all_departments"]=this.checked,d.set(i)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[r.panelid,!0])},function(){i[r.panelid+"_only_online"]=this.checked,d.set(i)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[r.panelid,!0])},function(){i[r.panelid+"_only_explicit_online"]=this.checked,d.set(i)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[r.panelid,!0])},function(){i[r.panelid+"_hide_hidden"]=this.checked,d.set(i)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[r.panelid,!0])},function(){i[r.panelid+"_hide_dep"]=this.checked,d.set(i)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[r.panelid,!0])},function(){i[r.panelid+"_hide_dgroup"]=this.checked,d.set(i)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[r.panelid,!0])},function(){i[r.panelid+"_hide_disabled"]=this.checked,d.set(i)},t=>{ee.emitEvent("svelteallDepartmentsChanged",[r.panelid,!0])},function(){h=N(f[4],this.__value,this.checked),n(5,h)},f,t=>ee.emitEvent("svelteProductChanged",[r.panelid+"_products"]),function(){m=N(f[3],this.__value,this.checked),n(4,m)},t=>{ee.emitEvent("svelteProductChanged",[r.panelid+"_dpgroups"])},function(){i.depFilterText=this.value,d.set(i)},function(){g=N(f[2],this.__value,this.checked),n(6,g)},t=>{ee.emitEvent("svelteDepartmentChanged",[r.panelid])},function(){i.userFilterText=this.value,d.set(i)},function(){_=N(f[1],this.__value,this.checked),n(2,_)},t=>{ee.emitEvent("svelteProductChanged",[r.userid])},function(){u=N(f[0],this.__value,this.checked),n(3,u)},t=>{ee.emitEvent("svelteProductChanged",[r.panelid+"_ugroups"])},function(){i[r.limitid]=L(this),d.set(i)},t=>{ee.emitEvent("svelteLimitChanged",[r.limitid])}]}t(ei,{sort_identifier:{},type:{},lhcList:{},www_dir_flags:{},no_additional_column:{type:"Boolean"},panel_id:{},permissions:{},column_2_width:{},column_1_width:{},column_3_width:{},additional_sort:{}},[],[],!0);class Wi extends e{constructor(t){super(),n(this,t,ki,ji,i,{lhcList:0,optionsPanel:1},null,[-1,-1])}get lhcList(){return this.$$.ctx[0]}set lhcList(t){this.$$set({lhcList:t}),d()}get optionsPanel(){return this.$$.ctx[1]}set optionsPanel(t){this.$$set({optionsPanel:t}),d()}}function Ci(t){let e,n,i,a,s,l=0==t[4]&&Di(t),c=!0!==t[26].toggleWidgetData[t[15]]&&Ni(t);return{c(){e=h("div"),l&&l.c(),n=r(),c&&c.c(),g(e,"class",i=(!1===t[6]?"card card-dashboard":"")+" card-"+t[1]+" "+(t[26][t[0]].list.length>0?"has-chats":"")),g(e,"data-panel-id",a=t[20]||t[0])},m(t,i){u(t,e,i),l&&l.m(e,null),f(e,n),c&&c.m(e,null),s=!0},p(t,o){0==t[4]?l?l.p(t,o):(l=Di(t),l.c(),l.m(e,n)):l&&(l.d(1),l=null),!0!==t[26].toggleWidgetData[t[15]]?c?(c.p(t,o),67141632&o[0]&&V(c,1)):(c=Ni(t),c.c(),V(c,1),c.m(e,null)):c&&(G(),H(c,1,1,(()=>{c=null})),J()),(!s||67108931&o[0]&&i!==(i=(!1===t[6]?"card card-dashboard":"")+" card-"+t[1]+" "+(t[26][t[0]].list.length>0?"has-chats":"")))&&g(e,"class",i),(!s||1048577&o[0]&&a!==(a=t[20]||t[0]))&&g(e,"data-panel-id",a)},i(t){s||(V(c),s=!0)},o(t){H(c),s=!1},d(t){t&&m(e),l&&l.d(),c&&c.d()}}}function Di(t){let e,n,i,a,s,l,c,o,d,_,p,y,x,$="depgroups_stats"==t[0]&&-1!==t[24].indexOf("lhstatistic_exportxls"),j=0==t[26].toggleWidgetData[t[15]]?"expand_less":"expand_more",k=t[18]&&Ii(t);function W(t,e){return t[12]?Li:Si}let C=W(t),D=C(t),I="online_op"==t[0]&&Ai(t),L=$&&Oi(t),S=!t[13]&&t[26][t[0]].tt&&Ri(t),P="depgroups_stats"==t[0]&&t[26].departments_stats.tt&&Ei(t);return{c(){e=h("div"),k&&k.c(),n=r(),D.c(),i=r(),I&&I.c(),a=r(),L&&L.c(),s=r(),l=h("a"),c=w(j),d=r(),S&&S.c(),_=r(),P&&P.c(),g(l,"title",o=t[27]("widget.collapse_expand")),g(l,"class","fs24 float-end material-icons exp-cntr"),g(e,"class",p=t[16]+" card-header")},m(o,r){u(o,e,r),k&&k.m(e,null),f(e,n),D.m(e,null),f(e,i),I&&I.m(e,null),f(e,a),L&&L.m(e,null),f(e,s),f(e,l),f(l,c),f(e,d),S&&S.m(e,null),f(e,_),P&&P.m(e,null),y||(x=b(l,"click",t[36]),y=!0)},p(t,d){t[18]?k?k.p(t,d):(k=Ii(t),k.c(),k.m(e,n)):k&&(k.d(1),k=null),C===(C=W(t))&&D?D.p(t,d):(D.d(1),D=C(t),D&&(D.c(),D.m(e,i))),"online_op"==t[0]?I?I.p(t,d):(I=Ai(t),I.c(),I.m(e,a)):I&&(I.d(1),I=null),16777217&d[0]&&($="depgroups_stats"==t[0]&&-1!==t[24].indexOf("lhstatistic_exportxls")),$?L?L.p(t,d):(L=Oi(t),L.c(),L.m(e,s)):L&&(L.d(1),L=null),67141632&d[0]&&j!==(j=0==t[26].toggleWidgetData[t[15]]?"expand_less":"expand_more")&&v(c,j),134217728&d[0]&&o!==(o=t[27]("widget.collapse_expand"))&&g(l,"title",o),!t[13]&&t[26][t[0]].tt?S?S.p(t,d):(S=Ri(t),S.c(),S.m(e,_)):S&&(S.d(1),S=null),"depgroups_stats"==t[0]&&t[26].departments_stats.tt?P?P.p(t,d):(P=Ei(t),P.c(),P.m(e,null)):P&&(P.d(1),P=null),65536&d[0]&&p!==(p=t[16]+" card-header")&&g(e,"class",p)},d(t){t&&m(e),k&&k.d(),D.d(),I&&I.d(),L&&L.d(),S&&S.d(),P&&P.d(),y=!1,x()}}}function Ii(t){let e,n,i;return{c(){e=h("i"),e.textContent="settings_applications",g(e,"class","material-icons me-0 action-image")},m(a,s){u(a,e,s),n||(i=b(e,"click",t[35]),n=!0)},p:p,d(t){t&&m(e),n=!1,i()}}}function Li(t){let e,n,i,a,s,l,c,o,d=t[27]("widget_title."+t[0])+"",p=!t[14]&&Pi(t);return{c(){e=h("i"),n=w(t[11]),a=h("span"),s=w(d),c=r(),p&&p.c(),o=_(),g(e,"class",i="material-icons "+t[10]),g(a,"class",l="d-none d-lg-inline "+t[17])},m(t,i){u(t,e,i),f(e,n),u(t,a,i),f(a,s),u(t,c,i),p&&p.m(t,i),u(t,o,i)},p(t,c){2048&c[0]&&v(n,t[11]),1024&c[0]&&i!==(i="material-icons "+t[10])&&g(e,"class",i),134217729&c[0]&&d!==(d=t[27]("widget_title."+t[0])+"")&&v(s,d),131072&c[0]&&l!==(l="d-none d-lg-inline "+t[17])&&g(a,"class",l),t[14]?p&&(p.d(1),p=null):p?p.p(t,c):(p=Pi(t),p.c(),p.m(o.parentNode,o))},d(t){t&&(m(e),m(a),m(c),m(o)),p&&p.d(t)}}}function Si(t){let e,n,i,a,s,l,c,o,d=t[27]("widget_title."+t[0])+"",_=!t[14]&&Ti(t);return{c(){e=h("a"),n=h("i"),i=w(t[11]),s=h("span"),l=w(d),o=r(),_&&_.c(),g(n,"class",a="material-icons "+t[10]),g(s,"class",c="d-none d-lg-inline "+t[17]),g(e,"href",t[9])},m(t,a){u(t,e,a),f(e,n),f(n,i),f(e,s),f(s,l),f(e,o),_&&_.m(e,null)},p(t,o){2048&o[0]&&v(i,t[11]),1024&o[0]&&a!==(a="material-icons "+t[10])&&g(n,"class",a),134217729&o[0]&&d!==(d=t[27]("widget_title."+t[0])+"")&&v(l,d),131072&o[0]&&c!==(c="d-none d-lg-inline "+t[17])&&g(s,"class",c),t[14]?_&&(_.d(1),_=null):_?_.p(t,o):(_=Ti(t),_.c(),_.m(e,null)),512&o[0]&&g(e,"href",t[9])},d(t){t&&m(e),_&&_.d()}}}function Pi(t){let e,n,i,a,s,l=t[26][t[0]].list.length+"",c=t[26][t[0]].list.length==t[26][t[25].limitid]?"+":"";return{c(){e=h("span"),n=w("("),i=w(l),a=w(c),s=w(")"),g(e,"class",t[17])},m(t,l){u(t,e,l),f(e,n),f(e,i),f(e,a),f(e,s)},p(t,n){67108865&n[0]&&l!==(l=t[26][t[0]].list.length+"")&&v(i,l),100663297&n[0]&&c!==(c=t[26][t[0]].list.length==t[26][t[25].limitid]?"+":"")&&v(a,c),131072&n[0]&&g(e,"class",t[17])},d(t){t&&m(e)}}}function Ti(t){let e,n,i,a,s,l=t[26][t[0]].list.length+"",c=t[26][t[0]].list.length==t[26][t[25].limitid]?"+":"";return{c(){e=h("span"),n=w("("),i=w(l),a=w(c),s=w(")"),g(e,"class",t[17])},m(t,l){u(t,e,l),f(e,n),f(e,i),f(e,a),f(e,s)},p(t,n){67108865&n[0]&&l!==(l=t[26][t[0]].list.length+"")&&v(i,l),100663297&n[0]&&c!==(c=t[26][t[0]].list.length==t[26][t[25].limitid]?"+":"")&&v(a,c),131072&n[0]&&g(e,"class",t[17])},d(t){t&&m(e)}}}function Ai(t){let e,n,i,a=t[26][t[0]].op_on+"";return{c(){e=h("span"),n=w(a),g(e,"class","text-success"),g(e,"title",i=t[27]("widget.online"))},m(t,i){u(t,e,i),f(e,n)},p(t,s){67108865&s[0]&&a!==(a=t[26][t[0]].op_on+"")&&v(n,a),134217728&s[0]&&i!==(i=t[27]("widget.online"))&&g(e,"title",i)},d(t){t&&m(e)}}}function Oi(t){let e,n,i;return{c(){e=h("a"),n=w("file_download"),g(e,"class","material-icons"),g(e,"target","_blank"),g(e,"href",WWW_DIR_JAVASCRIPT+"statistic/departmentstatusxls"),g(e,"title",i=t[27]("widget.download_xls"))},m(t,i){u(t,e,i),f(e,n)},p(t,n){134217728&n[0]&&i!==(i=t[27]("widget.download_xls"))&&g(e,"title",i)},d(t){t&&m(e)}}}function Ri(t){let e,n,i,a,s=t[26][t[0]].tt+"";return{c(){e=h("span"),n=w(s),i=w(" s."),g(e,"title",a=t[27]("widget.taken_time")),g(e,"class","d-none d-xl-inline badge me-1 float-end bg-light text-muted p-1 fs11 fw-light border")},m(t,a){u(t,e,a),f(e,n),f(e,i)},p(t,i){67108865&i[0]&&s!==(s=t[26][t[0]].tt+"")&&v(n,s),134217728&i[0]&&a!==(a=t[27]("widget.taken_time"))&&g(e,"title",a)},d(t){t&&m(e)}}}function Ei(t){let e,n,i,a,s=t[26].departments_stats.tt+"";return{c(){e=h("span"),n=w(s),i=w(" s."),g(e,"title",a=t[27]("widget.taken_time_dep")),g(e,"class","d-none d-xl-inline badge me-1 float-end bg-light text-muted p-1 fs11 fw-light border")},m(t,a){u(t,e,a),f(e,n),f(e,i)},p(t,i){67108864&i[0]&&s!==(s=t[26].departments_stats.tt+"")&&v(n,s),134217728&i[0]&&a!==(a=t[27]("widget.taken_time_dep"))&&g(e,"title",a)},d(t){t&&m(e)}}}function Ni(t){let e,n,i,a,s=!t[5]&&Vi(t),l=t[26][t[0]].list.length>0&&Hi(t),c=0===t[26][t[0]].list.length&&Ji();return{c(){e=h("div"),s&&s.c(),n=r(),l&&l.c(),i=r(),c&&c.c()},m(t,o){u(t,e,o),s&&s.m(e,null),f(e,n),l&&l.m(e,null),f(e,i),c&&c.m(e,null),a=!0},p(t,a){t[5]?s&&(G(),H(s,1,1,(()=>{s=null})),J()):s?(s.p(t,a),32&a[0]&&V(s,1)):(s=Vi(t),s.c(),V(s,1),s.m(e,n)),t[26][t[0]].list.length>0?l?(l.p(t,a),67108865&a[0]&&V(l,1)):(l=Hi(t),l.c(),V(l,1),l.m(e,i)):l&&(G(),H(l,1,1,(()=>{l=null})),J()),0===t[26][t[0]].list.length?c||(c=Ji(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(t){a||(V(s),V(l),a=!0)},o(t){H(s),H(l),a=!1},d(t){t&&m(e),s&&s.d(),l&&l.d(),c&&c.d()}}}function Vi(t){let e,n;return e=new Wi({props:{optionsPanel:t[25],lhcList:s}}),{c(){M(e.$$.fragment)},m(t,i){Q(e,t,i),n=!0},p(t,n){const i={};33554432&n[0]&&(i.optionsPanel=t[25]),e.$set(i)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function Hi(t){let e,n,i;return n=new ei({props:{no_additional_column:t[7],additional_sort:t[19],column_1_width:t[22],column_3_width:t[23],column_2_width:t[21],permissions:t[24],www_dir_flags:t[8],panel_id:t[25].panelid,lhcList:s,type:t[0],sort_identifier:t[3]}}),{c(){e=h("div"),M(n.$$.fragment),g(e,"class","panel-list"),g(e,"id",t[2]),R(e,"max-height",t[26][t[25].panelid+"_m_h"]??"330px")},m(t,a){u(t,e,a),Q(n,e,null),i=!0},p(t,a){const s={};128&a[0]&&(s.no_additional_column=t[7]),524288&a[0]&&(s.additional_sort=t[19]),4194304&a[0]&&(s.column_1_width=t[22]),8388608&a[0]&&(s.column_3_width=t[23]),2097152&a[0]&&(s.column_2_width=t[21]),16777216&a[0]&&(s.permissions=t[24]),256&a[0]&&(s.www_dir_flags=t[8]),33554432&a[0]&&(s.panel_id=t[25].panelid),1&a[0]&&(s.type=t[0]),8&a[0]&&(s.sort_identifier=t[3]),n.$set(s),(!i||4&a[0])&&g(e,"id",t[2]),100663296&a[0]&&R(e,"max-height",t[26][t[25].panelid+"_m_h"]??"330px")},i(t){i||(V(n.$$.fragment,t),i=!0)},o(t){H(n.$$.fragment,t),i=!1},d(t){t&&m(e),B(n)}}}function Ji(t){let e;return{c(){e=h("div"),e.innerHTML='<i class="material-icons">search</i>All items will appear here.',g(e,"class","m-1 alert alert-light")},m(t,n){u(t,e,n)},d(t){t&&m(e)}}}function Gi(t){let e,n,i=t[26][t[0]]&&t[26][t[0]].list&&Ci(t);return{c(){i&&i.c(),e=_()},m(t,a){i&&i.m(t,a),u(t,e,a),n=!0},p(t,n){t[26][t[0]]&&t[26][t[0]].list?i?(i.p(t,n),67108865&n[0]&&V(i,1)):(i=Ci(t),i.c(),V(i,1),i.m(e.parentNode,e)):i&&(G(),H(i,1,1,(()=>{i=null})),J())},i(t){n||(V(i),n=!0)},o(t){H(i),n=!1},d(t){t&&m(e),i&&i.d(t)}}}function Mi(t,e,n){let i,l,c,o;a(t,s,(t=>n(26,c=t))),a(t,y,(t=>n(27,o=t)));let{type:d="pending_chats"}=e,{list_identifier:r="pending"}=e,{panel_list_identifier:_="pendingd-panel-list"}=e,{sort_identifier:u="pending_chats_sort"}=e,{status_id:p=0}=e,{status_key:m="chat_status_ids"}=e,{hide_header:h=!1}=e,{hide_filter_options:g=!1}=e,{default_expand:f=!1}=e,{right_panel_mode:w=!1}=e,{no_additional_column:v=!1}=e,{default_sort:b="id_asc"}=e,{www_dir_flags:x=null}=e,{base_url:$="chat/list"}=e,{url:j=WWW_DIR_JAVASCRIPT+$+"/("+m+")/"+p}=e,{icon_class:k="chat-pending"}=e,{card_icon:W="chat"}=e,{no_link:C=!1}=e,{no_duration:D=!1}=e,{no_counter:I=!1}=e,{expand_identifier:L="pchats_widget_exp"}=e,{custom_card_class:S=""}=e,{custom_title_class:P=""}=e,{custom_settings_url:T=""}=e,{additional_sort:A=""}=e,{data_panel_id:O=""}=e,{column_2_width:R="20%"}=e,{column_1_width:E="40%"}=e,{column_3_width:N="20%"}=e,{permissions:V=[]}=e,{optionsPanel:H={panelid:"pendingd",limitid:"limitp",userid:"pendingu"}}=e;F.getToggleWidget(s,L),F.getToggleWidgetSort(s,u,b);return t.$$set=t=>{"type"in t&&n(0,d=t.type),"list_identifier"in t&&n(1,r=t.list_identifier),"panel_list_identifier"in t&&n(2,_=t.panel_list_identifier),"sort_identifier"in t&&n(3,u=t.sort_identifier),"status_id"in t&&n(28,p=t.status_id),"status_key"in t&&n(29,m=t.status_key),"hide_header"in t&&n(4,h=t.hide_header),"hide_filter_options"in t&&n(5,g=t.hide_filter_options),"default_expand"in t&&n(30,f=t.default_expand),"right_panel_mode"in t&&n(6,w=t.right_panel_mode),"no_additional_column"in t&&n(7,v=t.no_additional_column),"default_sort"in t&&n(31,b=t.default_sort),"www_dir_flags"in t&&n(8,x=t.www_dir_flags),"base_url"in t&&n(32,$=t.base_url),"url"in t&&n(9,j=t.url),"icon_class"in t&&n(10,k=t.icon_class),"card_icon"in t&&n(11,W=t.card_icon),"no_link"in t&&n(12,C=t.no_link),"no_duration"in t&&n(13,D=t.no_duration),"no_counter"in t&&n(14,I=t.no_counter),"expand_identifier"in t&&n(15,L=t.expand_identifier),"custom_card_class"in t&&n(16,S=t.custom_card_class),"custom_title_class"in t&&n(17,P=t.custom_title_class),"custom_settings_url"in t&&n(18,T=t.custom_settings_url),"additional_sort"in t&&n(19,A=t.additional_sort),"data_panel_id"in t&&n(20,O=t.data_panel_id),"column_2_width"in t&&n(21,R=t.column_2_width),"column_1_width"in t&&n(22,E=t.column_1_width),"column_3_width"in t&&n(23,N=t.column_3_width),"permissions"in t&&n(33,V=t.permissions),"optionsPanel"in t&&n(34,H=t.optionsPanel)},t.$$.update=()=>{8&t.$$.dirty[1]&&n(25,i="string"==typeof H?JSON.parse(H):H),4&t.$$.dirty[1]&&n(24,l="string"==typeof V?JSON.parse(V):V)},[d,r,_,u,h,g,w,v,x,j,k,W,C,D,I,L,S,P,T,A,O,R,E,N,l,i,c,o,p,m,f,b,$,V,H,t=>F.openModal(WWW_DIR_JAVASCRIPT+T),t=>F.toggleWidget(s,L)]}t(Wi,{lhcList:{},optionsPanel:{}},[],[],!0);class Qi extends e{constructor(t){super(),n(this,t,Mi,Gi,i,{type:0,list_identifier:1,panel_list_identifier:2,sort_identifier:3,status_id:28,status_key:29,hide_header:4,hide_filter_options:5,default_expand:30,right_panel_mode:6,no_additional_column:7,default_sort:31,www_dir_flags:8,base_url:32,url:9,icon_class:10,card_icon:11,no_link:12,no_duration:13,no_counter:14,expand_identifier:15,custom_card_class:16,custom_title_class:17,custom_settings_url:18,additional_sort:19,data_panel_id:20,column_2_width:21,column_1_width:22,column_3_width:23,permissions:33,optionsPanel:34},null,[-1,-1])}get type(){return this.$$.ctx[0]}set type(t){this.$$set({type:t}),d()}get list_identifier(){return this.$$.ctx[1]}set list_identifier(t){this.$$set({list_identifier:t}),d()}get panel_list_identifier(){return this.$$.ctx[2]}set panel_list_identifier(t){this.$$set({panel_list_identifier:t}),d()}get sort_identifier(){return this.$$.ctx[3]}set sort_identifier(t){this.$$set({sort_identifier:t}),d()}get status_id(){return this.$$.ctx[28]}set status_id(t){this.$$set({status_id:t}),d()}get status_key(){return this.$$.ctx[29]}set status_key(t){this.$$set({status_key:t}),d()}get hide_header(){return this.$$.ctx[4]}set hide_header(t){this.$$set({hide_header:t}),d()}get hide_filter_options(){return this.$$.ctx[5]}set hide_filter_options(t){this.$$set({hide_filter_options:t}),d()}get default_expand(){return this.$$.ctx[30]}set default_expand(t){this.$$set({default_expand:t}),d()}get right_panel_mode(){return this.$$.ctx[6]}set right_panel_mode(t){this.$$set({right_panel_mode:t}),d()}get no_additional_column(){return this.$$.ctx[7]}set no_additional_column(t){this.$$set({no_additional_column:t}),d()}get default_sort(){return this.$$.ctx[31]}set default_sort(t){this.$$set({default_sort:t}),d()}get www_dir_flags(){return this.$$.ctx[8]}set www_dir_flags(t){this.$$set({www_dir_flags:t}),d()}get base_url(){return this.$$.ctx[32]}set base_url(t){this.$$set({base_url:t}),d()}get url(){return this.$$.ctx[9]}set url(t){this.$$set({url:t}),d()}get icon_class(){return this.$$.ctx[10]}set icon_class(t){this.$$set({icon_class:t}),d()}get card_icon(){return this.$$.ctx[11]}set card_icon(t){this.$$set({card_icon:t}),d()}get no_link(){return this.$$.ctx[12]}set no_link(t){this.$$set({no_link:t}),d()}get no_duration(){return this.$$.ctx[13]}set no_duration(t){this.$$set({no_duration:t}),d()}get no_counter(){return this.$$.ctx[14]}set no_counter(t){this.$$set({no_counter:t}),d()}get expand_identifier(){return this.$$.ctx[15]}set expand_identifier(t){this.$$set({expand_identifier:t}),d()}get custom_card_class(){return this.$$.ctx[16]}set custom_card_class(t){this.$$set({custom_card_class:t}),d()}get custom_title_class(){return this.$$.ctx[17]}set custom_title_class(t){this.$$set({custom_title_class:t}),d()}get custom_settings_url(){return this.$$.ctx[18]}set custom_settings_url(t){this.$$set({custom_settings_url:t}),d()}get additional_sort(){return this.$$.ctx[19]}set additional_sort(t){this.$$set({additional_sort:t}),d()}get data_panel_id(){return this.$$.ctx[20]}set data_panel_id(t){this.$$set({data_panel_id:t}),d()}get column_2_width(){return this.$$.ctx[21]}set column_2_width(t){this.$$set({column_2_width:t}),d()}get column_1_width(){return this.$$.ctx[22]}set column_1_width(t){this.$$set({column_1_width:t}),d()}get column_3_width(){return this.$$.ctx[23]}set column_3_width(t){this.$$set({column_3_width:t}),d()}get permissions(){return this.$$.ctx[33]}set permissions(t){this.$$set({permissions:t}),d()}get optionsPanel(){return this.$$.ctx[34]}set optionsPanel(t){this.$$set({optionsPanel:t}),d()}}customElements.define("lhc-widget",t(Qi,{type:{},list_identifier:{},panel_list_identifier:{},sort_identifier:{},status_id:{},status_key:{},hide_header:{type:"Boolean"},hide_filter_options:{type:"Boolean"},default_expand:{type:"Boolean"},right_panel_mode:{type:"Boolean"},no_additional_column:{type:"Boolean"},default_sort:{},www_dir_flags:{},base_url:{},url:{},icon_class:{},card_icon:{},no_link:{type:"Boolean"},no_duration:{type:"Boolean"},no_counter:{type:"Boolean"},expand_identifier:{},custom_card_class:{},custom_title_class:{},custom_settings_url:{},additional_sort:{},data_panel_id:{},column_2_width:{},column_1_width:{},column_3_width:{},permissions:{},optionsPanel:{}},[],[],!1));export{Wt as ChangeAlwaysOnline,yt as ChangeOnlineStatus,Pt as ChangeVisibilityMode,Z as LHC,mt as LHCStatus,Qi as LHCWidget,Ot as OpenChat};
//# sourceMappingURL=main.js.map
