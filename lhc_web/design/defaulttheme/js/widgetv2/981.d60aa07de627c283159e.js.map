{"version":3,"file":"981.d60aa07de627c283159e.js","mappings":"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","sources":["webpack://LHCReactAPP/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://LHCReactAPP/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://LHCReactAPP/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://LHCReactAPP/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://LHCReactAPP/./src/components/ChatAbort.js","webpack://LHCReactAPP/./src/components/ChatModal.js","webpack://LHCReactAPP/./src/components/ChatMessage.js","webpack://LHCReactAPP/./src/components/ChatFileUploader.js","webpack://LHCReactAPP/./src/components/ChatSync.js","webpack://LHCReactAPP/./src/components/ChatOptions.js","webpack://LHCReactAPP/./src/components/ChatStatus.js","webpack://LHCReactAPP/./src/components/ChatIntroStatus.js","webpack://LHCReactAPP/./src/components/OnlineChat.js","webpack://LHCReactAPP/./node_modules/xwiper/index.js"],"sourcesContent":["function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","import React, { PureComponent } from 'react';\n\nclass ChatAbort extends PureComponent {\n\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return <React.Fragment>\n            <div className=\"fade modal-backdrop show\"></div>\n            <div role=\"dialog\" id=\"dialog-content\" aria-modal=\"true\" className=\"fade modal show d-block p-2\" tabIndex=\"-1\">\n                <div className=\"modal-content p-2\">\n                    <p>{this.props.text}</p>\n                    <div className=\"modal-footer\">\n                        <button className=\"btn btn-secondary btn-sm\" onClick={this.props.close} type=\"button\">{this.props.closeText}</button>\n                    </div>\n                </div>\n            </div>\n        </React.Fragment>;\n    }\n}\n\nexport default ChatAbort;\n","import React, { PureComponent } from 'react';\nimport axios from \"axios\";\nimport parse, { domToReact } from 'html-react-parser';\nimport { withTranslation } from 'react-i18next';\nimport Xwiper from 'xwiper';\n\nclass ChatModal extends PureComponent {\n\n    state = {\n        body: null\n    };\n    \n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        axios.get(window.lhcChat['base_url'] + this.props.dataUrl)\n        .then((response) => {\n            this.setState({'body' : response.data});\n            var container = document.getElementById('dialog-content');\n            var bsn = require(\"bootstrap.native/dist/bootstrap-native-v4\");\n            var tabs = container.querySelectorAll('[data-toggle=\"tab\"]');\n\n            if (tabs.length > 0) {\n                var activeTab = 0;\n                Array.prototype.forEach.call(tabs, function(element){ new bsn.Tab( element) });\n\n                const xwiper = new Xwiper('.tab-content');\n                xwiper.onSwipeLeft(() => {\n                    activeTab = activeTab < (tabs.length - 1) ? (activeTab + 1) : 0;\n                    tabs[activeTab].Tab.show();\n                });\n\n                xwiper.onSwipeRight(() => {\n                    activeTab = activeTab > 0 ? (activeTab - 1) : (tabs.length - 1);\n                    tabs[activeTab].Tab.show();\n                });\n            }\n\n        })\n        .catch((err) => {\n            console.log(err);\n        })\n    }\n\n    dismissModal = () => {\n        this.props.toggle()\n    }\n\n    generalOnClick = (e) => {\n        const { t } = this.props;\n\n        var txtToAdd =  e['data-bb-code'];\n        if (e['data-promt'] && e['data-promt'] == 'img') {\n            var link = prompt(t('bbcode.img_link'));\n            if (link) {\n                txtToAdd = '[' + txtToAdd + ']' + link + '[/' + txtToAdd + ']';\n            }\n        } else if (e['data-promt'] && e['data-promt'] == 'url') {\n            var link = prompt(t('bbcode.link'));\n            if (link) {\n                txtToAdd = '[url=' + link + ']'+t('bbcode.link_here')+'[/url]';\n            }\n        }\n        this.props.insertText(txtToAdd);\n        this.props.toggle();\n    }\n\n    generalDataActionClick = (e) => {\n        if (e['data-action'] && this.props[e['data-action']]) {\n            this.props[e['data-action']]();\n        }\n    }\n\n    render() {\n\n        return (\n            <React.Fragment>\n                {this.state.body !== null && <div className=\"fade modal-backdrop show\"></div>}\n                {this.state.body !== null && <div role=\"dialog\" id=\"dialog-content\" aria-modal=\"true\" className=\"fade modal show d-block\" tabIndex=\"-1\">{parse(this.state.body, {\n                        replace: domNode => {\n\n                            if (domNode.attribs && domNode.attribs.id === 'react-close-modal') {\n                                return <button type=\"button\" className=\"close float-right\" data-dismiss=\"modal\" onClick={this.dismissModal} aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>;\n                            } else if (domNode.attribs && domNode.attribs.bbitem) {\n                                if (domNode.attribs.class) {\n                                    domNode.attribs.className = domNode.attribs.class;\n                                    delete domNode.attribs.class;\n                                }\n                                return (\n                                    <a {...domNode.attribs} onClick={(e) => this.generalOnClick(domNode.attribs)}>{domToReact(domNode.children)}</a>\n                                );\n                            } else if (domNode.type && domNode.type === 'tag' && domNode.name && domNode.name == 'input' && domNode.attribs && domNode.attribs.type && domNode.attribs.type == \"button\") {\n\n                                if (domNode.attribs.class) {\n                                    domNode.attribs.className = domNode.attribs.class;\n                                    delete domNode.attribs.class;\n                                }\n\n                                return (<input {...domNode.attribs} onClick={(e) => this.generalDataActionClick(domNode.attribs)} />);\n\n                            } else if (domNode.type && domNode.type === 'script') {\n                                if (domNode.children.length > 0)\n                                {\n                                    setTimeout(() => {\n                                        const newScript = document.createElement(\"script\");\n                                        newScript.appendChild(document.createTextNode(domNode.children[0].data));\n                                        var head = document.getElementsByTagName('head').item(0);\n                                        head.appendChild(newScript);\n                                    },500);\n                                } else if (domNode.attribs && domNode.attribs.src) {\n                                    const newScript = document.createElement('script');\n                                    newScript.src = domNode.attribs.src;\n                                    newScript.type ='text/javascript';\n                                    var head = document.getElementsByTagName('head').item(0);\n                                    head.appendChild(newScript);\n                                }\n                                return <React.Fragment></React.Fragment>;\n                            }\n                        }\n                    }\n                )}</div>}\n            </React.Fragment>\n        )\n    }\n}\n\nexport default withTranslation()(ChatModal);\n","import React, { PureComponent } from 'react';\nimport parse, { domToReact } from 'html-react-parser';\nimport { connect } from \"react-redux\";\nimport { updateTriggerClicked, subscribeNotifications, parseScript } from \"../actions/chatActions\";\nimport { withTranslation } from 'react-i18next';\nimport { helperFunctions } from \"../lib/helperFunctions\";\n\nclass ChatMessage extends PureComponent {\n\n    state = {\n        jsExecuted : false\n    }\n\n    constructor(props) {\n        super(props);\n        this.abstractClick = this.abstractClick.bind(this);\n        this.imageLoaded = this.imageLoaded.bind(this);\n        this.updateTriggerClicked = this.updateTriggerClicked.bind(this);\n        this.disableEditor = false;\n        this.delayData = [];\n    }\n\n    addLoader(attrs, element) {\n        if (!attrs[\"data-no-change\"] && attrs.type == 'button') {\n            element.setAttribute(\"disabled\",\"disabled\");\n            element.innerHTML = \"<i class=\\\"material-icons lhc-spin\\\">&#xf113;</i>\" + element.innerHTML;\n        }\n    }\n    \n    /**\n     * Here we handle bot buttons actions\n     * */\n    abstractClick(attrs, e) {\n\n        const { t } = this.props;\n\n\n\n        if (typeof attrs.onchange !== 'undefined') {\n\n            // Checkbox support\n            if (attrs.type && attrs.type == \"checkbox\") {\n                if (attrs['payload-type'] == 'enable-confirm') {\n                    var elm = document.getElementById('confirm-button-'+attrs['data-id']);\n                    if (e.target.checked) {\n                        elm.removeAttribute('disabled');\n                        elm.onclick = (e) => this.updateTriggerClicked({type:''}, {'data-payload':'confirm', 'data-id' : attrs['data-id']}, e.target);\n                    } else {\n                        elm.setAttribute('disabled','disabled');\n                    }\n                }\n                return ;\n            }\n\n            // Drop down support\n            const optionSelected = e.target.options[e.target.selectedIndex];\n\n            const attrLoad = {\n                'data-payload': optionSelected.getAttribute('data-payload'),\n                'data-id' : optionSelected.getAttribute('data-id')\n            };\n\n            if (optionSelected.getAttribute('payload-type') == 'trigger') {\n                this.updateTriggerClicked({type:'/(type)/triggerclicked'}, attrLoad , e.target);\n            } else if (optionSelected.getAttribute('payload-type') == 'button' || optionSelected.getAttribute('payload-type') == 'payload') {\n                this.updateTriggerClicked({type:''}, attrLoad, e.target);\n            }\n\n            return ;\n        }\n\n        this.addLoader(attrs,e.target);\n\n        if (attrs.onclick) {\n            if (attrs.onclick.indexOf('lhinst.updateTriggerClicked') !== -1) {\n                this.updateTriggerClicked({type:'/(type)/triggerclicked'}, attrs, e.target);\n            } else if (attrs.onclick.indexOf('notificationsLHC.sendNotification') !== -1) {\n\n                this.props.dispatch(subscribeNotifications());\n                e.target.innerHTML = t('notifications.subscribing');\n                setTimeout(() => {\n                    this.removeMetaMessage(attrs['data-id']);\n                }, 500);\n\n            } else if (attrs.onclick.indexOf('lhinst.buttonClicked') !== -1) {\n                this.updateTriggerClicked({type:''}, attrs, e.target);\n            } else if (attrs.onclick.indexOf('lhinst.startVoiceCall') !== -1) {\n                this.props.voiceCall();\n            } else if (attrs.onclick.indexOf('lhinst.chooseFile') !== -1) {\n                this.props.abstractAction('fileupload');\n            } else if (attrs.onclick.indexOf('lhinst.updateChatClicked') !== -1) {\n                this.updateTriggerClicked({type:'',mainType: 'updatebuttonclicked'}, attrs, e.target);\n            } else if (attrs.onclick.indexOf('lhinst.editGenericStep') !== -1) {\n                this.updateTriggerClicked({type:'/(type)/editgenericstep'}, attrs, e.target);\n            } else if (attrs.onclick.indexOf('lhinst.hideShowAction') !== -1) {\n                const args = JSON.parse(attrs['data-load']);\n                var more = document.getElementById('message-more-'+args['id']);\n                if (more.classList.contains('hide')) {\n                    e.target.innerText = args['hide_text'];\n                    more.classList.remove('hide');\n                } else {\n                    e.target.innerText = args['show_text'];\n                    more.classList.add('hide');\n                }\n            } else if (attrs.onclick.indexOf('lhinst.executeJS') !== -1) {\n                parseScript(attrs, this);\n            } else if (attrs.onclick.indexOf('lhinst.dropdownClicked') !== -1) {\n                const list = document.getElementById('id_generic_list-' + attrs['data-id']);\n                if (list && list.value != \"0\" && list.value != \"\") {\n                    attrs['data-payload'] = list.value;\n                    this.updateTriggerClicked({type:'/(type)/valueclicked'}, attrs, e.target);\n                } else {\n                    alert(t('bot.please_choose'));\n                }\n            } else {\n                helperFunctions.emitEvent('MessageClick',[attrs, this.props.dispatch]);\n                console.log('Unknown click event: ' + attrs.onclick);\n            }\n        }\n\n        e.preventDefault();\n\n        // Why did we previously auto focused on button click?\n        // It just makes a screen smaller and is bad for UI\n        /*if (!(attrs.src && attrs.class && attrs.class == 'img-fluid')) {\n            this.props.focusMessage();\n        }*/\n    }\n\n    removeMetaMessage(messageId) {\n        setTimeout(() => {\n            var block = document.getElementById('msg-' + messageId);\n            if (block) {\n                var x = block.getElementsByClassName(\"meta-message-\" + messageId);\n                var i;\n                for (i = 0; i < x.length; i++) {\n                    x[i].parentNode.removeChild(x[i]);\n                }\n            }\n        },500);\n    }\n\n    updateTriggerClicked(paramsType, attrs, target) {\n        this.props.dispatch(updateTriggerClicked(paramsType, {payload: attrs['data-payload'], id : attrs['data-id'], processed : (typeof attrs['data-keep'] === 'undefined')})).then((data) => {\n            if (!attrs['data-keep']) {\n                this.removeMetaMessage(attrs['data-id']);\n            }\n\n            if (data.data.t) {\n                helperFunctions.sendMessageParent('botTrigger', [{'trigger' : data.data.t}]);\n            }\n\n            this.props.updateMessages();\n            this.props.updateStatus();\n        });\n    }\n\n    imageLoaded(attrs) {\n        if (this.props.scrollBottom) {\n            this.props.scrollBottom(true, true);\n        }\n    }\n\n    componentDidMount() {\n\n        this.props.setMetaUpdateState(this.props.msg['msg'].indexOf('meta-auto-hide') !== -1);\n\n        if (this.disableEditor == true) {\n            this.props.setEditorEnabled(false);\n        } else {\n            this.props.setEditorEnabled(true);\n        }\n\n        if (this.delayData.length > 0) {\n            this.delayData.forEach((item) => {\n                this.props.sendDelay(item);\n            })\n        }\n    }\n\n    formatStringToCamelCase(str) {\n        const splitted = str.split(\"-\");\n        if (splitted.length === 1) return splitted[0];\n        return (\n            splitted[0] +\n            splitted\n                .slice(1)\n                .map(word => word[0].toUpperCase() + word.slice(1))\n                .join(\"\")\n        );\n    };\n\n    getStyleObjectFromString(str) {\n        const style = {};\n        str.split(\";\").forEach(el => {\n            const [property, value] = el.split(\":\");\n            if (!property) return;\n\n            const formattedProperty = this.formatStringToCamelCase(property.trim());\n            style[formattedProperty] = value.trim();\n        });\n\n        return style;\n    };\n\n    render() {\n\n        const { t } = this.props;\n\n        var operatorChanged = false;\n\n        var messages = parse(this.props.msg['msg'], {\n\n            replace: domNode => {\n                if (domNode.attribs) {\n\n                    var cloneAttr = Object.assign({}, domNode.attribs);\n\n                    if (domNode.attribs.class) {\n                        domNode.attribs.className = domNode.attribs.class;\n\n                        // Animate only if it's not first sync call\n                        if (domNode.attribs.className.indexOf('message-row') !== -1 && this.props.id > 0) {\n\n                            domNode.attribs.className += ' fade-in-fast';\n\n                            if (this.props.msg['msop'] > 0 && this.props.msg['msop'] != this.props.msg['lmsop'] && operatorChanged == false) {\n                                domNode.attribs.className += ' operator-changes';\n                                operatorChanged = true;\n                            }\n                        } else if (this.props.profilePic && domNode.attribs.className.indexOf('vis-icon-hld') !== -1) {\n                            return <img className=\"profile-msg-pic\" onLoad={this.imageLoaded} src={this.props.profilePic} alt=\"\" title=\"\" />\n                        }\n\n                        delete domNode.attribs.class;\n                    }\n\n                    if (domNode.attribs.onclick) {\n                        delete domNode.attribs.onclick;\n                    }\n\n                    if (domNode.name && domNode.name === 'img') {\n\n                        if (domNode.attribs.style) {\n                            domNode.attribs.style = this.getStyleObjectFromString(domNode.attribs.style);\n                        }\n\n                        return <img {...domNode.attribs} onLoad={this.imageLoaded} onClick={(e) => this.abstractClick(cloneAttr, e)} />\n\n                    } else if (domNode.name && domNode.name === 'button') {\n                        if (cloneAttr.onclick) {\n\n                            if (domNode.attribs.style) {\n                                domNode.attribs.style = this.getStyleObjectFromString(domNode.attribs.style);\n                            }\n\n                            return <button {...domNode.attribs} onClick={(e) => this.abstractClick(cloneAttr, e)} >{domToReact(domNode.children)}</button>\n                        }\n                    } else if (domNode.name && domNode.name === 'a') {\n                        if (cloneAttr.onclick) {\n\n                            if (domNode.attribs.style) {\n                                domNode.attribs.style = this.getStyleObjectFromString(domNode.attribs.style);\n                            }\n\n                            return <a {...domNode.attribs} onClick={(e) => this.abstractClick(cloneAttr, e)} >{domToReact(domNode.children)}</a>\n                        }\n                    } else if (domNode.name && domNode.name === 'select') {\n\n                        if (cloneAttr.onchange) {\n\n                            if (domNode.attribs.style) {\n                                domNode.attribs.style = this.getStyleObjectFromString(domNode.attribs.style);\n                            }\n\n                            return <select {...domNode.attribs} onChange={(e) => this.abstractClick(cloneAttr, e)} >{domToReact(domNode.children)}</select>\n                        }\n\n                    } else if (domNode.name && domNode.name === 'input') {\n\n                        if (domNode.attribs.type && domNode.attribs.type == 'checkbox' && cloneAttr.onchange) {\n                            if (domNode.attribs.style) {\n                                domNode.attribs.style = this.getStyleObjectFromString(domNode.attribs.style);\n                            }\n                            return <input type=\"checkbox\" {...domNode.attribs} onChange={(e) => this.abstractClick(cloneAttr, e)} />\n                        }\n\n                    } else if (domNode.name && domNode.name === 'script' && domNode.attribs['data-bot-action']) {\n\n                        // Execute JS only once\n                        // Happens if new message indicator is passed\n                        // We rerender elements, but we should not execute JS\n                        if (this.state.jsExecuted == true) {\n                            return <React.Fragment></React.Fragment>;\n                        }\n\n                        this.setState({jsExecuted : true});\n                        parseScript(domNode, this);\n\n                        // Return empty element\n                        return <React.Fragment></React.Fragment>;\n                    }\n                }\n            }\n        });\n\n        return <React.Fragment>{this.props.hasNew == true && this.props.id == this.props.newId && <div id=\"scroll-to-message\" className=\"message-admin border-bottom new-msg-holder border-danger text-center\"><span className=\"new-msg bg-danger text-white d-inline-block fs12 rounded-top\">{this.props.newTitle}</span></div>}{messages}</React.Fragment>\n    }\n}\n\nexport default withTranslation()(connect()(ChatMessage));\n","import React, { PureComponent } from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { helperFunctions } from \"../lib/helperFunctions\";\n\n/**\n * https://github.com/LukasMarx/react-file-upload\n * */\nclass ChatFileUploader extends PureComponent {\n\n    state = {\n        hightlight: false,\n        files: [],\n        uploading: false,\n        uploadProgress: {},\n        successfullUploaded: false\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.fileInputRef = React.createRef();\n\n        // UI Actions\n        this.openFileDialog = this.openFileDialog.bind(this);\n        this.onFilesAddedUI = this.onFilesAddedUI.bind(this);\n        this.onDragOver = this.onDragOver.bind(this);\n        this.onDragLeave = this.onDragLeave.bind(this);\n        this.onDrop = this.onDrop.bind(this);\n        this.onPaste = this.onPaste.bind(this);\n\n        // Backend actions\n        this.onFilesAdded = this.onFilesAdded.bind(this);\n        this.uploadFiles = this.uploadFiles.bind(this);\n        this.sendRequest = this.sendRequest.bind(this);\n    }\n\n    onFilesAdded(files) {\n        const { t } = this.props;\n\n        const ruleTest = new RegExp(\"(\\.|\\/)(\" + this.props.fileOptions.get('ft_us') + \")$\",\"i\");\n\n        let uploadErrors = [];\n        files.forEach(file => {\n\n            if (!(ruleTest.test(file.type) || ruleTest.test(file.name))) {\n                uploadErrors.push(file.name + ': ' + t('file.incorrect_type'));\n            }\n\n            if (file.size > this.props.fileOptions.get('fs')) {\n                uploadErrors.push(file.name + ': '+ t('file.to_big_file'));\n            }\n        });\n\n        if (uploadErrors.length > 0) {\n            alert(uploadErrors.join(\"\\n\"));\n        } else {\n            this.setState({\n                'files': files\n            })\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.state.files.length > 0 && this.state.uploading == false) {\n            this.uploadFiles();\n        }\n    }\n\n    async uploadFiles() {\n        this.setState({ uploadProgress: {}, uploading: true });\n        const promises = [];\n        this.state.files.forEach(file => {\n            promises.push(this.sendRequest(file));\n        });\n        try {\n            await Promise.all(promises);\n            this.setState({ successfullUploaded: true, uploading: false,  files : []});\n        } catch (e) {\n            // Not Production ready! Do some error handling here instead...\n            this.setState({ successfullUploaded: true, uploading: false,  files : [] });\n        }\n    }\n\n    sendRequest(file) {\n        const { t } = this.props;\n\n        return new Promise((resolve, reject) => {\n            const req = new XMLHttpRequest();\n\n            req.upload.addEventListener(\"progress\", event => {\n                if (event.lengthComputable) {\n                    const copy = { ...this.state.uploadProgress };\n                    copy[file.name] = {\n                        state: \"pending\",\n                        percentage: (event.loaded / event.total) * 100\n                    };\n                    this.props.progress(t('file.uploading') + Math.round((event.loaded / event.total) * 100) + '%');\n                }\n            });\n\n            req.upload.addEventListener(\"load\", event => {\n                const copy = { ...this.state.uploadProgress };\n                copy[file.name] = { state: \"done\", percentage: 100 };\n                //this.setState({ uploadProgress: copy });\n                this.props.progress('100%');\n                this.props.onCompletion();\n                resolve(req.response);\n            });\n\n            req.upload.addEventListener(\"error\", event => {\n                const copy = { ...this.state.uploadProgress };\n                copy[file.name] = { state: \"error\", percentage: 0 };\n                this.setState({ uploadProgress: copy });\n                reject(req.response);\n            });\n\n            const formData = new FormData();\n            formData.append(\"files\", file, file.name);\n\n            req.open(\"POST\", this.props.base_url + '/file/uploadfile/' + this.props.chat_id + '/' + this.props.hash);\n            req.send(formData);\n        });\n    }\n\n    openFileDialog() {\n        if (this.state.uploading) return;\n        this.fileInputRef.current.click();\n    }\n\n    onFilesAddedUI(evt) {\n        const files = evt.target.files;\n        const array = this.fileListToArray(files);\n        this.onFilesAdded(array);\n    }\n\n    onDragOver(event) {\n        event.preventDefault();\n        if (this.state.uploading) return;\n\n        if (this.props.onDrag) {\n            this.props.onDrag(true);\n        }\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            if (this.props.dropArea.current) {\n                this.props.dropArea.current.ondragover = this.onDragOver;\n                this.props.dropArea.current.ondragleave = this.onDragLeave;\n                this.props.dropArea.current.ondrop = this.onDrop;\n                document.addEventListener(\"paste\", this.onPaste);\n                helperFunctions.eventEmitter.addListener('fileupload', this.openFileDialog);\n            }\n        }, 1000);\n    }\n\n    componentWillUnmount() {\n        if (this.props.dropArea.current) {\n            this.props.dropArea.current.ondragover = null;\n            this.props.dropArea.current.ondragleave = null;\n            this.props.dropArea.current.ondrop = null;\n        }\n        helperFunctions.eventEmitter.removeListener('fileupload', this.openFileDialog);\n        document.removeEventListener(\"paste\", this.onPaste);\n    }\n\n    onPaste(e) {\n        var items = e && e.clipboardData &&\n            e.clipboardData.items,\n            data = {files: []};\n\n        if (items && items.length) {\n            const array = [];\n            for (var i = 0; i < items.length; i++) {\n                var file = items[i].getAsFile && items[i].getAsFile();\n                if (file){\n                    array.push(file);\n                }\n            }\n\n            if (array.length > 0) {\n                this.onFilesAdded(array);\n            }\n        }\n    }\n\n    onDragLeave(event) {\n        if (this.props.onDrag) {\n            this.props.onDrag(false);\n        }\n    }\n\n    onDrop(event) {\n        event.preventDefault();\n        if (this.state.uploading) return;\n        const files = event.dataTransfer.files;\n        const array = this.fileListToArray(files);\n\n        this.onFilesAdded(array);\n\n        if (this.props.onDrag) {\n            this.props.onDrag(false);\n        }\n    }\n\n    fileListToArray(list) {\n        const array = [];\n        for (var i = 0; i < list.length; i++) {\n            array.push(list.item(i));\n        }\n        return array;\n    }\n\n    render() {\n        if (this.props.link) {\n            return (\n                <React.Fragment>\n                    <input onChange={this.onFilesAddedUI} ref={this.fileInputRef} id=\"fileupload\" type=\"file\" name=\"files[]\" multiple={!this.props.fileOptions.has('one_file_upload')} className=\"d-none\" />\n                    <a className=\"file-uploader\" onClick={this.openFileDialog}><i className=\"material-icons chat-setting-item text-muted\">&#xf10e;</i></a>\n                </React.Fragment>\n            );\n        }\n    }\n}\n\nexport default withTranslation()(ChatFileUploader);","import React, { PureComponent } from 'react';\nimport { STATUS_CLOSED_CHAT, STATUS_BOT_CHAT, STATUS_SUB_SURVEY_SHOW, STATUS_ACTIVE_CHAT, STATUS_SUB_USER_CLOSED_CHAT, STATUS_SUB_OWNER_CHANGED, STATUS_SUB_CONTACT_FORM  } from \"../constants/chat-status\";\nimport { helperFunctions } from \"../lib/helperFunctions\";\n\nclass ChatSync extends PureComponent {\n\n    state = {\n        intervalId : null,\n        intervalCheckStatusId : null\n    };\n\n    constructor(props) {\n        super(props);\n        this.syncChat = this.syncChat.bind(this);\n        this.checkStatusChat = this.checkStatusChat.bind(this);\n    }\n\n    syncChat(issueUpdate) {\n\n        if (this.state.intervalId) {\n            clearTimeout(this.state.intervalId);\n        }\n\n        this.props.updateMessages();\n        this.setState({'intervalId': setTimeout(this.syncChat,this.props.syncInterval)});\n    }\n\n    checkStatusChat() {\n\n        if (this.state.intervalCheckStatusId) {\n            clearTimeout(this.state.intervalCheckStatusId);\n        }\n\n        this.props.updateStatus();\n        this.setState({'intervalCheckStatusId': setTimeout(this.checkStatusChat, this.props.syncInterval)});\n    }\n\n    componentDidMount() {\n        this.syncChat();\n        this.checkStatusChat();\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (\n            this.props.status == STATUS_CLOSED_CHAT ||\n            this.props.status_sub == STATUS_SUB_SURVEY_SHOW ||\n            this.props.status_sub == STATUS_SUB_USER_CLOSED_CHAT ||\n            this.props.status_sub == STATUS_SUB_CONTACT_FORM\n        ) {\n            if (this.state.intervalId) {\n                clearTimeout(this.state.intervalId);\n                this.state.intervalId = null;\n            }\n            helperFunctions.sendMessageParent('chatClosed', []);\n        } else if (!this.state.intervalId) {\n            this.syncChat();\n        }\n\n        if ((this.props.status_sub != prevProps.status_sub || this.props.status != prevProps.status) || (this.props.initClose != prevProps.initClose) || (prevProps.hasSurvey != this.props.hasSurvey)) {\n            this.checkStatusChat();\n        }\n\n        if ((this.props.status == STATUS_CLOSED_CHAT || this.props.status == STATUS_BOT_CHAT || this.props.status == STATUS_ACTIVE_CHAT || this.props.status_sub == STATUS_SUB_SURVEY_SHOW) && this.state.intervalCheckStatusId && this.props.hasSurvey == false) {\n            clearTimeout(this.state.intervalCheckStatusId);\n            this.state.intervalCheckStatusId = null;\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.state.intervalId) {\n            clearTimeout(this.state.intervalId);\n        }\n\n        if (this.state.intervalCheckStatusId) {\n            clearTimeout(this.state.intervalCheckStatusId);\n        }\n    }\n\n    render() {\n        return null;\n    }\n}\n\nexport default ChatSync;\n","import React, { PureComponent } from 'react';\n\nclass ChatOptions extends PureComponent {\n\n    state = {\n        dropdown: null\n    };\n\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        if (document.getElementById(this.props.elementId)) {\n            var bsn = require(\"bootstrap.native/dist/bootstrap-native-v4\");\n            this.setState({'dropdown' : new bsn.Dropdown(document.getElementById(this.props.elementId))});\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.state.dropdown) {\n            delete this.state.dropdown;\n        }\n    }\n\n    render() {\n        return this.props.children;\n    }\n}\n\nexport default ChatOptions;\n","import React, { PureComponent } from 'react';\nimport parse, { domToReact } from 'html-react-parser';\nimport { connect } from \"react-redux\";\nimport {voteAction, transferToHumanAction} from \"../actions/chatActions\"\nimport { helperFunctions } from \"../lib/helperFunctions\";\nimport axios from \"axios\";\n\n@connect((store) => {\n    return {\n        chat: store.chatwidget.get('chatData'),\n        chat_ui : store.chatwidget.get('chat_ui')\n    };\n})\n\nclass ChatStatus extends PureComponent {\n\n    constructor(props) {\n        super(props);\n        this.abstractClick = this.abstractClick.bind(this);\n        this.checkSwitchButtom = this.checkSwitchButtom.bind(this);\n    }\n\n    abstractClick(attrs) {\n        if (attrs.onclick) {\n            if (attrs.onclick == 'lhinst.voteAction($(this))') {\n                voteAction({id : this.props.chat.get('id'), hash: this.props.chat.get('hash'), type : attrs['data-id']}).then((response) => {\n                    this.props.updateStatus()\n                })\n            } else if (attrs.onclick == 'notificationsLHC.sendNotification()') {\n                helperFunctions.sendMessageParent('subscribeEvent',[{'pk' : this.props.chat_ui.get('notifications_pk')}]);\n            } else if (attrs.onclick.indexOf('lhinst.transferToHuman') !== -1) {\n                transferToHumanAction({id : this.props.chat.get('id'), hash: this.props.chat.get('hash')}).then((response) => {\n                    this.props.updateStatus()\n                });\n            } else {\n                helperFunctions.emitEvent('StatusClick',[attrs, this.props.dispatch]);\n            }\n        }\n    }\n\n    checkSwitchButtom(){\n        if (this.props.chat_ui.has('switch_to_human') && this.props.vtm && this.props.vtm >= this.props.chat_ui.get('switch_to_human')) {\n            axios.get(window.lhcChat['base_url'] + \"restapi/isonlinechat/\" + this.props.chat.get('id')+ '?exclude_bot=true').then((response) => {\n                if (response.data.isonline){\n                    var transferButton = document.getElementById('transfer-to-human-btn');\n                    if (transferButton !== null) {\n                        transferButton.classList.remove('hide');\n                    }\n                }\n            });\n        }\n    }\n\n    componentDidMount() {\n        this.checkSwitchButtom();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        this.checkSwitchButtom();\n    }\n\n    render() {\n         return parse(this.props.status, {\n            replace: domNode => {\n                if (domNode.attribs && domNode.attribs.onclick) {\n                    if (domNode.name && (domNode.name == 'i' || domNode.name == 'a')) {\n\n                        var cloneAttr = Object.assign({}, domNode.attribs);\n\n                        if (domNode.attribs.class) {\n                            domNode.attribs.className = domNode.attribs.class;\n                            delete domNode.attribs.class;\n                        }\n\n                        if (domNode.attribs.onclick) {\n                            delete domNode.attribs.onclick;\n                        }\n\n                        let result = <i {...domNode.attribs} onClick={(e) => this.abstractClick(cloneAttr)} >{domToReact(domNode.children)}</i>;\n\n                        return result;\n                    }\n                }\n            }\n        });\n    }\n}\n\nexport default ChatStatus;\n","import React, { PureComponent } from 'react';\n\nclass ChatIntroStatus extends PureComponent {\n\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return <React.Fragment>\n            {this.props.profileBefore !== null && <div dangerouslySetInnerHTML={{__html:this.props.profileBefore}}></div>}\n            <div className={this.props.msg_expand} id=\"messagesBlock\" dangerouslySetInnerHTML={{__html:this.props.messagesBefore}}></div>\n            {!this.props.hideMessageField && <div className=\"d-flex flex-row border-top position-relative message-send-area\">\n                <div className=\"btn-group dropup disable-select pl-2 pt-2\"><i className=\"material-icons settings text-muted\" aria-haspopup=\"true\" aria-expanded=\"false\">&#xf100;</i></div>\n                <div className=\"mx-auto pb-1 w-100\">\n                    <textarea aria-label=\"Type your message here...\" placeholder={this.props.placeholderMessage} id=\"CSChatMessage\" rows=\"1\" className=\"pl-0 no-outline form-control rounded-0 form-control border-left-0 border-right-0 border-0\" />\n                </div>\n                <div className=\"disable-select\">\n                    <div className=\"user-chatwidget-buttons pt-1\" id=\"ChatSendButtonContainer\">\n                        <i className=\"material-icons text-muted settings mr-0\">&#xf113;</i>\n                    </div>\n                </div>\n            </div>}\n        </React.Fragment>;\n    }\n}\n\nexport default ChatIntroStatus;\n","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport parse from 'html-react-parser';\nimport { initChatUI, fetchMessages, addMessage, checkChatStatus, endChat, userTyping, minimizeWidget} from \"../actions/chatActions\"\nimport { STATUS_CLOSED_CHAT, STATUS_BOT_CHAT, STATUS_SUB_SURVEY_SHOW, STATUS_SUB_USER_CLOSED_CHAT } from \"../constants/chat-status\";\nimport ChatMessage from './ChatMessage';\nimport ChatModal from './ChatModal';\nimport ChatFileUploader from './ChatFileUploader';\nimport ChatSync from './ChatSync';\nimport ChatOptions from './ChatOptions';\nimport ChatStatus from './ChatStatus';\nimport ChatIntroStatus from './ChatIntroStatus';\nimport ChatAbort from './ChatAbort';\n\nimport { helperFunctions } from \"../lib/helperFunctions\";\nimport { withTranslation } from 'react-i18next';\n\nimport { Suspense, lazy } from 'react';\n\nconst VoiceMessage = React.lazy(() => import('./VoiceMessage'));\nconst MailModal = React.lazy(() => import('./MailModal'));\nconst FontSizeModal = React.lazy(() => import('./FontSizeModal'));\n\n@connect((store) => {\n    return {\n        chatwidget: store.chatwidget\n    };\n})\n\nclass OnlineChat extends Component {\n\n    state = {\n        value: '',\n        valueSend: false,\n        showBBCode : null,\n        mailChat : false,\n        dragging : false,\n        enabledEditor : true,\n        showMessages : false,\n        preloadSurvey : false, // Should survey be preloaded\n        gotToSurvey : false,\n        voiceMode : false,\n        showMail : false,\n        changeFontSize : false,\n        errorMode: false,\n        hasNew: false,\n        newId: 0, // From what index there is a new messages\n        scrollButton: false,\n        fontSize: 100,\n        otm: 0 // New operator messages\n    };\n\n    constructor(props) {\n        super(props);\n\n        // Init offline form with all attributes\n        this.props.dispatch(initChatUI({\n            'id': this.props.chatwidget.getIn(['chatData','id']),\n            'hash' : this.props.chatwidget.getIn(['chatData','hash']),\n            'theme' : this.props.chatwidget.get('theme')\n        }));\n\n        this.updateMessages();\n        this.updateStatus();\n\n        this.enterKeyDown = this.enterKeyDown.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.sendMessage = this.sendMessage.bind(this);\n        this.endChat = this.endChat.bind(this);\n        this.mailChat = this.mailChat.bind(this);\n        this.changeFont = this.changeFont.bind(this);\n        this.voiceCall = this.voiceCall.bind(this);\n        this.toggleModal = this.toggleModal.bind(this);\n        this.setStatusText = this.setStatusText.bind(this);\n        this.dragging = this.dragging.bind(this);\n        this.scrollBottom = this.scrollBottom.bind(this);\n        this.focusMessage = this.focusMessage.bind(this);\n        this.setEditorEnabled = this.setEditorEnabled.bind(this);\n        this.sendDelay = this.sendDelay.bind(this);\n        this.unhideDelayed = this.unhideDelayed.bind(this);\n        this.toggleSound = this.toggleSound.bind(this);\n        this.goToSurvey = this.goToSurvey.bind(this);\n        this.startVoiceRecording = this.startVoiceRecording.bind(this);\n        this.cancelVoiceRecording = this.cancelVoiceRecording.bind(this);\n        this.onScrollMessages = this.onScrollMessages.bind(this);\n        this.scrollToMessage = this.scrollToMessage.bind(this);\n        this.changeFontAction = this.changeFontAction.bind(this);\n\n        // Messages Area\n        this.messagesAreaRef = React.createRef();\n        this.textMessageRef = React.createRef();\n\n        this.updateMessages = this.updateMessages.bind(this);\n        this.updateStatus = this.updateStatus.bind(this);\n        this.abstractAction = this.abstractAction.bind(this);\n        this.updateMetaAutoHide = this.updateMetaAutoHide.bind(this);\n        this.setMetaUpdateState = this.setMetaUpdateState.bind(this);\n        this.keyUp = this.keyUp.bind(this);\n\n        this.delayed = false;\n        this.delayQueue = [];\n        this.intervalPending = null;\n        this.intervalFunction = null;\n        this.unhideDelayedTimer = null;\n        this.pendingMetaUpdate = false;\n        this.timeoutNewMessage = null;\n\n        this.isTyping = false;\n        this.typingStopped = null;\n        this.typingStoppedAction = this.typingStoppedAction.bind(this);\n        this.currentMessageTyping = '';\n    }\n\n    dragging(status) {\n        this.setState({dragging : status})\n    }\n\n    goToSurvey() {\n        this.props.dispatch({\n            'type': 'UI_STATE',\n            'data' : {attr: 'show_survey', 'val': 1}\n        });\n        this.setState({'gotToSurvey' : true});\n    }\n\n    setStatusText(text){\n        this.props.dispatch({\n            'type': 'chat_status_changed',\n            'data' : {text: text}\n        });\n    }\n\n    startVoiceRecording() {\n        this.setState({voiceMode: true});\n    }\n\n    cancelVoiceRecording() {\n        this.setState({voiceMode: false});\n    }\n\n    handleChange(event) {\n        this.setState({value: event.target.value});\n        helperFunctions.setSessionStorage('_ttxt',event.target.value);\n    }\n\n    onScrollMessages() {\n        if (this.messagesAreaRef.current) {\n            let scrollValue = this.messagesAreaRef.current.scrollHeight - this.messagesAreaRef.current.scrollTop;\n            // Scroll to bottom if from bottom there is already less than 70px\n            if ((scrollValue - this.messagesAreaRef.current.offsetHeight) > 70 ) {\n                if (this.state.scrollButton !== true) {\n                    this.setState({scrollButton: true});\n                }\n            } else if (this.state.scrollButton !== false) {\n                this.setState({scrollButton: false, otm: 0});\n            }\n        }\n    }\n\n    scrollToMessage() {\n\n        if (this.state.hasNew == true) {\n            clearTimeout(this.timeoutNewMessage);\n            this.timeoutNewMessage = setTimeout(() => {this.setState({hasNew: false, newId: 0})},1000);\n        }\n\n        if (this.state.hasNew == true && this.state.otm > 0) {\n            this.setState({otm: 0})\n            try {\n                document.getElementById('scroll-to-message').scrollIntoView();\n            } catch (e) {\n                this.scrollBottom();\n            }\n        } else {\n            this.scrollBottom();\n        }\n    }\n\n    changeFontAction(action){\n        this.setState({\n            fontSize: this.state.fontSize + (action == true ? 5 : -5)\n        });\n        helperFunctions.setLocalStorage('_dfs',this.state.fontSize);\n        this.scrollBottom();\n    }\n\n    componentDidMount() {\n\n        var txtTyping = helperFunctions.getSessionStorage('_ttxt');\n        if (txtTyping !== null) {\n            this.setState({value: txtTyping})\n        }\n\n        var defaultFontSize = helperFunctions.getLocalStorage('_dfs');\n        if (defaultFontSize !== null) {\n            this.setState({fontSize: parseInt(defaultFontSize)})\n        }\n\n        // We want to focus only if widget is open\n        var elm = document.getElementById('CSChatMessage');\n        if (elm !== null && ((this.props.chatwidget.get('shown') === true && this.props.chatwidget.get('mode') == 'widget') || this.props.chatwidget.get('mode') == 'popup')) {\n            elm.focus();\n\n            var elmtmp = document.getElementById('CSChatMessage-tmp');\n            if (elmtmp !== null) {\n                document.body.removeChild(elmtmp);\n            }\n        }\n    }\n\n    focusMessage() {\n        if (this.textMessageRef.current) {\n            this.textMessageRef.current.focus();\n            if (this.state.value.length > 0) {\n                this.textMessageRef.current.selectionStart = this.state.value.length;\n                this.textMessageRef.current.selectionEnd = this.state.value.length;\n            }\n        }\n    }\n\n    setEditorEnabled(status) {\n        this.setState({'enabledEditor' : status});\n    }\n\n    hasClass(el, name) {\n        return new RegExp('(\\\\s|^)'+name+'(\\\\s|$)').test(el.className);\n    }\n\n    addClass (el, name) {\n        if (!this.hasClass(el, name)) { el.className += (el.className ? ' ' : '') +name; }\n    }\n\n    removeClass(el, name) {\n        if (this.hasClass(el, name)) {\n            el.className=el.className.replace(new RegExp('(\\\\s|^)'+name+'(\\\\s|$)'),' ').replace(/^\\s+|\\s+$/g, '');\n        }\n    }\n\n    setMetaUpdateState(state) {\n\n        if (state === false && this.pendingMetaUpdate === true){\n            this.pendingMetaUpdate = false;\n            this.updateMetaAutoHide(true);\n            this.doScrollBottom();\n        }\n\n        if (state === true) {\n            this.pendingMetaUpdate = true;\n            this.updateMetaAutoHide();\n            this.doScrollBottom();\n        }\n\n    }\n\n    updateMetaAutoHide(hideFirst) {\n        var block = document.getElementById('messages-scroll');\n        var x = block.getElementsByClassName(\"meta-auto-hide\");\n        if (x.length > 0) {\n            var i;\n            var lengthHide = hideFirst ? 0 : 1;\n            for (i = 0; i < x.length - lengthHide ; i++) {\n                x[i].style.display = 'none';\n            }\n            var lastChild = block.lastChild;\n\n            // Checking not null not enough, because element can be text type\n            if (lastChild && typeof lastChild.getElementsByClassName !== 'undefined') {\n                x = lastChild.getElementsByClassName(\"meta-auto-hide\");\n                var i;\n                for (i = 0; i < x.length; i++) {\n                    x[i].style.display = '';\n                }\n            }\n        }\n    }\n\n    nextUntil(htmlElement, match, condition = true, any = false) {\n        var nextUntil = [],\n            until = true;\n\n        while (htmlElement = htmlElement.nextElementSibling) {\n            (until && htmlElement && !htmlElement.matches(match) == condition) ? nextUntil.push(htmlElement) : until = any;\n        }\n        return nextUntil;\n    }\n\n    sendDelay(params) {\n        var id = params['id'],\n         duration = params['duration'],\n         delay = params['delay'],\n         untillMessage = params['untill_message'],\n         msg = document.getElementById('msg-'+id);\n\n        if (!msg) {\n            return;\n        }\n\n        if (delay > 0) {\n            this.addClass(msg,'hide');\n        }\n\n        if (untillMessage == true && this.nextUntil(msg,'.message-admin', false, true).length > 0) {\n            return;\n        }\n\n        setTimeout( () => {\n            if (this.delayed == false) {\n                if (untillMessage == true) {\n\n                    // Call previous function if it exists\n                    if (this.intervalFunction !== null) {\n                        this.intervalFunction();\n                    }\n\n                    this.intervalFunction = () => {\n                        if (this.nextUntil(msg,'.message-admin', false, true).length > 0) {\n                            msg.parentNode.removeChild(msg);\n                            this.scrollBottom();\n                            this.intervalFunction = null;\n                            clearInterval(this.intervalPending);\n                        } else {\n                            if (!this.hasClass(msg,'meta-hider'))\n                            {\n                                this.addClass(msg,'meta-hider');\n                                this.addClass(msg,'message-row-typing');\n\n                                this.removeClass(msg,'hide');\n                                this.removeClass(msg,'fade-in-fast');\n\n                                var elementsBody = msg.getElementsByClassName(\"msg-body\");\n\n                                for (var item of elementsBody) {\n                                    this.removeClass(item, 'hide');\n                                }\n\n                                this.scrollBottom();\n                            }\n                        }\n                    }\n\n                    clearInterval(this.intervalPending);\n                    this.intervalPending = setInterval(this.intervalFunction,150);\n                } else {\n                    this.delayed = true;\n\n                    this.addClass(msg,'meta-hider');\n                    this.addClass(msg,'message-row-typing');\n\n                    this.nextUntil(msg,'.meta-hider').forEach((item) => {\n                        this.addClass(item,'hide');\n                    });\n\n                    this.unhideDelayedTimer = setTimeout(() => {\n                        this.unhideDelayed(id);\n                    }, duration * 1000);\n\n                    this.removeClass(msg,'hide');\n                    this.removeClass(msg,'fade-in-fast');\n\n                    var elementsBody = msg.getElementsByClassName(\"msg-body\");\n\n                    for (var item of elementsBody) {\n                        this.removeClass(item, 'hide');\n                    }\n\n                    if (delay > 0) {\n                        this.updateMetaAutoHide();\n                        this.scrollBottom();\n                    }\n                }\n\n            } else {\n                this.addClass(msg,'message-row-typing');\n                this.addClass(msg,'meta-hider');\n                this.delayQueue.push({'id' : id, 'delay' : duration});\n            }\n        },delay*1000);\n    }\n\n    unhideDelayed(id) {\n\n        var msg = document.getElementById('msg-'+id);\n\n        if (!msg) {\n            return;\n        }\n\n        this.nextUntil(msg,'.meta-hider').forEach((item) => {\n            this.removeClass(item,'hide');\n        });\n\n        msg.parentNode.removeChild(msg);\n\n        this.updateMetaAutoHide();\n        this.scrollBottom();\n\n        if (this.delayQueue.length > 0) {\n            var data = this.delayQueue.shift();\n\n            setTimeout(() => {\n                this.unhideDelayed(data.id);\n            }, data.delay * 1000);\n\n            var messageBlock = document.getElementById('msg-'+data.id);\n\n            if (messageBlock !== null) {\n                this.removeClass(messageBlock,'hide');\n                this.removeClass(messageBlock,'fade-in-fast');\n\n                var elementsBody = messageBlock.getElementsByClassName(\"msg-body\");\n\n                for (var item of elementsBody) {\n                    this.removeClass(item, 'hide');\n                }\n            }\n\n        } else {\n            this.delayed = false;\n        }\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.intervalPending);\n        clearInterval(this.typingStopped);\n        clearTimeout(this.unhideDelayedTimer);\n        clearTimeout(this.timeoutNewMessage);\n    }\n\n    // https://reactjs.org/blog/2018/03/27/update-on-async-rendering.html\n    getSnapshotBeforeUpdate(prevProps, prevState) {\n        // Are we adding new item\n        if (prevProps.chatwidget.getIn(['chatLiveData','messages']).size != this.props.chatwidget.getIn(['chatLiveData','messages']).size) {\n\n            let setScroll = false;\n            let setScrollBottom = true;\n            let scrollValue = 0;\n\n            if (this.messagesAreaRef.current) {\n                scrollValue = this.messagesAreaRef.current.scrollHeight - this.messagesAreaRef.current.scrollTop;\n\n                // Scroll to bottom if from bottom there is already less than 70px\n                if ((scrollValue - this.messagesAreaRef.current.offsetHeight) < 70) {\n                    scrollValue = 0;\n                } else {\n                    setScrollBottom = false\n                }\n\n                setScroll = true;\n            }\n\n            let hasNewMessages = this.state.hasNew;\n            let oldId = hasNewMessages == true ? this.state.newId : 0;\n            let otm = hasNewMessages == true ? this.state.otm : 0;\n\n            if (prevProps.chatwidget.getIn(['chatLiveData','messages']).size != 0 && this.props.chatwidget.getIn(['chatLiveData','uw']) === false) {\n                let widgetOpen = ((this.props.chatwidget.get('shown') && this.props.chatwidget.get('mode') == 'widget') || (this.props.chatwidget.get('mode') != 'widget' && document.hasFocus()));\n                if (hasNewMessages == false) {\n                    hasNewMessages = widgetOpen == false || window.lhcChat['is_focused'] == false || setScrollBottom == false;\n                    oldId = hasNewMessages == true ? prevProps.chatwidget.getIn(['chatLiveData','messages']).size : 0;\n                    otm = this.props.chatwidget.getIn(['chatLiveData','otm']);\n                } else {\n                    otm += this.props.chatwidget.getIn(['chatLiveData','otm']);\n                }\n\n                // Get last message\n                let msg = this.props.chatwidget.hasIn(['chat_ui','msg_snippet']) && this.props.chatwidget.getIn(['chatLiveData','messages',-1,'msg']);\n\n                helperFunctions.emitEvent('play_sound', [{msop: this.props.chatwidget.getIn(['chatLiveData','msop']), msg_body: msg, 'otm': otm, 'type' : 'new_message', 'sound_on' : (this.props.chatwidget.getIn(['usersettings','soundOn']) === true), 'widget_open' : widgetOpen}]);\n            } else {\n                hasNewMessages = false;\n                oldId = 0;\n                otm = 0;\n            }\n\n            this.setState({valueSend: false, hasNew: hasNewMessages, newId: oldId, otm: otm, scrollButton: !setScrollBottom});\n\n            if (setScroll == true) {\n                return (\n                    (scrollValue)\n                );\n            }\n\n        // Are we restoring widget visibility\n        } else if (prevProps.chatwidget.get('shown') === false && this.props.chatwidget.get('shown') === true) {\n            return 0;\n        } else if (this.props.chatwidget.getIn(['chatLiveData','error']) && (\n                (this.props.chatwidget.getIn(['chatLiveData','lmsg']) && (this.state.errorMode == false || this.props.chatwidget.getIn(['chatLiveData','lmsg']) != prevProps.chatwidget.getIn(['chatLiveData','lmsg']))) ||\n                (!this.props.chatwidget.getIn(['chatLiveData','lmsg']) && this.state.errorMode == false)))\n        {\n            this.setState({errorMode: true, valueSend: false, value: this.props.chatwidget.getIn(['chatLiveData','lmsg'])});\n        } else if (!this.props.chatwidget.getIn(['chatLiveData','error']) && prevProps.chatwidget.getIn(['chatLiveData','error'])) {\n            this.setState({errorMode: false, valueSend: false, value: ''});\n        }\n\n        return null;\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n\n        // Update untill we are sure that messages can be shown\n        if (this.state.showMessages === false || prevProps.chatwidget.getIn(['chatLiveData','status']) != this.props.chatwidget.getIn(['chatLiveData','status'])) {\n            if (this.props.chatwidget.get('newChat') == true && this.props.chatwidget.getIn(['chatLiveData','messages']).size == 1) {\n                this.scrollBottom(false, true);\n            } else {\n                this.scrollBottom(false, false);\n            }\n        }\n\n        var smartScroll = false;\n\n        if (\n            (prevState.enabledEditor === false && prevState.enabledEditor != this.state.enabledEditor) ||\n            (this.props.chatwidget.get('msgLoaded') !== prevProps.chatwidget.get('msgLoaded') && (this.props.chatwidget.get('newChat') == false || (smartScroll = true) == true))\n        ) {\n            if (smartScroll == false) {\n                this.scrollBottom(false, false);\n            } else {\n                this.scrollBottom(false, true);\n            }\n\n            if (!(this.props.chatwidget.getIn(['chat_ui','auto_start']) === true && this.props.chatwidget.get('mode') == 'embed') || (this.props.chatwidget.getIn(['chat_ui','auto_start']) === false && this.props.chatwidget.get('mode') == 'embed') || (prevState.enabledEditor === false && prevState.enabledEditor != this.state.enabledEditor)) {\n                this.focusMessage();\n                // Sometimes component is not rendered itself. We want to be 100% sure it will always have a focus.\n                setTimeout(() => {\n                    this.focusMessage();\n                },500);\n            }\n        }\n\n        if (snapshot !== null) {\n            if (this.messagesAreaRef.current) {\n                var msgScroller = document.getElementById('messages-scroll');\n                var messageElement = document.getElementById('msg-'+this.props.chatwidget.getIn(['chatLiveData','lfmsgid']));\n                if (msgScroller && messageElement && (msgScroller.scrollHeight - msgScroller.offsetHeight) > messageElement.offsetTop) {\n                    this.setState({scrollButton: true});\n                    this.messagesAreaRef.current.scrollTop = messageElement.offsetTop;\n                } else {\n                    this.messagesAreaRef.current.scrollTop = this.messagesAreaRef.current.scrollHeight - snapshot;\n                }\n            }\n        }\n\n        if (this.props.chatwidget.getIn(['chat_ui_state','confirm_close']) == 1 && this.state.preloadSurvey === false) {\n            this.setState({'preloadSurvey':true});\n        }\n\n        // Auto focus if it's show operation\n        if (prevProps.chatwidget.get('shown') === false && this.props.chatwidget.get('shown') === true && this.props.chatwidget.get('mode') == 'widget' && this.textMessageRef.current) {\n            this.textMessageRef.current.focus();\n        }\n\n        // We show start form instantly if it's enabled\n        if (this.props.chatwidget.getIn(['chat_ui','start_on_close']) === true && this.props.chatwidget.getIn(['chatLiveData','closed']) === true && (typeof prevProps.chatwidget.getIn(['chatLiveData','closed']) === 'undefined' || prevProps.chatwidget.hasIn(['chatLiveData','closed']) === false || prevProps.chatwidget.getIn(['chatLiveData','closed']) === false)) {\n            if (!this.props.chatwidget.getIn(['chat_ui','survey_id'])) {\n                this.props.endChat({\"show_start\": this.props.chatwidget.get('shown')});\n            }\n        }\n\n        if (this.props.chatwidget.getIn(['chatLiveData','closed']) === true && this.props.chatwidget.getIn(['chatLiveData','status_sub']) === 0 &&  prevProps.chatwidget.getIn(['chatLiveData','status_sub']) === 5) {\n            this.props.dispatch(initChatUI({\n                'id': this.props.chatwidget.getIn(['chatData','id']),\n                'hash' : this.props.chatwidget.getIn(['chatData','hash']),\n                'theme' :  this.props.chatwidget.get('theme')\n            }));\n        }\n\n        // At the moment not used because logic migrated to one time call componentDidMount\n        if (this.props.chatwidget.get('shown') === true && (this.props.chatwidget.get('mode') == 'widget' || this.props.chatwidget.get('mode') == 'embed') && this.props.chatwidget.get('initLoaded') === true && this.props.chatwidget.get('msgLoaded') === true && (prevProps.chatwidget.get('msgLoaded') == false || prevProps.chatwidget.get('initLoaded') == false)) {\n\n            if (this.props.chatwidget.get('mode') == 'widget') {\n                this.textMessageRef.current && this.textMessageRef.current.focus();\n            }\n\n            var elm = document.getElementById('CSChatMessage-tmp');\n            if (elm !== null) {\n                document.body.removeChild(elm);\n            }\n        }\n    }\n\n    doScrollBottom(smartScroll) {\n        if (this.messagesAreaRef.current) {\n            var messageElement;\n            if (smartScroll && (messageElement = document.getElementById('msg-'+this.props.chatwidget.getIn(['chatLiveData','lfmsgid']))) !== null) {\n                this.messagesAreaRef.current.scrollTop = messageElement.offsetTop;\n            } else {\n                this.messagesAreaRef.current.scrollTop = this.messagesAreaRef.current.scrollHeight + 1000;\n            }\n        }\n    }\n\n    scrollBottom(onlyIfAtBottom, smartScroll) {\n\n        if (this.messagesAreaRef.current && (!onlyIfAtBottom || !this.state.scrollButton)) {\n            this.doScrollBottom(smartScroll);\n            setTimeout(() => {\n                this.doScrollBottom(smartScroll);\n                if (this.state.showMessages === false) {\n                    this.setState({'showMessages':true});\n                }\n            },450);\n        }\n    }\n\n    abstractAction(action, params) {\n         helperFunctions.emitEvent(action, params);\n    }\n\n    updateMessages() {\n        var params = {\n            'chat_id': this.props.chatwidget.getIn(['chatData','id']),\n            'hash' : this.props.chatwidget.getIn(['chatData','hash']),\n            'lmgsid' : this.props.chatwidget.getIn(['chatLiveData','lmsgid']),\n            'theme' : this.props.chatwidget.get('theme'),\n            'new_chat' : this.props.chatwidget.get('newChat')\n        };\n\n        // If it's new chat check do we have last message from previous chat if so send it also\n        if (params.new_chat && params.lmgsid === 0) {\n            params['old_msg_id'] = this.props.chatwidget.getIn(['chatData','lmsg_id'])\n        }\n\n        this.props.dispatch(fetchMessages(params));\n    }\n\n    updateStatus() {\n        this.props.dispatch(checkChatStatus({\n            'chat_id': this.props.chatwidget.getIn(['chatData','id']),\n            'hash' : this.props.chatwidget.getIn(['chatData','hash']),\n            'theme' : this.props.chatwidget.get('theme'),\n            'mode' : this.props.chatwidget.get('mode')\n        }));\n    }\n\n    sendMessage() {\n\n        helperFunctions.setSessionStorage('_ttxt','');\n\n        this.props.dispatch(addMessage({\n            'id': this.props.chatwidget.getIn(['chatData','id']),\n            'hash' : this.props.chatwidget.getIn(['chatData','hash']),\n            'msg' : this.state.value,\n            'mn' : this.props.chatwidget.hasIn(['chat_ui','mn']),\n            'theme' : this.props.chatwidget.get('theme'),\n            'lmgsid' : this.props.chatwidget.getIn(['chatLiveData','lmsgid'])\n        }));\n\n        this.setState({value: '',valueSend: true, errorMode : false});\n\n        this.currentMessageTyping = '';\n        this.focusMessage();\n        this.doScrollBottom();\n    }\n\n    enterKeyDown(e) {\n        if (e.key === 'Enter' && !e.shiftKey) {\n            this.sendMessage();\n            e.preventDefault();\n        }\n    }\n\n    keyUp(e) {\n        if (e.key !== 'Enter' && !e.shiftKey) {\n            if (this.isTyping === false) {\n                this.isTyping = true;\n                this.props.dispatch(userTyping('true',this.state.value));\n            } else {\n                clearTimeout(this.typingStopped);\n                this.typingStopped = setTimeout(this.typingStoppedAction, 6000);\n                if (this.currentMessageTyping != this.state.value ) {\n                    if (Math.abs(this.currentMessageTyping.length - this.state.value.length) > 6 || this.props.chatwidget.get('overrides').contains('typing')) {\n                        this.currentMessageTyping = this.state.value;\n                        this.props.dispatch(userTyping('true',this.state.value));\n                    }\n                }\n            }\n        }\n    }\n\n    typingStoppedAction() {\n        if (this.isTyping == true) {\n            this.isTyping = false;\n            this.props.dispatch(userTyping('false'));\n        }\n    }\n\n    endChat() {\n        this.props.endChat();\n    }\n\n    toggleModal() {\n        this.setState({\n            showBBCode: !this.state.showBBCode\n        });\n\n        if (this.state.showBBCode) {\n            this.focusMessage()\n        }\n    }\n\n    mailChat() {\n        this.setState({\n            showMail: !this.state.showMail\n        });\n    }\n\n    changeFont() {\n        this.setState({\n            changeFontSize: !this.state.changeFontSize\n        });\n    }\n\n    voiceCall() {\n\n        const dualScreenLeft = window.screenLeft !==  undefined ? window.screenLeft : window.screenX;\n        const dualScreenTop = window.screenTop !==  undefined   ? window.screenTop  : window.screenY;\n\n        const width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n        const height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n\n        const systemZoom = width / window.screen.availWidth;\n        const left = (width - parseInt(800)) / 2 / systemZoom + dualScreenLeft;\n        const top = (height - parseInt(600)) / 2 / systemZoom + dualScreenTop;\n\n        var paramsWindow = \"scrollbars=yes,menubar=1,resizable=1,width=800,height=600,top=\" + top + \",left=\" + left;\n        var newWin = window.open(\"\", helperFunctions.prefix + '_voice_popup_v2', paramsWindow);\n        var needWindow = false;\n        var windowCreated = false;\n\n        // First try to find any existing window\n        try {\n            // It has to be new window or popup was blocked\n            if (!newWin || newWin.closed || typeof newWin.closed=='undefined' || newWin.location.href === \"about:blank\") {\n                newWin = window.open(this.props.chatwidget.get('base_url') + \"voicevideo/call/\" + this.props.chatwidget.getIn(['chatData', 'id']) + '/' + this.props.chatwidget.getIn(['chatData', 'hash']), helperFunctions.prefix + '_voice_popup_v2', paramsWindow);\n                windowCreated = true;\n            } else {\n                needWindow = true;\n            }\n        } catch (e) { // We get cross-origin error only if window exist and it's location is other one than about:blank\n            needWindow = true;\n        }\n\n        // Now if visitor has blocked popup change chat status link and just allow browser handle the rest.\n        if (!newWin || newWin.closed || typeof newWin.closed=='undefined') {\n            try {\n                // Change href to open window\n            } catch (e) {\n                alert('You have disabled popups!');\n            }\n        } else if (windowCreated == true) {\n            /*typeof chatEvents !== 'undefined' && chatEvents.sendChildEvent('endedChat', [{'sender': 'endButton'}]);\n            typeof paramsPopup !== 'undefined' && paramsPopup.event !== 'undefined' && paramsPopup.event.preventDefault();*/\n        } else if (needWindow === true) {\n            newWin.focus();\n        }\n\n    }\n\n    toggleSound() {\n        this.props.dispatch({type : 'toggleSound', data: !this.props.chatwidget.getIn(['usersettings','soundOn'])});\n        helperFunctions.sendMessageParent('toggleSound', [{'sender' : 'toolbarButton'}]);\n    }\n\n    // http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/\n    insertText = (text) => {\n        var caretPos = this.textMessageRef.current.selectionStart;\n        this.setState({value: (this.state.value.substring(0, caretPos) + text + this.state.value.substring(caretPos))});\n    }\n\n    render() {\n        const { t } = this.props;\n\n        if (this.props.chatwidget.get('initLoaded') === false || this.props.chatwidget.get('msgLoaded') === false) {\n\n                var msg_expand = \"flex-grow-1 overflow-scroll position-relative\";\n\n                if (this.props.chatwidget.hasIn(['chat_ui','msg_expand'])) {\n                    msg_expand = \"overflow-scroll position-relative\";\n                }\n\n                return <ChatIntroStatus profileBefore={this.props.profileBefore} msg_expand={msg_expand} messagesBefore={this.props.messagesBefore} placeholderMessage={this.props.chatwidget.hasIn(['chat_ui','placeholder_message']) ? this.props.chatwidget.getIn(['chat_ui','placeholder_message']) : t('chat.type_here')} />;\n        }\n        \n        if (this.props.chatwidget.hasIn(['chatLiveData','ru']) && this.props.chatwidget.getIn(['chatLiveData','ru'])) {\n\n            location = this.props.chatwidget.get('base_url') + this.props.chatwidget.getIn(['chatLiveData','ru']);\n\n            return (\n                <React.Fragment>\n                    <iframe allowtransparency=\"true\" src={location} frameBorder=\"0\" className=\"flex-grow-1 position-relative iframe-modal\"/>\n                </React.Fragment>\n            )\n\n        } else {\n\n            if (this.props.chatwidget.get('chatLiveData').has('messages')) {\n                var messages = this.props.chatwidget.getIn(['chatLiveData','messages']).map((msg, index) =><ChatMessage profilePic={this.props.chatwidget.get('profile_pic')} newTitle={this.props.chatwidget.getIn(['chat_ui','cnew_msgh']) || t('button.new')} newId={this.state.newId} hasNew={this.state.hasNew} voiceCall={this.voiceCall} endChat={this.props.endChat} setMetaUpdateState={this.setMetaUpdateState} sendDelay={this.sendDelay} setEditorEnabled={this.setEditorEnabled} abstractAction={this.abstractAction} updateStatus={this.updateStatus} focusMessage={this.focusMessage} updateMessages={this.updateMessages} scrollBottom={this.scrollBottom} id={index} key={'msg_'+index} msg={msg} />);\n            } else {\n                var messages = \"\";\n            }\n\n            var placeholder = '';\n            if (this.state.dragging === true) {\n                placeholder = t('chat.drop_files');\n            } else if (this.props.chatwidget.getIn(['chatLiveData','closed'])) {\n                placeholder = t('chat.chat_closed');\n            } else {\n                placeholder = this.props.chatwidget.hasIn(['chat_ui','placeholder_message']) ? this.props.chatwidget.getIn(['chat_ui','placeholder_message']) : t('chat.type_here');\n            }\n\n            var msg_expand = \"flex-grow-1 overflow-scroll position-relative\";\n            var bottom_messages = \"bottom-message px-1\";\n\n            if (this.props.chatwidget.hasIn(['chat_ui','msg_expand']) && this.props.chatwidget.get('mode') == 'embed') {\n                msg_expand = \"overflow-scroll position-relative\";\n                bottom_messages += \" position-relative\";\n            }\n\n            var message_send_style = \"mx-auto w-100\";\n\n            if (this.props.chatwidget.getIn(['chatLiveData','closed']) == true) {\n                message_send_style += (this.props.chatwidget.get('mode') == 'embed' ? ' pr-2' : ' pr-1');\n            }\n\n            /**\n             * Survey handling logic\n             * */\n            var showChat = true;\n            var preloadSurvey = false;\n            var forceSurvey = false;\n\n            var location = \"\";\n            var classSurvey = \"flex-grow-1 position-relative iframe-modal content-loader\";\n\n            var validSurveyState = (this.props.chatwidget.hasIn(['chatLiveData','status_sub']) &&\n                    (\n                        this.props.chatwidget.getIn(['chatLiveData','status_sub']) == STATUS_SUB_SURVEY_SHOW\n                    ||\n                        (\n                            this.props.chatwidget.getIn(['chatLiveData','status_sub']) == STATUS_SUB_USER_CLOSED_CHAT &&\n                            (\n                                this.props.chatwidget.getIn(['chatLiveData','uid']) > 0 || this.props.chatwidget.getIn(['chatLiveData','status']) === STATUS_BOT_CHAT || this.props.chatwidget.getIn(['chatLiveData','status']) == STATUS_CLOSED_CHAT\n                            )\n                        )\n                    )\n                )\n                ||\n                (this.props.chatwidget.getIn(['chatLiveData','status']) == STATUS_CLOSED_CHAT && this.props.chatwidget.getIn(['chatLiveData','uid']) > 0) ||\n                this.state.gotToSurvey === true;\n\n            if ((this.props.chatwidget.hasIn(['chatLiveData','status_sub']) && this.props.chatwidget.getIn(['chatLiveData','status_sub']) == STATUS_SUB_SURVEY_SHOW) || (\n                this.props.chatwidget.getIn(['chatLiveData','status']) == STATUS_CLOSED_CHAT &&\n                this.props.chatwidget.getIn(['chatLiveData','status_sub']) != STATUS_SUB_USER_CLOSED_CHAT\n            )) {\n                forceSurvey = true;\n            }\n\n            if ((this.state.preloadSurvey === true || validSurveyState) && this.props.chatwidget.hasIn(['chat_ui','survey_id'])) {\n                location = this.props.chatwidget.get('base_url') + \"survey/fillwidget/(chatid)/\" + this.props.chatwidget.getIn(['chatData', 'id']) + \"/(hash)/\" + this.props.chatwidget.getIn(['chatData', 'hash']);\n\n                if (this.props.chatwidget.get('theme')) {\n                    location = location + '/(theme)/' + this.props.chatwidget.get('theme');\n                }\n\n                location = location + '/(survey)/' + this.props.chatwidget.getIn(['chat_ui', 'survey_id']) + (forceSurvey === true ? '/(force)/true' : '');\n                \n                if (this.props.chatwidget.hasIn(['chat_ui', 'survey_url'])) {\n                    location = this.props.chatwidget.getIn(['chat_ui', 'survey_url']).replace('{chat_id}',this.props.chatwidget.getIn(['chatData', 'id'])).replace('{chat_hash}',this.props.chatwidget.getIn(['chatData', 'hash'])) + (forceSurvey === true ? '?force=true' : '');\n                }\n\n                preloadSurvey = true;\n\n                showChat = false;\n\n                if (\n                    (validSurveyState === false) ||\n                    (this.props.chatwidget.hasIn(['chat_ui','survey_button']) && this.props.chatwidget.getIn(['chat_ui_state','show_survey']) === 0 &&\n                        this.props.chatwidget.getIn(['chatLiveData','status']) == STATUS_CLOSED_CHAT &&\n                        this.props.chatwidget.getIn(['chatLiveData','status_sub']) != STATUS_SUB_SURVEY_SHOW &&\n                        this.props.chatwidget.getIn(['chatLiveData','status_sub']) != STATUS_SUB_USER_CLOSED_CHAT\n                    ) ||\n                    (this.props.chatwidget.getIn(['chat_ui_state','confirm_close']) == 1)\n                ) {\n                    showChat = true;\n                    classSurvey = \" d-none\";\n                }\n            }\n\n            const endTitle = this.props.chatwidget.getIn(['chat_ui','end_chat_text']) || t('button.end_chat');\n\n            const fontSizeStyle = {fontSize: (this.props.chatwidget.hasIn(['chat_ui','font_size']) ? this.state.fontSize : '100') + '%'};\n\n            return (\n                <React.Fragment>\n\n                    {this.props.chatwidget.getIn(['chatLiveData','abort']) && <ChatAbort closeText={t('button.close')} close={(e) => this.props.dispatch(minimizeWidget(true))} text={this.props.chatwidget.getIn(['chatLiveData','abort'])} />}\n\n                    {preloadSurvey && <iframe allowtransparency=\"true\" src={location} frameBorder=\"0\" className={classSurvey} />}\n\n                    {(showChat || preloadSurvey) && <ChatSync hasSurvey={preloadSurvey} syncInterval={this.props.chatwidget.getIn(['chat_ui','sync_interval'])} updateStatus={this.updateStatus} updateMessages={this.updateMessages} initClose={this.props.chatwidget.get('initClose')} dispatch={this.props.dispatch} status_sub={this.props.chatwidget.getIn(['chatLiveData','status_sub'])} status={this.props.chatwidget.getIn(['chatLiveData','status'])} theme={this.props.chatwidget.get('theme')} lmgsid={this.props.chatwidget.getIn(['chatLiveData','lmsgid'])} hash={this.props.chatwidget.getIn(['chatData','hash'])} chat_id={this.props.chatwidget.getIn(['chatData','id'])} />}\n\n                    {showChat && <React.Fragment>\n\n                    {this.props.chatwidget.getIn(['chat_ui_state','confirm_close']) == 1 && <ChatModal confirmClose={this.props.endChat} cancelClose={this.props.cancelClose} toggle={this.props.cancelClose} dataUrl={\"/chat/confirmleave/\"+this.props.chatwidget.getIn(['chatData','id'])+\"/\"+this.props.chatwidget.getIn(['chatData','hash'])} />}\n\n                    {this.state.showBBCode && <ChatModal showModal={this.state.showBBCode} insertText={this.insertText} toggle={this.toggleModal} dataUrl={\"/chat/bbcodeinsert?react=1\"} />}\n\n                    {this.state.showMail && <Suspense fallback=\"...\"><MailModal showModal={this.state.showMail} changeFont={this.changeFont} toggle={this.mailChat} chatHash={this.props.chatwidget.getIn(['chatData','hash'])} chatId={this.props.chatwidget.getIn(['chatData','id'])} /></Suspense>}\n\n                    {this.state.changeFontSize && <Suspense fallback=\"...\"><FontSizeModal showModal={this.state.changeFontSize} toggle={this.changeFont} changeFont={this.changeFontAction} /></Suspense>}\n\n                    {this.props.chatwidget.get('mode') == 'embed' && this.props.chatwidget.hasIn(['chat_ui','embed_cls']) && this.props.chatwidget.getIn(['chat_ui','embed_cls']) == 1 && <div className=\"close-modal-btn position-absolute\">\n                        {this.props.chatwidget.hasIn(['chat_ui','close_btn']) && <a onClick={this.endChat} title={endTitle} ><i className=\"material-icons settings text-muted\">&#xf10a;</i><span className=\"embed-close-title\">{endTitle}</span></a>}\n                    </div>}\n\n                    {this.props.chatwidget.hasIn(['chatStatusData','result']) && !this.props.chatwidget.hasIn(['chat_ui','hide_status']) && this.props.chatwidget.getIn(['chatStatusData','result']) && <div id=\"chat-status-container\" className={\"p-2 border-bottom live-status-\"+this.props.chatwidget.getIn(['chatLiveData','status'])}><ChatStatus updateStatus={this.updateStatus} vtm={this.props.chatwidget.hasIn(['chat_ui','switch_to_human']) && this.props.chatwidget.getIn(['chatLiveData','status']) == STATUS_BOT_CHAT ? this.props.chatwidget.getIn(['chatLiveData','vtm']) : 0} status={this.props.chatwidget.getIn(['chatStatusData','result'])} /></div>}\n\n                    <div className={msg_expand} id=\"messagesBlock\" onScroll={this.onScrollMessages}>\n                        <div className={bottom_messages} id=\"messages-scroll\" style={fontSizeStyle} ref={this.messagesAreaRef}>\n                            {this.props.chatwidget.hasIn(['chat_ui','prev_chat']) && <div dangerouslySetInnerHTML={{__html:this.props.chatwidget.getIn(['chat_ui','prev_chat'])}}></div>}\n                            {messages}\n                        </div>\n                        {this.state.scrollButton && <div className=\"position-absolute btn-bottom-scroll fade-in\"><button type=\"button\" onClick={this.scrollToMessage} className=\"btn btn-sm btn-secondary\">{(this.state.hasNew && this.state.otm > 0 && <div><i className=\"material-icons\">&#xf11a;</i>{this.state.otm} {(this.state.otm == 1 ? (this.props.chatwidget.getIn(['chat_ui','cnew_msg']) || t('button.new_msg')) : (this.props.chatwidget.getIn(['chat_ui','cnew_msgm']) || t('button.new_msgm')))}</div>) || (this.props.chatwidget.getIn(['chat_ui','cscroll_btn']) || t('button.scroll_bottom'))}</button></div>}\n                    </div>\n\n                    <div className={(this.props.chatwidget.get('msgLoaded') === false || this.state.enabledEditor === false ? 'd-none ' : 'd-flex ') + \"flex-row border-top position-relative message-send-area\"} >\n                        {(this.props.chatwidget.getIn(['chatLiveData','ott']) || (this.props.chatwidget.getIn(['chatLiveData','error']) && this.props.chatwidget.getIn(['chatLiveData','error']) != 'SEND_CONNECTION') || this.props.chatwidget.get('network_down')) && <div id=\"id-operator-typing\" className=\"bg-white pl-1\">{this.props.chatwidget.getIn(['chatLiveData','error']) ? (this.props.chatwidget.getIn(['chatLiveData','error']).indexOf('SEND_') === -1 ? this.props.chatwidget.getIn(['chatLiveData','error']) : t('online_chat.'+this.props.chatwidget.getIn(['chatLiveData','error']).toLowerCase())) : (this.props.chatwidget.get('network_down') ? t('online_chat.send_connection') : this.props.chatwidget.getIn(['chatLiveData','ott']))}</div>}\n\n                        {this.props.chatwidget.get('mode') == 'embed' && this.props.chatwidget.hasIn(['chat_ui','embed_cls']) && this.props.chatwidget.getIn(['chat_ui','embed_cls']) == 2 && <div className=\"inline-cls-btn pt-1 pl-2\">\n                            {this.props.chatwidget.hasIn(['chat_ui','close_btn']) && <a onClick={this.endChat} title={endTitle} ><i className=\"material-icons settings text-muted mr-0\">&#xf10a;</i></a>}\n                        </div>}\n\n                        <ChatOptions elementId=\"chat-dropdown-options\">\n                            <div className=\"btn-group dropup disable-select pl-1 pt-2\">\n                                <i className=\"material-icons settings text-muted\" id=\"chat-dropdown-options\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">&#xf100;</i>\n                                <div className={\"dropdown-menu shadow bg-white rounded lhc-dropdown-menu ml-1 \"+(window.lhcChat['staticJS']['dir'] == 'rtl' ? \"dropdown-menu-right\" : \"\")}>\n                                    <div className=\"d-flex flex-row pl-1\">\n                                        <a onClick={this.toggleSound} title={t('chat.option_sound')}><i className=\"material-icons chat-setting-item text-muted\">{this.props.chatwidget.getIn(['usersettings','soundOn']) === true ? <React.Fragment>&#xf102;</React.Fragment> : <React.Fragment>&#xf101;</React.Fragment>}</i></a>\n                                        {this.props.chatwidget.hasIn(['chat_ui','print']) && <a target=\"_blank\" href={this.props.chatwidget.get('base_url') + \"chat/printchat/\" +this.props.chatwidget.getIn(['chatData','id']) + \"/\" + this.props.chatwidget.getIn(['chatData','hash'])} title={t('button.print')}><i className=\"material-icons chat-setting-item text-muted\">&#xf10c;</i></a>}\n                                        {!this.props.chatwidget.getIn(['chatLiveData','closed']) && this.props.chatwidget.hasIn(['chat_ui','file']) && <ChatFileUploader fileOptions={this.props.chatwidget.getIn(['chat_ui','file_options'])} onDrag={this.dragging} dropArea={this.textMessageRef} onCompletion={this.updateMessages} progress={this.setStatusText} base_url={this.props.chatwidget.get('base_url')} chat_id={this.props.chatwidget.getIn(['chatData','id'])} hash={this.props.chatwidget.getIn(['chatData','hash'])} link={true}/>}\n                                        {!this.props.chatwidget.getIn(['chatLiveData','closed']) && this.props.chatwidget.getIn(['chatLiveData','status']) == 1 && this.props.chatwidget.hasIn(['chat_ui','voice']) && <a onClick={this.voiceCall} title={t('button.voice')}><i className=\"material-icons chat-setting-item text-muted\">&#xf117;</i></a>}\n                                        {!this.props.chatwidget.getIn(['chatLiveData','closed']) && !this.props.chatwidget.hasIn(['chat_ui','bbc_btnh']) && <a onClick={this.toggleModal} title={t('button.bb_code')}><i className=\"material-icons chat-setting-item text-muted\">&#xf104;</i></a>}\n                                        {this.props.chatwidget.hasIn(['chat_ui','mail']) && <a onClick={this.mailChat} title={t('button.mail')} ><i className=\"material-icons chat-setting-item text-muted\">&#xf11a;</i></a>}\n                                        {this.props.chatwidget.hasIn(['chat_ui','font_size']) && <a onClick={(event) => this.changeFont(event)}><i className=\"material-icons chat-setting-item text-muted\">&#xf11d;</i></a>}\n                                        {this.props.chatwidget.hasIn(['chat_ui','close_btn']) && <a onClick={this.endChat} title={endTitle} ><i className=\"material-icons chat-setting-item text-muted\">&#xf10a;</i></a>}\n                                    </div>\n                                </div>\n                            </div>\n                        </ChatOptions>\n\n                        <div className={message_send_style}>\n                            {this.props.chatwidget.getIn(['chatLiveData','closed']) && this.props.chatwidget.hasIn(['chat_ui','survey_id']) && <button onClick={this.goToSurvey} className=\"w-100 btn btn-success\">{t('online_chat.go_to_survey')}</button>}\n                            {(!this.props.chatwidget.getIn(['chatLiveData','closed']) || !this.props.chatwidget.hasIn(['chat_ui','survey_id'])) && <textarea onTouchStart={this.scrollBottom} maxLength={this.props.chatwidget.getIn(['chat_ui','max_length'])} onKeyUp={this.keyUp} readOnly={this.props.chatwidget.getIn(['chatLiveData','closed']) || this.props.chatwidget.get('network_down')} id=\"CSChatMessage\" placeholder={placeholder} onKeyDown={this.enterKeyDown} value={!this.props.chatwidget.getIn(['chatLiveData','closed']) ? this.state.value : ''} onChange={this.handleChange} ref={this.textMessageRef} rows=\"1\" className={\"pl-0 no-outline form-control rounded-0 form-control border-left-0 border-right-0 border-0 \"+((this.props.chatwidget.get('shown') === true && this.textMessageRef.current && (/\\r|\\n/.exec(this.state.value) || (this.state.value.length > this.textMessageRef.current.offsetWidth/8.6))) ? 'msg-two-line' : 'msg-one-line')} />}\n                        </div>\n\n                        {!this.props.chatwidget.getIn(['chatLiveData','closed']) && !this.props.chatwidget.get('network_down') && <div className=\"disable-select\">\n\n                                <div className=\"user-chatwidget-buttons pt-1 pr-1\" id=\"ChatSendButtonContainer\">\n\n                                    {this.state.voiceMode === true && <Suspense fallback=\"...\"><VoiceMessage onCompletion={this.updateMessages} progress={this.setStatusText} base_url={this.props.chatwidget.get('base_url')} chat_id={this.props.chatwidget.getIn(['chatData','id'])} hash={this.props.chatwidget.getIn(['chatData','hash'])} maxSeconds=\"30\" cancel={this.cancelVoiceRecording} /></Suspense>}\n\n                                    {!this.state.valueSend && this.props.chatwidget.hasIn(['chat_ui','voice_message']) && typeof window.Audio !== \"undefined\" && this.state.value.length == 0 && this.state.voiceMode === false && <a onClick={this.startVoiceRecording} title={t('button.record_voice')}>\n                                       <i className=\"material-icons text-muted settings mr-0\">&#xf10b;</i>\n                                    </a>}\n\n                                    {!this.state.valueSend && (!this.props.chatwidget.hasIn(['chat_ui','voice_message']) || !(typeof window.Audio !== \"undefined\") || (this.state.value.length > 0 && this.state.voiceMode === false)) && <a onClick={this.sendMessage} title={t('button.send')}>\n                                       <i className=\"material-icons text-muted settings mr-0\">&#xf107;</i>\n                                    </a>}\n\n                                    {this.state.valueSend && <i className=\"material-icons text-muted settings mr-0\">&#xf113;</i>}\n\n                                </div>\n\n                        </div>}\n\n\n\n                    </div>\n                    </React.Fragment>}\n\n                </React.Fragment>\n            );\n        }\n    }\n}\n\nexport default withTranslation()(OnlineChat);\n","\"use strict\";function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}const defaults={threshold:50,passive:!1};class Xwiper{constructor(a,b={}){this.options=_objectSpread(_objectSpread({},defaults),b),this.element=null,this.touchStartX=0,this.touchStartY=0,this.touchEndX=0,this.touchEndY=0,this.onSwipeLeftAgent=null,this.onSwipeRightAgent=null,this.onSwipeUpAgent=null,this.onSwipeDownAgent=null,this.onTapAgent=null,this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onSwipeLeft=this.onSwipeLeft.bind(this),this.onSwipeRight=this.onSwipeRight.bind(this),this.onSwipeUp=this.onSwipeUp.bind(this),this.onSwipeDown=this.onSwipeDown.bind(this),this.onTap=this.onTap.bind(this),this.destroy=this.destroy.bind(this),this.handleGesture=this.handleGesture.bind(this);let c=!!this.options.passive&&{passive:!0};this.element=a instanceof EventTarget?a:document.querySelector(a),this.element.addEventListener(\"touchstart\",this.onTouchStart,c),this.element.addEventListener(\"touchend\",this.onTouchEnd,c)}onTouchStart(a){this.touchStartX=a.changedTouches[0].screenX,this.touchStartY=a.changedTouches[0].screenY}onTouchEnd(a){this.touchEndX=a.changedTouches[0].screenX,this.touchEndY=a.changedTouches[0].screenY,this.handleGesture()}onSwipeLeft(a){this.onSwipeLeftAgent=a}onSwipeRight(a){this.onSwipeRightAgent=a}onSwipeUp(a){this.onSwipeUpAgent=a}onSwipeDown(a){this.onSwipeDownAgent=a}onTap(a){this.onTapAgent=a}destroy(){this.element.removeEventListener(\"touchstart\",this.onTouchStart),this.element.removeEventListener(\"touchend\",this.onTouchEnd)}handleGesture(){return this.touchEndX+this.options.threshold<=this.touchStartX?(this.onSwipeLeftAgent&&this.onSwipeLeftAgent(),\"swiped left\"):this.touchEndX-this.options.threshold>=this.touchStartX?(this.onSwipeRightAgent&&this.onSwipeRightAgent(),\"swiped right\"):this.touchEndY+this.options.threshold<=this.touchStartY?(this.onSwipeUpAgent&&this.onSwipeUpAgent(),\"swiped up\"):this.touchEndY-this.options.threshold>=this.touchStartY?(this.onSwipeDownAgent&&this.onSwipeDownAgent(),\"swiped down\"):this.touchEndY===this.touchStartY?(this.onTapAgent&&this.onTapAgent(),\"tap\"):void 0}}module.exports=Xwiper;"],"names":["module","exports","arr","Array","isArray","i","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","arrayWithHoles","iterableToArrayLimit","nonIterableRest","ChatAbort","props","className","role","id","tabIndex","this","text","onClick","close","type","closeText","PureComponent","ChatModal","body","toggle","e","t","txtToAdd","link","prompt","insertText","axios","window","lhcChat","dataUrl","then","response","setState","data","container","document","getElementById","bsn","require","tabs","querySelectorAll","activeTab","forEach","element","Tab","xwiper","Xwiper","onSwipeLeft","show","onSwipeRight","catch","console","log","state","parse","replace","domNode","attribs","dismissModal","bbitem","class","generalOnClick","domToReact","children","name","generalDataActionClick","setTimeout","newScript","createElement","appendChild","createTextNode","getElementsByTagName","item","src","withTranslation","ChatMessage","jsExecuted","abstractClick","bind","imageLoaded","updateTriggerClicked","disableEditor","delayData","attrs","setAttribute","innerHTML","onchange","addLoader","target","onclick","indexOf","dispatch","subscribeNotifications","removeMetaMessage","voiceCall","abstractAction","mainType","args","JSON","more","classList","contains","innerText","remove","add","parseScript","list","alert","helperFunctions","preventDefault","elm","checked","removeAttribute","optionSelected","options","selectedIndex","attrLoad","getAttribute","messageId","block","x","getElementsByClassName","parentNode","removeChild","paramsType","payload","processed","updateMessages","updateStatus","scrollBottom","setMetaUpdateState","msg","setEditorEnabled","sendDelay","str","splitted","split","slice","map","word","toUpperCase","join","style","el","property","formattedProperty","formatStringToCamelCase","trim","operatorChanged","messages","cloneAttr","assign","profilePic","onLoad","alt","title","getStyleObjectFromString","onChange","hasNew","newId","newTitle","connect","ChatFileUploader","hightlight","files","uploading","uploadProgress","successfullUploaded","fileInputRef","React","openFileDialog","onFilesAddedUI","onDragOver","onDragLeave","onDrop","onPaste","onFilesAdded","uploadFiles","sendRequest","ruleTest","RegExp","fileOptions","get","uploadErrors","file","test","size","prevProps","prevState","promises","Promise","all","resolve","reject","req","XMLHttpRequest","upload","addEventListener","event","lengthComputable","percentage","loaded","total","progress","Math","round","onCompletion","copy","formData","FormData","append","open","base_url","chat_id","hash","send","current","click","evt","array","fileListToArray","onDrag","dropArea","ondragover","ondragleave","ondrop","removeEventListener","items","clipboardData","getAsFile","dataTransfer","ref","multiple","has","ChatSync","intervalId","intervalCheckStatusId","syncChat","checkStatusChat","issueUpdate","clearTimeout","syncInterval","status","STATUS_CLOSED_CHAT","status_sub","STATUS_SUB_SURVEY_SHOW","STATUS_SUB_USER_CLOSED_CHAT","STATUS_SUB_CONTACT_FORM","initClose","hasSurvey","STATUS_BOT_CHAT","STATUS_ACTIVE_CHAT","ChatOptions","dropdown","elementId","Dropdown","store","chat","chatwidget","chat_ui","checkSwitchButtom","voteAction","transferToHumanAction","vtm","isonline","transferButton","snapshot","ChatIntroStatus","profileBefore","dangerouslySetInnerHTML","__html","msg_expand","messagesBefore","hideMessageField","placeholder","placeholderMessage","rows","VoiceMessage","MailModal","FontSizeModal","OnlineChat","valueSend","showBBCode","mailChat","dragging","enabledEditor","showMessages","preloadSurvey","gotToSurvey","voiceMode","showMail","changeFontSize","errorMode","scrollButton","fontSize","otm","caretPos","textMessageRef","selectionStart","substring","initChatUI","getIn","enterKeyDown","handleChange","sendMessage","endChat","changeFont","toggleModal","setStatusText","focusMessage","unhideDelayed","toggleSound","goToSurvey","startVoiceRecording","cancelVoiceRecording","onScrollMessages","scrollToMessage","changeFontAction","messagesAreaRef","updateMetaAutoHide","keyUp","delayed","delayQueue","intervalPending","intervalFunction","unhideDelayedTimer","pendingMetaUpdate","timeoutNewMessage","isTyping","typingStopped","typingStoppedAction","currentMessageTyping","attr","scrollHeight","scrollTop","offsetHeight","scrollIntoView","action","txtTyping","defaultFontSize","parseInt","focus","elmtmp","selectionEnd","hasClass","doScrollBottom","hideFirst","lengthHide","display","lastChild","htmlElement","match","condition","any","nextUntil","until","nextElementSibling","matches","params","duration","delay","untillMessage","addClass","clearInterval","removeClass","setInterval","shift","messageBlock","setScroll","setScrollBottom","scrollValue","hasNewMessages","oldId","widgetOpen","hasFocus","hasIn","msop","msg_body","smartScroll","msgScroller","messageElement","offsetTop","onlyIfAtBottom","new_chat","lmgsid","fetchMessages","checkChatStatus","addMessage","key","shiftKey","userTyping","abs","dualScreenLeft","screenLeft","screenX","dualScreenTop","screenTop","screenY","width","innerWidth","documentElement","clientWidth","screen","height","innerHeight","clientHeight","systemZoom","availWidth","left","paramsWindow","newWin","needWindow","windowCreated","closed","location","href","allowtransparency","frameBorder","index","bottom_messages","message_send_style","showChat","forceSurvey","classSurvey","validSurveyState","endTitle","fontSizeStyle","minimizeWidget","theme","confirmClose","cancelClose","showModal","Suspense","fallback","chatHash","chatId","onScroll","toLowerCase","onTouchStart","maxLength","onKeyUp","readOnly","onKeyDown","exec","offsetWidth","maxSeconds","cancel","Audio","Component","ownKeys","a","b","c","keys","getOwnPropertySymbols","d","filter","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","arguments","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","configurable","writable","defaults","threshold","passive","constructor","touchStartX","touchStartY","touchEndX","touchEndY","onSwipeLeftAgent","onSwipeRightAgent","onSwipeUpAgent","onSwipeDownAgent","onTapAgent","onTouchEnd","onSwipeUp","onSwipeDown","onTap","destroy","handleGesture","EventTarget","querySelector","changedTouches"],"sourceRoot":""}