(window["webpackJsonpLHCReactAPP"] = window["webpackJsonpLHCReactAPP"] || []).push([[1],{

/***/ "./src/components/OfflineChat.js":
/*!***************************************!*\
  !*** ./src/components/OfflineChat.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var _ChatField__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ChatField */ \"./src/components/ChatField.js\");\n/* harmony import */ var _StartChat__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./StartChat */ \"./src/components/StartChat.js\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-i18next */ \"./node_modules/react-i18next/dist/es/index.js\");\n/* harmony import */ var _actions_chatActions__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../actions/chatActions */ \"./src/actions/chatActions.js\");\n/* harmony import */ var _lib_helperFunctions__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../lib/helperFunctions */ \"./src/lib/helperFunctions.js\");\n/* harmony import */ var _ChatDepartment__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ChatDepartment */ \"./src/components/ChatDepartment.js\");\n\n\n\n\n\n\n\n\nvar _dec, _class;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\nvar OfflineChat = (_dec = Object(react_redux__WEBPACK_IMPORTED_MODULE_8__[\"connect\"])(function (store) {\n  return {\n    chatwidget: store.chatwidget\n  };\n}), _dec(_class = /*#__PURE__*/function (_Component) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(OfflineChat, _Component);\n\n  function OfflineChat(props) {\n    var _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, OfflineChat);\n\n    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(OfflineChat).call(this, props));\n    _this.state = {}; // Init offline form with all attributes\n\n    _this.props.dispatch(Object(_actions_chatActions__WEBPACK_IMPORTED_MODULE_12__[\"initOfflineForm\"])({\n      'department': _this.props.chatwidget.get('department'),\n      'theme': _this.props.chatwidget.get('theme'),\n      'mode': _this.props.chatwidget.get('mode'),\n      'bot_id': _this.props.chatwidget.get('bot_id'),\n      'online': 0\n    }));\n\n    _this.handleSubmit = _this.handleSubmit.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));\n    _this.handleContentChange = _this.handleContentChange.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));\n    _this.handleContentChangeCustom = _this.handleContentChangeCustom.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this));\n    return _this;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(OfflineChat, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var fields = this.state;\n      fields['jsvar'] = this.props.chatwidget.get('jsVars');\n      fields['captcha_' + this.props.chatwidget.getIn(['captcha', 'hash'])] = this.props.chatwidget.getIn(['captcha', 'ts']);\n      fields['tscaptcha'] = this.props.chatwidget.getIn(['captcha', 'ts']);\n      fields['user_timezone'] = _lib_helperFunctions__WEBPACK_IMPORTED_MODULE_13__[\"helperFunctions\"].getTimeZone();\n      fields['URLRefer'] = window.location.href.substring(window.location.protocol.length);\n      fields['r'] = this.props.chatwidget.get('ses_ref');\n\n      if (this.props.chatwidget.get('operator') != '') {\n        fields['operator'] = this.props.chatwidget.get('operator');\n      }\n\n      if (this.props.chatwidget.get('priority') !== null) {\n        fields['priority'] = this.props.chatwidget.get('priority');\n      }\n\n      var customFields = _lib_helperFunctions__WEBPACK_IMPORTED_MODULE_13__[\"helperFunctions\"].getCustomFieldsSubmit(this.props.chatwidget.getIn(['customData', 'fields']));\n\n      if (customFields !== null) {\n        fields = _objectSpread({}, fields, {}, customFields);\n      }\n\n      var submitData = {\n        'department': this.props.chatwidget.get('department'),\n        'theme': this.props.chatwidget.get('theme'),\n        'mode': this.props.chatwidget.get('mode'),\n        'vid': this.props.chatwidget.get('vid'),\n        'fields': fields\n      };\n      this.props.dispatch(Object(_actions_chatActions__WEBPACK_IMPORTED_MODULE_12__[\"submitOfflineForm\"])(submitData));\n      event.preventDefault();\n    }\n  }, {\n    key: \"handleContentChange\",\n    value: function handleContentChange(obj) {\n      var _this2 = this;\n\n      var currentState = this.state;\n      currentState[obj.id] = obj.value;\n      this.setState(currentState);\n\n      if (obj.id == 'DepartamentID') {\n        if (this.props.chatwidget.getIn(['offlineData', 'department', 'departments']).size > 0) {\n          this.props.chatwidget.getIn(['offlineData', 'department', 'departments']).map(function (dep) {\n            if (dep.get('value') == obj.value) {\n              if (dep.get('online') == true) {\n                _this2.props.dispatch({\n                  'type': 'dep_default',\n                  data: obj.value\n                });\n\n                _this2.props.dispatch({\n                  'type': 'onlineStatus',\n                  data: true\n                });\n              }\n            }\n          });\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      _lib_helperFunctions__WEBPACK_IMPORTED_MODULE_13__[\"helperFunctions\"].prefillFields(this);\n    }\n  }, {\n    key: \"handleContentChangeCustom\",\n    value: function handleContentChangeCustom(obj) {\n      this.props.dispatch({\n        'type': 'CUSTOM_FIELDS_ITEM',\n        data: {\n          id: obj.field.get('index'),\n          value: obj.value\n        }\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState, snapshot) {\n      if (document.getElementById('id-container-fluid')) {\n        _lib_helperFunctions__WEBPACK_IMPORTED_MODULE_13__[\"helperFunctions\"].sendMessageParent('widgetHeight', [{\n          'height': document.getElementById('id-container-fluid').offsetHeight + 40\n        }]);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var t = this.props.t;\n\n      if (this.props.chatwidget.getIn(['offlineData', 'fetched']) === true && this.props.chatwidget.getIn(['offlineData', 'disabled']) === true) {\n        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"alert alert-danger m-2\",\n          role: \"alert\"\n        }, t('start_chat.cant_start_a_chat'));\n      }\n\n      if (this.props.chatwidget.get('offlineData').has('fields')) {\n        var mappedFields = this.props.chatwidget.getIn(['offlineData', 'fields']).map(function (field) {\n          return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_ChatField__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n            chatUI: _this3.props.chatwidget.get('chat_ui'),\n            isInvalid: _this3.props.chatwidget.hasIn(['validationErrors', field.get('identifier')]),\n            attrPrefill: {\n              'attr_prefill_admin': _this3.props.chatwidget.get('attr_prefill_admin'),\n              'attr_prefill': _this3.props.chatwidget.get('attr_prefill')\n            },\n            defaultValueField: _this3.state[field.get('name')] || field.get('value'),\n            onChangeContent: _this3.handleContentChange,\n            field: field\n          });\n        });\n      } else {\n        var mappedFields = \"\";\n      }\n\n      if (this.props.chatwidget.getIn(['customData', 'fields']).size > 0) {\n        var mappedFieldsCustom = this.props.chatwidget.getIn(['customData', 'fields']).map(function (field) {\n          return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_ChatField__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n            chatUI: _this3.props.chatwidget.get('chat_ui'),\n            key: field.get('identifier'),\n            isInvalid: _this3.props.chatwidget.hasIn(['validationErrors', field.get('identifier')]),\n            defaultValueField: field.get('value'),\n            onChangeContent: _this3.handleContentChangeCustom,\n            field: field\n          });\n        });\n      } else {\n        var mappedFieldsCustom = \"\";\n      }\n\n      if (this.props.chatwidget.get('processStatus') == 0 || this.props.chatwidget.get('processStatus') == 1) {\n        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"container-fluid\",\n          id: \"id-container-fluid\"\n        }, this.props.chatwidget.hasIn(['chat_ui', 'operator_profile']) && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"pt-2\",\n          dangerouslySetInnerHTML: {\n            __html: this.props.chatwidget.getIn(['chat_ui', 'operator_profile'])\n          }\n        }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"p\", {\n          className: \"pb-1 mb-0 pt-2 font-weight-bold offline-intro\",\n          dangerouslySetInnerHTML: {\n            __html: this.props.chatwidget.getIn(['chat_ui', 'offline_intro'])\n          }\n        }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"form\", {\n          onSubmit: this.handleSubmit\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"row pt-2\"\n        }, mappedFields, mappedFieldsCustom, this.props.chatwidget.hasIn(['offlineData', 'department']) && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_ChatDepartment__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n          defaultValueField: this.state['DepartamentID'],\n          setDefaultValue: this.props.chatwidget.get('departmentDefault'),\n          onChangeContent: this.handleContentChange,\n          isInvalid: this.props.chatwidget.hasIn(['validationErrors', 'department']),\n          departments: this.props.chatwidget.getIn(['offlineData', 'department'])\n        })), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"row\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"col-12 pb-3\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-secondary btn-sm\"\n        }, this.props.chatwidget.getIn(['chat_ui', 'custom_start_button']) || t('start_chat.leave_a_message'))))));\n      } else if (this.props.chatwidget.get('processStatus') == 2) {\n        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"container-fluid\",\n          id: \"id-container-fluid\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"row\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n          className: \"col-12\"\n        }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"p\", null, this.props.chatwidget.getIn(['chat_ui', 'thank_feedback']) || t('start_chat.thank_you_for_feedback')))));\n      }\n    }\n  }]);\n\n  return OfflineChat;\n}(react__WEBPACK_IMPORTED_MODULE_7__[\"Component\"])) || _class);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_i18next__WEBPACK_IMPORTED_MODULE_11__[\"withTranslation\"])()(OfflineChat));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9PZmZsaW5lQ2hhdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL0xIQ1JlYWN0QVBQLy4vc3JjL2NvbXBvbmVudHMvT2ZmbGluZUNoYXQuanM/YzUwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IENoYXRGaWVsZCBmcm9tICcuL0NoYXRGaWVsZCc7XG5pbXBvcnQgU3RhcnRDaGF0IGZyb20gJy4vU3RhcnRDaGF0JztcbmltcG9ydCB7IHdpdGhUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgaW5pdE9mZmxpbmVGb3JtLCBzdWJtaXRPZmZsaW5lRm9ybSB9IGZyb20gXCIuLi9hY3Rpb25zL2NoYXRBY3Rpb25zXCJcbmltcG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9IGZyb20gXCIuLi9saWIvaGVscGVyRnVuY3Rpb25zXCI7XG5pbXBvcnQgQ2hhdERlcGFydG1lbnQgZnJvbSAnLi9DaGF0RGVwYXJ0bWVudCc7XG5cbkBjb25uZWN0KChzdG9yZSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNoYXR3aWRnZXQ6IHN0b3JlLmNoYXR3aWRnZXRcbiAgICB9O1xufSlcblxuY2xhc3MgT2ZmbGluZUNoYXQgZXh0ZW5kcyBDb21wb25lbnQge1xuXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICAgICAgXG4gICAgICAgIC8vIEluaXQgb2ZmbGluZSBmb3JtIHdpdGggYWxsIGF0dHJpYnV0ZXNcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChpbml0T2ZmbGluZUZvcm0oe1xuICAgICAgICAgICAgJ2RlcGFydG1lbnQnOnRoaXMucHJvcHMuY2hhdHdpZGdldC5nZXQoJ2RlcGFydG1lbnQnKSxcbiAgICAgICAgICAgICd0aGVtZScgOiB0aGlzLnByb3BzLmNoYXR3aWRnZXQuZ2V0KCd0aGVtZScpLFxuICAgICAgICAgICAgJ21vZGUnIDogdGhpcy5wcm9wcy5jaGF0d2lkZ2V0LmdldCgnbW9kZScpLFxuICAgICAgICAgICAgJ2JvdF9pZCcgOiB0aGlzLnByb3BzLmNoYXR3aWRnZXQuZ2V0KCdib3RfaWQnKSxcbiAgICAgICAgICAgICdvbmxpbmUnIDogMFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgdGhpcy5oYW5kbGVTdWJtaXQgPSB0aGlzLmhhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZUNvbnRlbnRDaGFuZ2UgPSB0aGlzLmhhbmRsZUNvbnRlbnRDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVDb250ZW50Q2hhbmdlQ3VzdG9tID0gdGhpcy5oYW5kbGVDb250ZW50Q2hhbmdlQ3VzdG9tLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgaGFuZGxlU3VibWl0KGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIGZpZWxkcyA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGZpZWxkc1snanN2YXInXSA9IHRoaXMucHJvcHMuY2hhdHdpZGdldC5nZXQoJ2pzVmFycycpO1xuICAgICAgICBmaWVsZHNbJ2NhcHRjaGFfJyArIHRoaXMucHJvcHMuY2hhdHdpZGdldC5nZXRJbihbJ2NhcHRjaGEnLCdoYXNoJ10pXSA9IHRoaXMucHJvcHMuY2hhdHdpZGdldC5nZXRJbihbJ2NhcHRjaGEnLCd0cyddKTtcbiAgICAgICAgZmllbGRzWyd0c2NhcHRjaGEnXSA9IHRoaXMucHJvcHMuY2hhdHdpZGdldC5nZXRJbihbJ2NhcHRjaGEnLCd0cyddKTtcbiAgICAgICAgZmllbGRzWyd1c2VyX3RpbWV6b25lJ10gPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGltZVpvbmUoKTtcbiAgICAgICAgZmllbGRzWydVUkxSZWZlciddID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3Vic3RyaW5nKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5sZW5ndGgpO1xuICAgICAgICBmaWVsZHNbJ3InXSA9IHRoaXMucHJvcHMuY2hhdHdpZGdldC5nZXQoJ3Nlc19yZWYnKTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jaGF0d2lkZ2V0LmdldCgnb3BlcmF0b3InKSAhPSAnJykge1xuICAgICAgICAgICAgZmllbGRzWydvcGVyYXRvciddID0gdGhpcy5wcm9wcy5jaGF0d2lkZ2V0LmdldCgnb3BlcmF0b3InKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2hhdHdpZGdldC5nZXQoJ3ByaW9yaXR5JykgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZpZWxkc1sncHJpb3JpdHknXSA9IHRoaXMucHJvcHMuY2hhdHdpZGdldC5nZXQoJ3ByaW9yaXR5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjdXN0b21GaWVsZHMgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q3VzdG9tRmllbGRzU3VibWl0KHRoaXMucHJvcHMuY2hhdHdpZGdldC5nZXRJbihbJ2N1c3RvbURhdGEnLCdmaWVsZHMnXSkpO1xuICAgICAgICBpZiAoY3VzdG9tRmllbGRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmaWVsZHMgPSB7Li4uZmllbGRzLCAuLi5jdXN0b21GaWVsZHN9O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN1Ym1pdERhdGEgPSB7XG4gICAgICAgICAgICAnZGVwYXJ0bWVudCc6IHRoaXMucHJvcHMuY2hhdHdpZGdldC5nZXQoJ2RlcGFydG1lbnQnKSxcbiAgICAgICAgICAgICd0aGVtZScgOiB0aGlzLnByb3BzLmNoYXR3aWRnZXQuZ2V0KCd0aGVtZScpLFxuICAgICAgICAgICAgJ21vZGUnIDogdGhpcy5wcm9wcy5jaGF0d2lkZ2V0LmdldCgnbW9kZScpLFxuICAgICAgICAgICAgJ3ZpZCcgOiB0aGlzLnByb3BzLmNoYXR3aWRnZXQuZ2V0KCd2aWQnKSxcbiAgICAgICAgICAgICdmaWVsZHMnIDogZmllbGRzXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChzdWJtaXRPZmZsaW5lRm9ybShzdWJtaXREYXRhKSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgaGFuZGxlQ29udGVudENoYW5nZShvYmopIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGN1cnJlbnRTdGF0ZVtvYmouaWRdID0gb2JqLnZhbHVlO1xuICAgICAgICB0aGlzLnNldFN0YXRlKGN1cnJlbnRTdGF0ZSk7XG5cbiAgICAgICAgaWYgKG9iai5pZCA9PSAnRGVwYXJ0YW1lbnRJRCcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNoYXR3aWRnZXQuZ2V0SW4oWydvZmZsaW5lRGF0YScsJ2RlcGFydG1lbnQnLCdkZXBhcnRtZW50cyddKS5zaXplID4gMCl7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGF0d2lkZ2V0LmdldEluKFsnb2ZmbGluZURhdGEnLCdkZXBhcnRtZW50JywnZGVwYXJ0bWVudHMnXSkubWFwKGRlcCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXAuZ2V0KCd2YWx1ZScpID09IG9iai52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcC5nZXQoJ29ubGluZScpID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHsndHlwZScgOiAnZGVwX2RlZmF1bHQnLCBkYXRhIDogb2JqLnZhbHVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh7J3R5cGUnIDogJ29ubGluZVN0YXR1cycsIGRhdGEgOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGhlbHBlckZ1bmN0aW9ucy5wcmVmaWxsRmllbGRzKHRoaXMpO1xuICAgIH1cblxuICAgIGhhbmRsZUNvbnRlbnRDaGFuZ2VDdXN0b20ob2JqKSB7XG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goeyd0eXBlJyA6ICdDVVNUT01fRklFTERTX0lURU0nLCBkYXRhIDoge2lkIDogb2JqLmZpZWxkLmdldCgnaW5kZXgnKSwgdmFsdWUgOiBvYmoudmFsdWV9fSk7XG4gICAgfVxuICAgIFxuICAgIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSwgc25hcHNob3QpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZC1jb250YWluZXItZmx1aWQnKSkge1xuICAgICAgICAgICAgaGVscGVyRnVuY3Rpb25zLnNlbmRNZXNzYWdlUGFyZW50KCd3aWRnZXRIZWlnaHQnLCBbeydoZWlnaHQnIDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkLWNvbnRhaW5lci1mbHVpZCcpLm9mZnNldEhlaWdodCs0MH1dKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZW5kZXIoKSB7XG5cbiAgICAgICAgY29uc3QgeyB0IH0gPSB0aGlzLnByb3BzO1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNoYXR3aWRnZXQuZ2V0SW4oWydvZmZsaW5lRGF0YScsJ2ZldGNoZWQnXSkgPT09IHRydWUgJiYgdGhpcy5wcm9wcy5jaGF0d2lkZ2V0LmdldEluKFsnb2ZmbGluZURhdGEnLCdkaXNhYmxlZCddKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFsZXJ0IGFsZXJ0LWRhbmdlciBtLTJcIiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICAgICAgICAge3QoJ3N0YXJ0X2NoYXQuY2FudF9zdGFydF9hX2NoYXQnKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNoYXR3aWRnZXQuZ2V0KCdvZmZsaW5lRGF0YScpLmhhcygnZmllbGRzJykpIHtcbiAgICAgICAgICAgIHZhciBtYXBwZWRGaWVsZHMgPSB0aGlzLnByb3BzLmNoYXR3aWRnZXQuZ2V0SW4oWydvZmZsaW5lRGF0YScsJ2ZpZWxkcyddKS5tYXAoZmllbGQgPT48Q2hhdEZpZWxkIGNoYXRVST17dGhpcy5wcm9wcy5jaGF0d2lkZ2V0LmdldCgnY2hhdF91aScpfSBpc0ludmFsaWQ9e3RoaXMucHJvcHMuY2hhdHdpZGdldC5oYXNJbihbJ3ZhbGlkYXRpb25FcnJvcnMnLGZpZWxkLmdldCgnaWRlbnRpZmllcicpXSl9IGF0dHJQcmVmaWxsPXt7J2F0dHJfcHJlZmlsbF9hZG1pbicgOiB0aGlzLnByb3BzLmNoYXR3aWRnZXQuZ2V0KCdhdHRyX3ByZWZpbGxfYWRtaW4nKSwgJ2F0dHJfcHJlZmlsbCcgOiB0aGlzLnByb3BzLmNoYXR3aWRnZXQuZ2V0KCdhdHRyX3ByZWZpbGwnKX19IGRlZmF1bHRWYWx1ZUZpZWxkPXt0aGlzLnN0YXRlW2ZpZWxkLmdldCgnbmFtZScpXSB8fCBmaWVsZC5nZXQoJ3ZhbHVlJyl9IG9uQ2hhbmdlQ29udGVudD17dGhpcy5oYW5kbGVDb250ZW50Q2hhbmdlfSBmaWVsZD17ZmllbGR9IC8+KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBtYXBwZWRGaWVsZHMgPSBcIlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2hhdHdpZGdldC5nZXRJbihbJ2N1c3RvbURhdGEnLCdmaWVsZHMnXSkuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIHZhciBtYXBwZWRGaWVsZHNDdXN0b20gPSB0aGlzLnByb3BzLmNoYXR3aWRnZXQuZ2V0SW4oWydjdXN0b21EYXRhJywnZmllbGRzJ10pLm1hcChmaWVsZCA9PjxDaGF0RmllbGQgY2hhdFVJPXt0aGlzLnByb3BzLmNoYXR3aWRnZXQuZ2V0KCdjaGF0X3VpJyl9IGtleT17ZmllbGQuZ2V0KCdpZGVudGlmaWVyJyl9IGlzSW52YWxpZD17dGhpcy5wcm9wcy5jaGF0d2lkZ2V0Lmhhc0luKFsndmFsaWRhdGlvbkVycm9ycycsZmllbGQuZ2V0KCdpZGVudGlmaWVyJyldKX0gZGVmYXVsdFZhbHVlRmllbGQ9e2ZpZWxkLmdldCgndmFsdWUnKX0gb25DaGFuZ2VDb250ZW50PXt0aGlzLmhhbmRsZUNvbnRlbnRDaGFuZ2VDdXN0b219IGZpZWxkPXtmaWVsZH0gLz4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIG1hcHBlZEZpZWxkc0N1c3RvbSA9IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jaGF0d2lkZ2V0LmdldCgncHJvY2Vzc1N0YXR1cycpID09IDAgfHwgdGhpcy5wcm9wcy5jaGF0d2lkZ2V0LmdldCgncHJvY2Vzc1N0YXR1cycpID09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXItZmx1aWRcIiBpZD1cImlkLWNvbnRhaW5lci1mbHVpZFwiPlxuXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoYXR3aWRnZXQuaGFzSW4oWydjaGF0X3VpJywnb3BlcmF0b3JfcHJvZmlsZSddKSAmJiA8ZGl2IGNsYXNzTmFtZT1cInB0LTJcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDp0aGlzLnByb3BzLmNoYXR3aWRnZXQuZ2V0SW4oWydjaGF0X3VpJywnb3BlcmF0b3JfcHJvZmlsZSddKX19PjwvZGl2Pn1cblxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJwYi0xIG1iLTAgcHQtMiBmb250LXdlaWdodC1ib2xkIG9mZmxpbmUtaW50cm9cIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDp0aGlzLnByb3BzLmNoYXR3aWRnZXQuZ2V0SW4oWydjaGF0X3VpJywnb2ZmbGluZV9pbnRybyddKX19PjwvcD5cblxuICAgICAgICAgICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcHQtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttYXBwZWRGaWVsZHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge21hcHBlZEZpZWxkc0N1c3RvbX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGF0d2lkZ2V0Lmhhc0luKFsnb2ZmbGluZURhdGEnLCdkZXBhcnRtZW50J10pICYmIDxDaGF0RGVwYXJ0bWVudCBkZWZhdWx0VmFsdWVGaWVsZD17dGhpcy5zdGF0ZVsnRGVwYXJ0YW1lbnRJRCddfSBzZXREZWZhdWx0VmFsdWU9e3RoaXMucHJvcHMuY2hhdHdpZGdldC5nZXQoJ2RlcGFydG1lbnREZWZhdWx0Jyl9IG9uQ2hhbmdlQ29udGVudD17dGhpcy5oYW5kbGVDb250ZW50Q2hhbmdlfSBpc0ludmFsaWQ9e3RoaXMucHJvcHMuY2hhdHdpZGdldC5oYXNJbihbJ3ZhbGlkYXRpb25FcnJvcnMnLCdkZXBhcnRtZW50J10pfSBkZXBhcnRtZW50cz17dGhpcy5wcm9wcy5jaGF0d2lkZ2V0LmdldEluKFsnb2ZmbGluZURhdGEnLCdkZXBhcnRtZW50J10pfSAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMiBwYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT1cImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi1zbVwiPnt0aGlzLnByb3BzLmNoYXR3aWRnZXQuZ2V0SW4oWydjaGF0X3VpJywnY3VzdG9tX3N0YXJ0X2J1dHRvbiddKSB8fCB0KCdzdGFydF9jaGF0LmxlYXZlX2FfbWVzc2FnZScpfTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmNoYXR3aWRnZXQuZ2V0KCdwcm9jZXNzU3RhdHVzJykgPT0gMikge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lci1mbHVpZFwiIGlkPVwiaWQtY29udGFpbmVyLWZsdWlkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPnt0aGlzLnByb3BzLmNoYXR3aWRnZXQuZ2V0SW4oWydjaGF0X3VpJywndGhhbmtfZmVlZGJhY2snXSkgfHwgdCgnc3RhcnRfY2hhdC50aGFua195b3VfZm9yX2ZlZWRiYWNrJyl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoVHJhbnNsYXRpb24oKShPZmZsaW5lQ2hhdCk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBTEE7QUFDQTtBQURBO0FBR0E7OztBQUlBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBaEJBO0FBaUJBO0FBQ0E7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFNQTtBQUNBOzs7O0FBbEpBO0FBcUpBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/OfflineChat.js\n");

/***/ })

}]);