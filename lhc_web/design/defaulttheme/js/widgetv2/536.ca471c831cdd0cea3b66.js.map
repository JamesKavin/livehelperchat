{"version":3,"file":"536.ca471c831cdd0cea3b66.js","mappings":"uUAYMA,GANLC,EAAAA,EAAAA,KAAQ,SAACC,GACN,MAAO,CACHC,WAAYD,EAAMC,cAFlB,e,6aAYJ,WAAYC,GAAO,yBACf,cAAMA,GADS,mBAJX,CACJC,OAAO,IAGQ,E,6CAQnB,c,kCA4CA,c,4BAcA,SAAeC,M,4BAMf,c,oBAcA,WAII,OACI,4BACKC,EAAAA,EAAAA,YAAWC,KAAKJ,MAAMK,cAAc,CACjCC,QAAS,SAAAC,GACL,GAAKA,EAAQC,QAGb,MAAqB,eAAjBD,EAAQE,KACD,6BAASF,EAAQC,QAAjB,CAA0BE,UAAU,UAASP,EAAAA,EAAAA,YAAWI,EAAQI,gBAD3E,U,EA7GhB,CAMmBC,EAAAA,aAAAA,EAiH3B","sources":["webpack://LHCReactAPP/./src/components/InlineSurvey.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport { hideInvitation } from \"../actions/chatActions\"\nimport { helperFunctions } from \"../lib/helperFunctions\";\nimport parse, { domToReact } from 'html-react-parser';\n\n@connect((store) => {\n    return {\n        chatwidget: store.chatwidget\n    };\n})\n\nclass InlineSurvey extends Component {\n\n    state = {\n        shown: false\n    }\n\n    constructor(props) {\n        super(props);\n        /*this.hideInvitation = this.hideInvitation.bind(this);\n        this.fullInvitation = this.fullInvitation.bind(this);\n        this.setBotPayload = this.setBotPayload.bind(this);\n        this.expireTimeout = null;*/\n    }\n\n    componentDidMount() {\n        /*helperFunctions.sendMessageParent('showInvitation', [{name: this.props.chatwidget.getIn(['proactive','data','invitation_name'])}]);\n\n        if (this.props.chatwidget.getIn(['proactive','data','play_sound'])) {\n            helperFunctions.emitEvent('play_sound', [{'type' : 'new_invitation', 'sound_on' : (this.props.chatwidget.getIn(['proactive','data','play_sound']) === true), 'widget_open' : ((this.props.chatwidget.get('shown') && this.props.chatwidget.get('mode') == 'widget') || document.hasFocus())}]);\n        }\n\n        if (!(this.props.chatwidget.hasIn(['proactive','data','full_widget']) && !this.props.chatwidget.get('isMobile'))) {\n            if (document.getElementById('id-invitation-height')) {\n                setTimeout(()=> {\n                    if (document.getElementById('id-invitation-height')) {\n                        var heightSet = document.getElementById('id-invitation-height').offsetHeight + 20;\n                        helperFunctions.sendMessageParent('hideAction', []);\n                        helperFunctions.sendMessageParent('widgetHeight', [{\n                            'force_width' : (this.props.chatwidget.hasIn(['proactive','data','message_width']) ? this.props.chatwidget.getIn(['proactive','data','message_width']) + 40 : 240),\n                            'force_height' : heightSet,\n                            'force_bottom' : (this.props.chatwidget.hasIn(['proactive','data','message_bottom']) ? this.props.chatwidget.getIn(['proactive','data','message_bottom']) : 75),\n                            'force_right' : (this.props.chatwidget.hasIn(['proactive','data','message_right']) ? this.props.chatwidget.getIn(['proactive','data','message_right']) : 75),\n                        }]);\n                        setTimeout(() => {\n                            helperFunctions.sendMessageParent('showAction', []);\n                            this.setState({shown : true});\n                        },100);\n                    }\n                }, 50);\n            }\n        }\n\n        if (this.props.chatwidget.hasIn(['proactive','data','inv_expires'])) {\n            this.expireTimeout = setTimeout(() => {\n                this.props.dispatch(hideInvitation(true));\n            },this.props.chatwidget.getIn(['proactive','data','inv_expires'])*1000);\n        }\n\n        if (this.props.chatwidget.hasIn(['proactive','data','on_click'])) {\n            this.appendScript(this.props.chatwidget.getIn(['proactive','data','on_click','src']), this.props.chatwidget.getIn(['proactive','data','on_click','id']));\n        }\n\n        if (this.props.chatwidget.hasIn(['proactive','data','site_css'])) {\n            this.appendCSS(this.props.chatwidget.getIn(['proactive','data','site_css']), this.props.chatwidget.getIn(['proactive','data','site_css_id']));\n        }*/\n    }\n\n\n    componentWillUnmount() {\n        /*clearTimeout(this.expireTimeout);\n        helperFunctions.sendMessageParent('widgetHeight', [{'reset_height' : true}]);\n        if (this.props.chatwidget.hasIn(['proactive','data','on_click'])) {\n            var EObj = null;\n            (EObj = document.getElementById(this.props.chatwidget.getIn(['proactive','data','on_click','id']))) ? EObj.parentNode.removeChild(EObj) : false;\n        }\n\n        if (this.props.chatwidget.hasIn(['proactive','data','site_css_id'])) {\n            var EObj = null;\n            (EObj = document.getElementById(this.props.chatwidget.getIn(['proactive','data','site_css_id']))) ? EObj.parentNode.removeChild(EObj) : false;\n        }*/\n    }\n\n    hideInvitation(e) {\n        /*this.props.dispatch(hideInvitation( this.props.chatwidget.hasIn(['proactive','data','hide_on_open']) ));\n        e.preventDefault();\n        e.stopPropagation();*/\n    }\n\n    fullInvitation() {\n        /*if (this.props.chatwidget.hasIn(['proactive','data','hide_on_open'])){\n            this.props.dispatch(hideInvitation(true, true));\n            if (this.props.chatwidget.hasIn(['proactive','data','on_click'])) {\n                window['callback_'+this.props.chatwidget.getIn(['proactive','data','on_click','id'])]();\n            }\n        } else {\n            helperFunctions.sendMessageParentDirect('hideInvitation', [{'full' : true, name: this.props.chatwidget.getIn(['proactive','data','invitation_name'])}]);\n            this.props.dispatch({\n                'type' : 'FULL_INVITATION'\n            });\n        }*/\n    }\n\n    render() {\n\n        var counter = 0;\n\n        return (\n            <div>\n                {domToReact(this.props.surveyOptions,{\n                    replace: domNode => {\n                        if (!domNode.attribs) {\n                            return;\n                        }\n                        if (domNode.name === 'voteoption') {\n                            return <div {...domNode.attribs} className=\"mt-2\" >{domToReact(domNode.children)}</div>;\n                        }\n                    }\n                })}\n            </div>\n        );\n    }\n}\n\nexport default InlineSurvey;\n"],"names":["InlineSurvey","connect","store","chatwidget","props","shown","e","domToReact","this","surveyOptions","replace","domNode","attribs","name","className","children","Component"],"sourceRoot":""}