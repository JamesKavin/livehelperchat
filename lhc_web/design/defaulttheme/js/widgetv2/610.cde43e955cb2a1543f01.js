"use strict";(self.webpackChunkLHCReactAPP=self.webpackChunkLHCReactAPP||[]).push([[610],{610:function(e,t,n){n.r(t);var a,r=n(7154),s=n.n(r),c=n(4575),i=n.n(c),o=n(3913),u=n.n(o),l=n(1506),d=n.n(l),f=n(2205),h=n.n(f),m=n(8585),v=n.n(m),g=n(9754),p=n.n(g),_=n(9713),w=n.n(_),b=n(7294),y=n(6458),E=(n(2137),n(488)),k=n.n(E),C=n(6512);var P=(0,y.$j)((function(e){return{chatwidget:e.chatwidget}}))(a=function(e){h()(r,e);var t,n,a=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=p()(t);if(n){var r=p()(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return v()(this,e)});function r(e){var t;return i()(this,r),t=a.call(this,e),w()(d()(t),"state",{preg_match_rules:[]}),t.listenerAdded=!1,t.js_execute=null,t}return u()(r,[{key:"handleParentMessage",value:function(e,t){if(e.data.event==t.target){var n=[];n[e.data.event]=e.data.value,this.setState(n)}}},{key:"abstractClick",value:function(e,t){var n=this;JSON.parse(e["data-action"]).forEach((function(e){if("add_css_class"==e.action){var t=document.querySelector(e.target);t&&t.classList.add(e.value)}else if("remove_css_class"==e.action){var a=document.querySelector(e.target);a&&a.classList.remove(e.value)}else if("chat_attr_global"==e.action)window.lhcChat[e.target]=e.value;else if("set_state"==e.action){var r={};r[e.target]=e.value,n.props.setStateParent(r)}else"post_message"==e.action?document.getElementById(e.target).contentWindow.postMessage(e.value,"*"):"listen_post_message"==e.action&&(window.addEventListener?window.addEventListener("message",(function(t){n.handleParentMessage(t,e)}),!1):window.attachEvent?window.attachEvent("onmessage",(function(t){n.handleParentMessage(t,e)})):document.attachEvent&&document.attachEvent("onmessage",(function(t){n.handleParentMessage(t,e)})))}))}},{key:"componentDidMount",value:function(){null!==this.js_execute&&(0,C.bQ)(this.js_execute,this)}},{key:"render",value:function(){var e=this,t=this.props.chatwidget.getIn(["chat_ui",this.props.attr]);return this.props.has_new||(t=t.replace(/<newmessages>(.*)<\/newmessages>/gi,"")),this.state.preg_match_rules.forEach((function(e){t=t.replace(e.search,e.replace,"")})),b.createElement(b.Fragment,null,k()(t,{replace:function(t){var n=Object.assign({},t.attribs);if(t.attribs){if(t.name&&"button"===t.name)return b.createElement("button",s()({type:"button"},t.attribs,{onClick:function(t){return e.abstractClick(n,t)}}),(0,E.domToReact)(t.children));if(t.name&&"lhcaction"===t.name)return 0==e.listenerAdded&&(e.abstractClick(n,null),e.listenerAdded=!0),b.createElement(b.Fragment,null);if(t.name&&"script"===t.name&&t.attribs["data-bot-action"])return e.js_execute=t,b.createElement(b.Fragment,null)}}}))}}]),r}(b.Component))||a;t.default=P}}]);
//# sourceMappingURL=610.cde43e955cb2a1543f01.js.map