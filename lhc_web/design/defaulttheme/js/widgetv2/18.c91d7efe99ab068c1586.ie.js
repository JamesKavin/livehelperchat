"use strict";(self.webpackChunkLHCReactAPP=self.webpackChunkLHCReactAPP||[]).push([[18],{9931:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var core_js_modules_es_reflect_construct_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12419),core_js_modules_es_reflect_construct_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_reflect_construct_js__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67154),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(34575),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(93913),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(81506),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2205),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(78585),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(29754),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(19601),core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(68309),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_9__),react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(67294),html_react_parser__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(30488),html_react_parser__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(html_react_parser__WEBPACK_IMPORTED_MODULE_11__),react_redux__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(46458);function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var _,a=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(e);if(t){var i=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor;_=Reflect.construct(a,arguments,i)}else _=a.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this,_)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ChatBotIntroMessage=function(_PureComponent){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(ChatBotIntroMessage,_PureComponent);var _super=_createSuper(ChatBotIntroMessage);function ChatBotIntroMessage(e){var t;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this,ChatBotIntroMessage),(t=_super.call(this,e)).abstractClick=t.abstractClick.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(t)),t.updateTriggerClicked=t.updateTriggerClicked.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(t)),t.processBotAction=t.processBotAction.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(t)),t.disableEditor=!1,t}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(ChatBotIntroMessage,[{key:"addLoader",value:function(e,t){e["data-no-change"]||"button"!=e.type||(t.setAttribute("disabled","disabled"),t.innerHTML='<i class="material-icons">&#xf113;</i>'+t.innerHTML)}},{key:"abstractClick",value:function(e,t){var _=this.props.t;if(this.addLoader(e,t.target),-1!==e.onclick.indexOf("lhinst.updateTriggerClicked"))this.updateTriggerClicked({type:"triggerclicked"},e,t.target);else if(-1!==e.onclick.indexOf("notificationsLHC.sendNotification"));else if(-1!==e.onclick.indexOf("lhinst.buttonClicked"))this.updateTriggerClicked({type:""},e,t.target);else if(-1!==e.onclick.indexOf("lhinst.updateChatClicked"))this.updateTriggerClicked({type:"",mainType:"updatebuttonclicked"},e,t.target);else if(-1!==e.onclick.indexOf("lhinst.editGenericStep"))this.updateTriggerClicked({type:"editgenericstep"},e,t.target);else if(-1!==e.onclick.indexOf("lhinst.dropdownClicked")){var a=document.getElementById("id_generic_list-"+e["data-id"]);a&&"0"!=a.value&&""!=a.value?(e["data-payload"]=a.value,this.updateTriggerClicked({type:"valueclicked"},e,t.target)):alert(_("bot.please_choose"))}else helperFunctions.emitEvent("MessageClick",[e,this.props.dispatch]),console.log("Unknown click event: "+e.onclick);t.preventDefault()}},{key:"updateTriggerClicked",value:function(e,t,_){this.props.setBotPayload({type:e.type,payload:t["data-payload"],id:t["data-id"],processed:void 0===t["data-keep"]})}},{key:"processBotAction",value:function processBotAction(domNode){var attr=domNode.attribs;"lhinst.disableVisitorEditor"==attr["data-bot-action"]?this.disableEditor=!0:"lhinst.setDelay"==attr["data-bot-action"]||"execute-js"==attr["data-bot-action"]&&eval(domNode.children[0].data)}},{key:"render",value:function(){var e=this;return html_react_parser__WEBPACK_IMPORTED_MODULE_11___default()(this.props.content,{replace:function(t){if(t.attribs){var _=Object.assign({},t.attribs);if(t.attribs.onclick&&delete t.attribs.onclick,t.name&&"button"===t.name){if(_.onclick)return react__WEBPACK_IMPORTED_MODULE_10__.createElement("button",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({},t.attribs,{onClick:function(t){return e.abstractClick(_,t)}}),(0,html_react_parser__WEBPACK_IMPORTED_MODULE_11__.domToReact)(t.children))}else if(t.name&&"a"===t.name){if(_.onclick)return react__WEBPACK_IMPORTED_MODULE_10__.createElement("a",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({},t.attribs,{onClick:function(t){return e.abstractClick(_,t)}}),(0,html_react_parser__WEBPACK_IMPORTED_MODULE_11__.domToReact)(t.children))}else t.name&&"script"===t.name&&t.attribs["data-bot-action"]&&e.processBotAction(t)}}})}}]),ChatBotIntroMessage}(react__WEBPACK_IMPORTED_MODULE_10__.PureComponent);__webpack_exports__.Z=ChatBotIntroMessage},42018:function(e,t,_){_.r(t),_(12419);var a,i=_(34575),r=_.n(i),s=_(93913),n=_.n(s),o=_(81506),c=_.n(o),l=_(2205),p=_.n(l),d=_(78585),h=_.n(d),u=_(29754),E=_.n(u),g=_(59713),m=_.n(g),b=_(67294),f=_(46458),v=_(44134),P=_(50834),I=_(9931);var M=(0,f.$j)((function(e){return{chatwidget:e.chatwidget}}))(a=function(e){p()(i,e);var t,_,a=(t=i,_=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=E()(t);if(_){var i=E()(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return h()(this,e)});function i(e){var t;return r()(this,i),t=a.call(this,e),m()(c()(t),"state",{shown:!1}),t.hideInvitation=t.hideInvitation.bind(c()(t)),t.fullInvitation=t.fullInvitation.bind(c()(t)),t.setBotPayload=t.setBotPayload.bind(c()(t)),t}return n()(i,[{key:"componentDidMount",value:function(){var e=this;P.a.sendMessageParent("showInvitation",[{name:this.props.chatwidget.getIn(["proactive","data","invitation_name"])}]),this.props.chatwidget.getIn(["proactive","data","play_sound"])&&P.a.emitEvent("play_sound",[{type:"new_invitation",sound_on:!0===this.props.chatwidget.getIn(["proactive","data","play_sound"]),widget_open:this.props.chatwidget.get("shown")&&"widget"==this.props.chatwidget.get("mode")||document.hasFocus()}]),this.props.chatwidget.hasIn(["proactive","data","full_widget"])&&!this.props.chatwidget.get("isMobile")||document.getElementById("id-invitation-height")&&setTimeout((function(){document.getElementById("id-invitation-height")&&(P.a.sendMessageParent("widgetHeight",[{force_width:e.props.chatwidget.hasIn(["proactive","data","message_width"])?e.props.chatwidget.getIn(["proactive","data","message_width"])+40:240,force_height:document.getElementById("id-invitation-height").offsetHeight+20,force_bottom:e.props.chatwidget.hasIn(["proactive","data","message_bottom"])?e.props.chatwidget.getIn(["proactive","data","message_bottom"]):75,force_right:e.props.chatwidget.hasIn(["proactive","data","message_right"])?e.props.chatwidget.getIn(["proactive","data","message_right"]):75}]),e.setState({shown:!0}))}),50)}},{key:"componentWillUnmount",value:function(){P.a.sendMessageParent("widgetHeight",[{reset_height:!0}])}},{key:"hideInvitation",value:function(e){this.props.dispatch((0,v.uF)()),e.preventDefault(),e.stopPropagation()}},{key:"fullInvitation",value:function(){P.a.sendMessageParentDirect("hideInvitation",[{full:!0,name:this.props.chatwidget.getIn(["proactive","data","invitation_name"])}]),this.props.dispatch({type:"FULL_INVITATION"})}},{key:"setBotPayload",value:function(e){this.props.setBotPayload(e),this.fullInvitation()}},{key:"render",value:function(){var e=this;this.props.chatwidget.hasIn(["proactive","data","full_widget"])&&!this.props.chatwidget.get("isMobile")&&this.fullInvitation();var t="";return!1===this.state.shown?t+=" invisible":t+=" fade-in",b.createElement("div",{id:"id-invitation-height",className:t},this.props.chatwidget.hasIn(["proactive","data","close_above_msg"])&&b.createElement("div",{className:"text-right"},b.createElement("button",{title:"Close",onClick:function(t){return e.hideInvitation(t)},id:"invitation-close-btn",className:"btn btn-sm rounded"},b.createElement("i",{className:"material-icons mr-0"},""))),b.createElement("div",{className:"p-2 pointer clearfix proactive-need-help",id:"proactive-wrapper",style:{width:this.props.chatwidget.hasIn(["proactive","data","message_width"])?this.props.chatwidget.getIn(["proactive","data","message_width"]):200},onClick:this.fullInvitation},!this.props.chatwidget.hasIn(["proactive","data","close_above_msg"])&&b.createElement("button",{title:"Close",onClick:function(t){return e.hideInvitation(t)},id:"invitation-close-btn",className:"float-right btn btn-sm rounded"},b.createElement("i",{className:"material-icons mr-0"},"")),this.props.chatwidget.hasIn(["proactive","data","photo_left_column"])&&this.props.chatwidget.getIn(["proactive","data","photo"])&&b.createElement("div",{className:"d-flex"},b.createElement("div",{className:"proactive-image"},b.createElement("img",{width:"30",alt:this.props.chatwidget.getIn(["proactive","data","name_support"])||this.props.chatwidget.getIn(["proactive","data","extra_profile"]),title:this.props.chatwidget.getIn(["proactive","data","name_support"])||this.props.chatwidget.getIn(["proactive","data","extra_profile"]),className:"mr-2 rounded",src:this.props.chatwidget.getIn(["proactive","data","photo"])})),b.createElement("div",{className:"flex-grow-1"},!this.props.chatwidget.hasIn(["proactive","data","hide_op_name"])&&b.createElement("div",{className:"fs14"},b.createElement("b",null,this.props.chatwidget.getIn(["proactive","data","name_support"])||this.props.chatwidget.getIn(["proactive","data","extra_profile"]))),b.createElement("div",{id:"inv-msg-wrapper"},b.createElement("p",{className:"fs13 mb-0 inv-msg-cnt",dangerouslySetInnerHTML:{__html:this.props.chatwidget.getIn(["proactive","data","message"])}}),this.props.chatwidget.hasIn(["proactive","data","bot_intro"])&&b.createElement(I.Z,{setBotPayload:this.setBotPayload,content:this.props.chatwidget.getIn(["proactive","data","message_full"])})))),(!this.props.chatwidget.hasIn(["proactive","data","photo_left_column"])||!this.props.chatwidget.getIn(["proactive","data","photo"]))&&b.createElement("div",null,b.createElement("div",{className:"fs14"},this.props.chatwidget.getIn(["proactive","data","photo"])&&b.createElement("img",{width:"30",height:"30",alt:this.props.chatwidget.getIn(["proactive","data","name_support"])||this.props.chatwidget.getIn(["proactive","data","extra_profile"]),title:this.props.chatwidget.getIn(["proactive","data","name_support"])||this.props.chatwidget.getIn(["proactive","data","extra_profile"]),className:"mr-2 rounded",src:this.props.chatwidget.getIn(["proactive","data","photo"])}),!this.props.chatwidget.hasIn(["proactive","data","hide_op_name"])&&b.createElement("b",null,this.props.chatwidget.getIn(["proactive","data","name_support"])||this.props.chatwidget.getIn(["proactive","data","extra_profile"]))),b.createElement("div",{id:"inv-msg-wrapper"},b.createElement("p",{className:"fs13 mb-0 inv-msg-cnt",dangerouslySetInnerHTML:{__html:this.props.chatwidget.getIn(["proactive","data","message"])}}),this.props.chatwidget.hasIn(["proactive","data","bot_intro"])&&b.createElement(I.Z,{setBotPayload:this.setBotPayload,content:this.props.chatwidget.getIn(["proactive","data","message_full"])})))))}}]),i}(b.Component))||a;t.default=M}}]);
//# sourceMappingURL=18.c91d7efe99ab068c1586.ie.js.map