!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.UserList=e():t.UserList=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./",n(n.s=46)}([function(t,e,n){"use strict";var i=n(13),r=n(38),o=Object.prototype.toString;function s(t){return"[object Array]"===o.call(t)}function a(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function c(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),s(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:r,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]=n}for(var i=0,r=arguments.length;i<r;i++)c(arguments[i],n);return e},deepMerge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]="object"==typeof n?t({},n):n}for(var i=0,r=arguments.length;i<r;i++)c(arguments[i],n);return e},extend:function(t,e,n){return c(e,function(e,r){t[r]=n&&"function"==typeof e?i(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"initElement",value:function(t,e,n,i,r){var o;for(o in t=t.createElement(e),n=n||{})t[o]=n[o];return r&&"iframe"!==e&&(t.innerHTML=r),i&&(t.style.cssText=i),t}},{key:"getDocument",value:function(t){return t.contentWindow?t.contentWindow.document:t.contentDocument?t.contentDocument:t.document?t.document:null}},{key:"getTzOffset",value:function(){Date.prototype.stdTimezoneOffset=function(){var t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())},Date.prototype.dst=function(){return this.getTimezoneOffset()<this.stdTimezoneOffset()};var t=new Date;return(t.dst()?t.getTimezoneOffset():t.getTimezoneOffset()-60)/60*-1}},{key:"getAbstractStyle",value:function(t){return["outline:                    "+(t.outline?t.outline:"none")+" !important; ","visibility:                 "+(t.visibility?t.visibility:"visible")+" !important; ","resize:                     "+(t.resize?t.resize:"none")+" !important; ","box-shadow:                 "+(t.boxshadow?t.boxshadow:"none")+" !important; ","overflow:                   "+(t.overflow?t.overflow:"visible")+" !important; ","background                  : "+(t.background?t.background:"none")+" !important; ","opacity                     : "+(t.opacity?t.opacity:"1")+" !important; ","filter                      : alpha(opacity="+(t.opacity?100*t.opacity:"100")+") !important; ","-ms-filter                  : progid:DXImageTransform.Microsoft.Alpha(Opacity"+(t.opacity?t.opacity:"1")+") !important; ","-moz-opacity                : "+(t.opacity?t.opacity:"1")+" !important; ","-khtml-opacity              : "+(t.opacity?t.opacity:"1")+" !important; ","top                         : "+(t.top?t.top:"auto")+" !important; ","right                       : "+(t.right?t.right:"auto")+" !important; ","bottom                      : "+(t.bottom?t.bottom:"auto")+" !important; ","left                        : "+(t.left?t.left:"auto")+" !important; ","position                    : "+(t.position?t.position:"absolute")+" !important; ","border                      : "+(t.border?t.border:"0")+" !important; ","min-height                  : "+(t.minheight?t.minheight:"auto")+" !important; ","min-width                   : "+(t.minwidth?t.minwidth:"auto")+" !important; ","max-height                  : "+(t.maxheight?t.maxheight:"none")+" !important; ","max-width                   : "+(t.maxwidth?t.maxwidth:"none")+" !important; ","padding                     : "+(t.padding?t.padding:"0")+" !important; ","margin                      : "+(t.margin?t.margin:"0")+" !important; ","-moz-transition-property    : "+(t.transition?t.transition:"none")+" !important; ","-webkit-transition-property : "+(t.transition?t.transition:"none")+" !important; ","-o-transition-property      : "+(t.transition?t.transition:"none")+" !important; ","transition-property         : "+(t.transition?t.transition:"none")+" !important; ","transform                   : "+(t.transform?t.transform:"none")+" !important; ","-webkit-transform           : "+(t.transform?t.transform:"none")+" !important; ","-ms-transform               : "+(t.transform?t.transform:"none")+" !important; ","width                       : "+(t.width?t.width:"auto")+" !important; ","height                      : "+(t.height?t.height:"auto")+" !important; ","display                     : "+(t.display?t.display:"block")+" !important; ","z-index                     : "+(t.zindex?t.zindex:"none")+" !important; ","background-color            : "+(t.backgroundcolor?t.backgroundcolor:"transparent")+" !important; ","cursor                      : "+(t.cursor?t.cursor:"auto")+" !important; ","float                       : "+(t.float?t.float:"none")+" !important; ","border-radius               : "+(t.borderRadius?t.borderRadius:"unset")+" !important; "].join("").replace(/\s/gm,"")}},{key:"hasClass",value:function(t,e){return t.classList?t.classList.contains(e):!!t.className.match(RegExp("(\\s|^)"+e+"(\\s|$)"))}},{key:"addClass",value:function(t,e){t.classList?t.classList.add(e):this.hasClass(t,e)||(t.className+=" "+e)}},{key:"removeClass",value:function(t,e){t.classList?t.classList.remove(e):this.hasClass(t,e)&&(t.className=t.className.replace(RegExp("(\\s|^)"+e+"(\\s|$)")," "))}},{key:"makeScreenshot",value:function(t,e){var n=this;if("undefined"==typeof html2canvas){var i=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",t),i.appendChild(r),r.onreadystatechange=r.onload=function(){n.makeScreenshot(t,e)}}else try{html2canvas(document.body,{onrendered:function(t){var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send("data="+encodeURIComponent(t.toDataURL()))}})}catch(t){}}}]),t}());e.helperFunctions=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={}}return i(t,[{key:"attachEvent",value:function(t,e,n){var i=this,r=function(e){n.call(t,i.getEvent(e))};return t.attachEvent("on"+e,r),r}},{key:"listen",value:function(t,e,n,i){var r;if(i){if(this.events[i]&&(r=this.events[i],this.events[i]=null,this.removeEventHandler(r.element,r.eventName,r.eventListener)),t.addEventListener)t.addEventListener(e,n,!1);else{if(!document.attachEvent)return null;n=this.attachEvent(t,e,n)}return this.events[i]={element:t,eventName:e,eventListener:n},n}}},{key:"removeEventHandler",value:function(t,e,n){document.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}},{key:"getEvent",value:function(t){var e=t||_this.event;if(!e)for(t=this.getEvent.caller;t&&(!(e=t.arguments[0])||Event!=e.constructor);)t=t.caller;return e}}]),t}());e.domEventsHandler=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UIConsturctor=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(5),s=n(2);e.UIConsturctor=function(){function t(e,n,i,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=this;this.elementId=e||"",this.style=n||"",this.tagName=r||"div",this.tmpl="",this.elmDom=null,this.elmDomDoc=o||document,this.attributes={},this.classNames=[],this.elementId&&(this.attributes.id=this.elementId),i&&Object.keys(i).forEach(function(t){s.attributes[t]=i[t]})}return i(t,[{key:"constructUI",value:function(t){return this.elmDomDoc=t||this.elmDomDoc,this.elmDom=r.helperFunctions.initElement(this.elmDomDoc,this.tagName,this.attributes,this.style,this.tmpl),this.elmDom.className+=this.classNames.join(" "),this.elmDom}},{key:"restyle",value:function(t,e){e&&(-1===e.indexOf("!important")&&(e+=" !important"),this.elmDom?this.elmDom.style.cssText+=";"+t+":"+e:this.style+=";"+t+":"+e)}},{key:"attachUserEventListener",value:function(t,e,n,i){var r;(r=n?this.getElementById(n):this.elmDom)&&(1<(n=t.split(" ")).length?n.forEach(function(t){s.domEventsHandler.listen(r,t,e,t+i)}):s.domEventsHandler.listen(r,t,e,i))}},{key:"getElementById",value:function(t){return this.elmDom?this.elmDomDoc.getElementById(t):null}},{key:"hide",value:function(){this.restyle("display","none !important")}},{key:"show",value:function(){this.restyle("display","block !important")}},{key:"insertCssFile",value:function(t,e){var n=this.elmDomDoc.getElementsByTagName("head")[0],i=this.elmDomDoc.createDocumentFragment(),s=r.helperFunctions.initElement(this.elmDomDoc,"style",{type:"text/css"}),a=this.elmDomDoc.createTextNode(e?t:o.settings.ResetStyle+""+t);i.appendChild(s),n.appendChild(i),s.styleSheet?s.styleSheet.cssText=a.nodeValue:s.appendChild(a)}},{key:"insertCssRemoteFile",value:function(t){var e=this.elmDomDoc.getElementsByTagName("head")[0],n=this.elmDomDoc.createDocumentFragment(),i=this.elmDomDoc.createElement("link");for(var r in i.rel="stylesheet",i.crossOrigin="*",t)i[r]=t[r];n.appendChild(i),e.appendChild(n)}},{key:"insertJSFile",value:function(t,e){var n=this.elmDomDoc.getElementsByTagName("head")[0],i=this.elmDomDoc.createDocumentFragment(),r=this.elmDomDoc.createElement("script");r.type="text/javascript",void 0!==e&&!0!==e||(r.async=!0),r.crossOrigin="*",r.src=t,i.appendChild(r),n.appendChild(i)}},{key:"massRestyle",value:function(t){for(var e in t)t.hasOwnProperty(e)&&this.restyle(e,t[e])}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UIConstructorIframe=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(3),o=n(1);e.UIConstructorIframe=function(t){function e(t,n,i,r,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.UIConsturctor),i(e,[{key:"constructUIIframe",value:function(t){this.elmDomDoc=o.helperFunctions.getDocument(this.elmDom),this.elmDomDoc.open(),this.elmDomDoc.writeln('<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" /></head><body></body></html>'),this.elmDomDoc.close(),this.insertCssFile(t),this.insertContent()}},{key:"insertContent",value:function(){this.elmDomDoc.body.innerHTML=this.tmpl}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={ResetStyle:"html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,samp,small,strong,sub,sup,var,b,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}nav ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{background-color:#ff9;color:#000;text-decoration:none}mark{background-color:#ff9;color:#000;font-style:italic;font-weight:bold}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}table{border-collapse:collapse;border-spacing:0}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}html,body{height: 100% !important;\n        min-height: 100% !important;\n        max-height: 100% !important;\n        width: 100% !important;\n        min-width: 100% !important;\n        max-width: 100% !important;}body{display: flex;flex-direction: column;background:transparent;font:13px Helvetica,Arial,sans-serif;position:relative}.clear{clear:both}.clearfix:after{content:'';display:block;height:0;clear:both;visibility:hidden}",FontStyle:"@font-face {  font-family: 'Material Icons';  font-style: normal;  font-weight: 400;  src: url('./fonts/materialdesignicons-webfont.eot'); /* For IE6-8 */  src: local('Material Icons'),       local('MaterialIcons-Regular'),       url('./fonts/materialdesignicons-webfont.woff2') format('woff2'),       url('./fonts/materialdesignicons-webfont.woff') format('woff'),       url('./fonts/materialdesignicons-webfont.ttf') format('truetype');}.material-icons {  font-family: 'Material Icons';  font-weight: normal;  font-style: normal;  font-size: 18px;  /* Preferred icon size */  display: inline-block;  line-height: 1;  text-transform: none;  letter-spacing: normal;  word-wrap: normal;  width: 1em;  /* Support for all WebKit browsers. */  -webkit-font-smoothing: antialiased;  /* Support for Safari and Chrome. */  text-rendering: optimizeLegibility;  /* Support for Firefox. */  -moz-osx-font-smoothing: grayscale;  /* Support for IE. */  font-feature-settings: 'liga';  vertical-align: middle;  margin-right:5px;  overflow:hidden;  }",ChatStatus:"#unread-msg-number{float: left;color: #ffffff;font-size: 12px;font-weight: normal;line-height: 19px;position: absolute;background-color: red;border-radius: 37px;display: none;padding-left: 8px;padding-right: 8px;margin-top: -5px;margin-left: -4px;}#lhc_status_container.has-uread-message #unread-msg-number{display: inline-block} #lhc_status_container .offline-status { background: #888888 url(//clients.livehelperchat.com/design/defaulttheme/images/getstatus/offline.svg) no-repeat center !important;}#lhc_status_container{padding-top:15px;padding-left:15px;}#lhc_status_container #status-icon {border: 2px solid #e3e3e3;    -webkit-border-radius: 47px;    -moz-border-radius:47px ;    border-radius: 47px;    -webkit-box-shadow: 0px 0px 17px rgba(50, 50, 50, 0.5);    -moz-box-shadow: 0px 0px 17px rgba(50, 50, 50, 0.5);    box-shadow: 0px 0px 17px rgba(50, 50, 50, 0.5);    text-decoration: none;    height: 41px;    width: 41px;    font-weight: bold;    color: #000000;    display: block;    padding: 10px;    background: #0c8fc4 url(//devmysql.livehelperchat.com/design/defaulttheme/images/getstatus/online.svg) no-repeat center center;}",defaultIframeStyle:{src:"about:blank",border:"0",cellspacing:"0",frameBorder:"0",scrolling:"no",horizontalscrolling:"no",verticalscrolling:"no",allowTransparency:"true",title:"chat widget"}};e.settings=i},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e){e=e||{};var n={};return i.forEach(["url","method","params","data"],function(t){void 0!==e[t]&&(n[t]=e[t])}),i.forEach(["headers","auth","proxy"],function(r){i.isObject(e[r])?n[r]=i.deepMerge(t[r],e[r]):void 0!==e[r]?n[r]=e[r]:i.isObject(t[r])?n[r]=i.deepMerge(t[r]):void 0!==t[r]&&(n[r]=t[r])}),i.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])}),n}},function(t,e,n){"use strict";var i=n(31);t.exports=function(t,e,n,r,o){var s=new Error(t);return i(s,e,n,r,o)}},function(t,e,n){"use strict";var i=n(0),r=n(32),o=n(12),s=n(30),a=n(29),u=n(8);t.exports=function(t){return new Promise(function(e,c){var l=t.data,h=t.headers;i.isFormData(l)&&delete h["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",p=t.auth.password||"";h.Authorization="Basic "+btoa(d+":"+p)}if(f.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?s(f.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:t,request:f};r(e,c,i),f=null}},f.onabort=function(){f&&(c(u("Request aborted",t,"ECONNABORTED",f)),f=null)},f.onerror=function(){c(u("Network Error",t,null,f)),f=null},f.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var m=n(28),v=(t.withCredentials||a(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;v&&(h[t.xsrfHeaderName]=v)}if("setRequestHeader"in f&&i.forEach(h,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete h[e]:f.setRequestHeader(e,t)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),c(t),f=null)}),void 0===l&&(l=null),f.send(l)})}},function(t,e,n){"use strict";(function(e){var i=n(0),r=n(33),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a={adapter:function(){var t;return void 0!==e&&"[object process]"===Object.prototype.toString.call(e)?t=n(9):"undefined"!=typeof XMLHttpRequest&&(t=n(9)),t}(),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(t){a.headers[t]={}}),i.forEach(["post","put","patch"],function(t){a.headers[t]=i.merge(o)}),t.exports=a}).call(this,n(14))},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";var i=n(0);function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(i.isURLSearchParams(e))o=e.toString();else{var s=[];i.forEach(e,function(t,e){null!==t&&void 0!==t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),s.push(r(e)+"="+r(t))}))}),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);const i=/iPhone/i,r=/iPod/i,o=/iPad/i,s=/\bAndroid(?:.+)Mobile\b/i,a=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,l=/Windows Phone/i,h=/\bWindows(?:.+)ARM\b/i,f=/BlackBerry/i,d=/BB10/i,p=/Opera Mini/i,m=/\b(CriOS|Chrome)(?:.+)Mobile/i,v=/Mobile(?:.+)Firefox\b/i;function g(t,e){return t.test(e)}function b(t){let e=(t=t||("undefined"!=typeof navigator?navigator.userAgent:"")).split("[FBAN");void 0!==e[1]&&(t=e[0]),void 0!==(e=t.split("Twitter"))[1]&&(t=e[0]);const n={apple:{phone:g(i,t)&&!g(l,t),ipod:g(r,t),tablet:!g(i,t)&&g(o,t)&&!g(l,t),device:(g(i,t)||g(r,t)||g(o,t))&&!g(l,t)},amazon:{phone:g(u,t),tablet:!g(u,t)&&g(c,t),device:g(u,t)||g(c,t)},android:{phone:!g(l,t)&&g(u,t)||!g(l,t)&&g(s,t),tablet:!g(l,t)&&!g(u,t)&&!g(s,t)&&(g(c,t)||g(a,t)),device:!g(l,t)&&(g(u,t)||g(c,t)||g(s,t)||g(a,t))||g(/\bokhttp\b/i,t)},windows:{phone:g(l,t),tablet:g(h,t),device:g(l,t)||g(h,t)},other:{blackberry:g(f,t),blackberry10:g(d,t),opera:g(p,t),firefox:g(v,t),chrome:g(m,t),device:g(f,t)||g(d,t)||g(p,t)||g(v,t)||g(m,t)},any:!1,phone:!1,tablet:!1};return n.any=n.apple.device||n.android.device||n.windows.device||n.other.device,n.phone=n.apple.phone||n.android.phone||n.windows.phone,n.tablet=n.apple.tablet||n.android.tablet||n.windows.tablet,n}n.d(e,"default",function(){return b})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var chatEventsHandler=function(){function chatEventsHandler(t){_classCallCheck(this,chatEventsHandler),this.attributes=t}return _createClass(chatEventsHandler,[{key:"getJSVarsValues",value:function getJSVarsValues(jsVars){var js_args={};if(jsVars.length>0){var currentVar=null;for(var index in jsVars)try{currentVar=eval("window."+jsVars[index].var),void 0!==currentVar&&null!==currentVar&&""!==currentVar&&(js_args[jsVars[index].id]=currentVar)}catch(t){}return js_args}return js_args}},{key:"getInitAttributes",value:function(){var t={onlineStatus:this.attributes.onlineStatus.value,toggleSound:this.attributes.toggleSound.value,widgetStatus:this.attributes.widgetStatus.value,jsVars:this.getJSVarsValues(this.attributes.jsVars.value),isMobile:this.attributes.isMobile,department:this.attributes.department,theme:this.attributes.theme,base_url:this.attributes.base_url,mode:this.attributes.mode,captcha:this.attributes.captcha,staticJS:this.attributes.staticJS,static_chat:this.attributes.userSession.getSessionAttributes()};if(1==this.attributes.fresh&&(t.static_chat.id&&delete t.static_chat.id,t.static_chat.hash&&delete t.static_chat.hash),""!=this.attributes.bot_id&&(t.bot_id=this.attributes.bot_id),""!=this.attributes.lang&&(t.lang=this.attributes.lang),window.LHCChatOptions&&window.LHCChatOptions.attr){var e=[];window.LHCChatOptions.attr.forEach(function(t,n){e.push({show:void 0===t.show||"on"!=t.show&&"off"!=t.show?"b":t.show,value:t.value,index:n,name:t.name,class:"form-control form-control-sm",type:t.type,identifier:"additional_"+n,placeholder:"",width:t.size||6,encrypted:t.encrypted||!1,required:t.req||!1,label:t.name})}),t.CUSTOM_FIELDS=e}if(window.LHCChatOptions&&window.LHCChatOptions.attr_prefill){var n=[];window.LHCChatOptions.attr_prefill.forEach(function(t){"email"==t.name?n.push({Email:t.value}):"username"==t.name?n.push({Username:t.value}):"phone"==t.name?n.push({Phone:t.value}):"question"==t.name&&n.push({Question:t.value})}),t.attr_prefill=n}return null!==this.attributes.userSession.getSessionReferrer()&&(t.ses_ref=this.attributes.userSession.getSessionReferrer()),t}},{key:"sendChildCommand",value:function(t){this.attributes.mainWidget.cont.elmDom&&this.attributes.mainWidget.cont.elmDom.contentWindow&&this.attributes.mainWidget.cont.elmDom.contentWindow.postMessage(t,"*"),this.attributes.popupWidget.cont.elementReferrerPopup&&!1===this.attributes.popupWidget.cont.elementReferrerPopup.closed&&this.attributes.popupWidget.cont.elementReferrerPopup.postMessage(t,"*")}},{key:"sendReadyEvent",value:function(t){var e=this.getInitAttributes();!0!==t&&this.attributes.mainWidget.cont.elmDom&&this.attributes.mainWidget.cont.elmDom.contentWindow&&this.attributes.mainWidget.cont.elmDom.contentWindow.postMessage("lhc_init:"+JSON.stringify(e),"*"),this.attributes.popupWidget.cont.elementReferrerPopup&&!1===this.attributes.popupWidget.cont.elementReferrerPopup.closed&&(e.mode="popup",this.attributes.popupWidget.cont.elementReferrerPopup.postMessage("lhc_init:"+JSON.stringify(e),"*"))}},{key:"sendChildEvent",value:function(t,e){this.sendChildCommand("lhc_event:"+t+"::"+JSON.stringify(e))}}]),chatEventsHandler}();exports.chatEventsHandler=chatEventsHandler},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isNotificationsSubscribed=!1,this.applicationServerPublicKey=null,this.eventEmitter=null}return i(t,[{key:"setPublicKey",value:function(t,e){this.applicationServerPublicKey=t,this.eventEmitter=e}},{key:"sendNotification",value:function(){var t=this,e=this.applicationServerPublicKey,n=null;if("serviceWorker"in navigator&&"PushManager"in window)if("Notification"in window){if("granted"===Notification.permission);else if("denied"!==Notification.permission)Notification.requestPermission(function(t){"granted"===t||alert("Sorry but you have denied notification!")});else if("denied"===Notification.permission)return void alert("Sorry but you have denied notification!");t=this;navigator.serviceWorker.register("/sw.lhc.js?v=2").then(function(e){(n=e).pushManager.getSubscription().then(function(e){t.isNotificationsSubscribed=!(null===e),t.isNotificationsSubscribed,r()})})}else alert("This browser does not support desktop notification");else alert("This browser does not support desktop notification");function i(e,n){if(null!==e){var i=e.getKey("p256dh"),r=e.getKey("auth"),o=(PushManager.supportedContentEncodings||["aesgcm"])[0],s=JSON.stringify({endpoint:e.endpoint,publicKey:i?btoa(String.fromCharCode.apply(null,new Uint8Array(i))):null,authToken:r?btoa(String.fromCharCode.apply(null,new Uint8Array(r))):null,contentEncoding:o});t.eventEmitter.emitEvent("subcribedEvent",[{payload:s}])}}function r(){var r=function(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(e),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}(e);n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:r}).then(function(e){i(e),t.isNotificationsSubscribed=!0})}}}]),t}());e.chatNotifications=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.storageHandler=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.window=e,this.isCookieEnabled=this.checkCookieEnabled(),this.hasSessionStorage=this.isCookieEnabled&&!!this.window.sessionStorage,this.domain=n,this.secureCookie=!1}return i(t,[{key:"setCookieDomain",value:function(t){this.domain=t}},{key:"getCookieDomain",value:function(){return this.domain?"."+this.domain:null}},{key:"setSecureCookie",value:function(t){this.secureCookie=t}},{key:"setHTTPCookie",value:function(t,e,n,i){var r="";n||((n=new Date).setTime(n.getTime()+15552e6),r="; expires="+n.toGMTString()),document.cookie=t+"="+e+r+"; path=/"+(this.secureCookie?";secure":"")+(i?";domain="+i:"")}},{key:"getHTTPCookie",value:function(t){var e,n,i=[],r=t+"=",o=document.cookie.split(";");for(t=0,e=o.length;t<e;t++){for(n=o[t];" "===n.charAt(0);)n=n.substring(1,n.length);0===n.indexOf(r)&&i.push(n.substring(r.length,n.length))}return i}},{key:"setSessionStorage",value:function(t,e){if(this.hasSessionStorage&&sessionStorage.setItem)try{sessionStorage.setItem(t,e)}catch(t){}}},{key:"getSessionStorage",value:function(t){return this.hasSessionStorage&&sessionStorage.getItem?sessionStorage.getItem(t):null}},{key:"setSessionReferer",value:function(t){this.getSessionStorage("lhc_ref")||this.setSessionStorage("lhc_ref",t)}},{key:"getSessionReferrer",value:function(){return this.getSessionStorage("lhc_ref")}},{key:"getSessionInformation",value:function(){var t;return this.sessionInformation&&(t=this.sessionInformation),t||(t=this.getHTTPCookie("lhc_per")[0]),this.parseSessionInformation(t)}},{key:"storeSessionInformation",value:function(t){this.setHTTPCookie("lhc_per",JSON.stringify(t),!1,this.getCookieDomain()),this.sessionInformation=t}},{key:"parseSessionInformation",value:function(t){return t?JSON.parse(decodeURIComponent(t)):{}}},{key:"checkCookieEnabled",value:function(){var t=!!this.window.cookieEnabled;return void 0!==this.window.cookieEnabled||t||(document.cookie="testcookie",t=-1!=document.cookie.indexOf("testcookie")),t}}]),t}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var userSession=exports.userSession=function(){function userSession(){_classCallCheck(this,userSession),this.vid=null,this.lhc_hnh=null,this.ref=null,this.id=null,this.hash=null,this.jsVars=[],this.updateVarsTimeout=null,this.JSON={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(t){return String(t).evalJSON()}||$.parseJSON||$.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||$.toJSON}}return _createClass(userSession,[{key:"setSessionReferrer",value:function(t){this.ref=t}},{key:"getSessionReferrer",value:function(){return this.ref}},{key:"getVID",value:function(){return this.vid}},{key:"setVID",value:function(t){this.vid=t}},{key:"setSessionInformation",value:function(t){this.vid=t.vid||null,this.lhc_hnh=t.lhc_hnh||null,this.hash=t.hash||null,this.id=t.id||null}},{key:"getSessionAttributes",value:function(){var t={};return null!==this.vid&&(t.vid=this.vid),null!==this.lhc_hnh&&(t.lhc_hnh=this.lhc_hnh),null!==this.id&&(t.id=this.id),null!==this.hash&&(t.hash=this.hash),t}},{key:"setupVarsMonitoring",value:function(t){var e=this;this.jsVars=t;try{if("undefined"!=typeof lhc_var)lhc_var=new Proxy(lhc_var,{set:function(t,n,i){return t[n]=i,clearTimeout(e.updateVarsTimeout),e.updateVarsTimeout=setTimeout(function(){e.updateJSVars(t)},1e3),!0}}),this.updateJSVars(lhc_var)}catch(t){console.log(t)}}},{key:"getVars",value:function getVars(){if(this.jsVars.length>0){var js_args={},currentVar=null;for(var index in this.jsVars)try{currentVar=eval(this.jsVars[index].var),void 0!==currentVar&&null!==currentVar&&""!==currentVar&&(js_args[this.jsVars[index].id]=currentVar)}catch(t){}return js_args}return null}},{key:"getAppendVariables",value:function(){var t="";return null!==this.vid&&(t=t+"/(vid)/"+this.vid),null!==this.hash&&null!==this.id&&(t=t+"/(hash)/"+this.id+"_"+this.hash),t}},{key:"updateJSVars",value:function(t){var e=new XMLHttpRequest;e.open("POST",LHC_API.args.lhc_base_url+"/chat/updatejsvars"+this.getAppendVariables(),!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("data="+encodeURIComponent(this.JSON.stringify(this.getVars(t))))}},{key:"setChatInformation",value:function(t){this.id=t.id,this.hash=t.hash}}]),userSession}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.containerChat=void 0;var i=n(3);e.containerChat=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cont=new i.UIConsturctor("lhc_container_v2","border: 0 none !important; padding: 0 !important; margin: 0 !important; z-index: 999999999 !important; overflow : visible !important; min-width: 0 !important; min-height: 0 !important; max-width: none !important; max-height: none !important; width : auto !important; height : auto !important;"),this.cont.constructUI(),document.body.appendChild(this.cont.elmDom)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.mainWidgetPopup=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.attributes={},this.width=null,this.height=null,this.units="px",this.freeup()}return i(t,[{key:"freeup",value:function(){this.cont={}}},{key:"init",value:function(t){if(this.cont.elementReferrerPopup&&!1===this.cont.elementReferrerPopup.closed)this.cont.elementReferrerPopup.focus();else{this.attributes=t;var e={static_chat:this.attributes.userSession.getSessionAttributes()},n="";e.static_chat.id&&e.static_chat.hash&&(n=n+"/(id)/"+e.static_chat.id+"/(hash)/"+e.static_chat.hash),null!==this.attributes.theme&&(n=n+"/(theme)/"+this.attributes.theme),null!==e.static_chat.vid&&(n=n+"/(vid)/"+e.static_chat.vid),this.attributes.isMobile&&(n+="/(mobile)/true"),this.attributes.department.length>0&&(n=n+"/(department)/"+this.attributes.department.join("/")),null!==this.attributes.userSession.getSessionReferrer()&&(n=n+"?ses_ref="+this.attributes.userSession.getSessionReferrer()),this.cont.elementReferrerPopup=window.open(this.attributes.base_url+"/chat/start"+n,"lhc_popup_v2","scrollbars=yes,menubar=1,resizable=1,width="+this.attributes.popupDimesnions.pwidth+",height="+this.attributes.popupDimesnions.pheight)}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mainWidget=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(4),o=n(1);e.mainWidget=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.attributes={},this.width="350",this.height="520",this.units="px",this.cont=new r.UIConstructorIframe("lhc_widget_v2",o.helperFunctions.getAbstractStyle({zindex:"1000000",width:"95px",height:"95px",position:"fixed",display:"none",bottom:"10px",right:"10px",maxheight:"95px",maxwidth:"95px",minheight:"95px",minwidth:"95px"}),null,"iframe"),this.cont.tmpl='<div id="root" class="container-fluid d-flex flex-column flex-grow-1 overflow-auto"></div>'}return i(t,[{key:"resize",value:function(){var t={height:this.height+this.units+" !important","min-height":this.height+this.units+" !important","max-height":this.height+this.units+" !important",width:this.width+this.units+" !important","min-width":this.width+this.units+" !important","max-width":this.width+this.units+" !important",bottom:"px"==this.units?"30px !important":"0px !important",right:"px"==this.units?"30px !important":"0px !important"};"embed"==this.attributes.mode&&(t["max-width"]="100%",t["min-width"]="100%",t.width="100%",t.position="relative",t.bottom="auto",t.right="auto"),this.cont.massRestyle(t)}},{key:"init",value:function(t){var e=this;this.cont.constructUIIframe(""),this.attributes=t,this.attributes.staticJS.fontCSS&&this.cont.insertCssRemoteFile({crossOrigin:"anonymous",href:this.attributes.staticJS.fontCSS}),this.cont.insertCssRemoteFile({crossOrigin:"anonymous",href:this.attributes.staticJS.widget_css}),1==this.attributes.isMobile&&"widget"==this.attributes.mode&&this.cont.insertCssRemoteFile({crossOrigin:"anonymous",href:this.attributes.staticJS.widget_mobile_css}),"embed"==this.attributes.mode&&this.cont.insertCssRemoteFile({crossOrigin:"anonymous",href:this.attributes.staticJS.embed_css}),this.attributes.theme>0&&this.cont.insertCssRemoteFile({crossOrigin:"anonymous",href:LHC_API.args.lhc_base_url+"/widgetrestapi/theme/"+this.attributes.theme}),this.cont.insertJSFile(this.attributes.staticJS.app,!1),this.monitorDimensionsWrap=function(t){e.monitorDimensions(t)},this.toggleVisibilityWrap=function(t){e.toggleVisibility(t)},t.widgetDimesions.subscribe(this.monitorDimensionsWrap),t.widgetStatus.subscribe(this.toggleVisibilityWrap)}},{key:"toggleVisibility",value:function(t){0==t?this.hide():this.show()}},{key:"monitorDimensions",value:function(t){this.width=t.width,this.height=t.height,this.units=t.units,this.resize()}},{key:"hide",value:function(){this.cont.hide()}},{key:"show",value:function(){this.cont.show()}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.statusWidget=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(5),o=n(4),s=n(1);e.statusWidget=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.attributes={},this.cont=new o.UIConstructorIframe("lhc_status_widget_v2",s.helperFunctions.getAbstractStyle({zindex:"1000000",width:"95px",height:"95px",position:"fixed",display:"none",bottom:"10px",right:"10px",maxheight:"95px",maxwidth:"95px",minheight:"95px",minwidth:"95px"}),null,"iframe"),this.cont.tmpl='<div id="lhc_status_container"><i title="New messages" id="unread-msg-number">!</i><a id="status-icon" class="offline-status" href="#"></a></div>'}return i(t,[{key:"toggleOfflineIcon",value:function(t){var e=this.cont.getElementById("status-icon");t?s.helperFunctions.removeClass(e,"offline-status"):s.helperFunctions.addClass(e,"offline-status")}},{key:"init",value:function(t){var e=this;this.cont.constructUIIframe(r.settings.ChatStatus+r.settings.FontStyle),this.cont.attachUserEventListener("click",function(e){t.eventEmitter.emitEvent("showWidget",[{sender:"closeButton"}])},"lhc_status_container","minifiedclick"),this.attributes=t,this.attributes.staticJS.fontCSS&&this.cont.insertCssRemoteFile({crossOrigin:"anonymous",href:this.attributes.staticJS.fontCSS}),this.attributes.theme>0&&this.cont.insertCssRemoteFile({crossOrigin:"anonymous",href:LHC_API.args.lhc_base_url+"/widgetrestapi/themestatus/"+this.attributes.theme}),t.onlineStatus.subscribe(function(t){return e.toggleOfflineIcon(t)}),"popup"!==this.attributes.mode?t.widgetStatus.subscribe(function(t){1==t?e.hide():e.show()}):this.show(),t.eventEmitter.addListener("unread_message",function(){var t=e.cont.getElementById("lhc_status_container");s.helperFunctions.addClass(t,"has-uread-message")}),t.eventEmitter.addListener("focusChanged",function(t){1==t&&e.removeUnreadIndicator()})}},{key:"hide",value:function(){this.cont.hide(),this.removeUnreadIndicator()}},{key:"removeUnreadIndicator",value:function(){var t=this.cont.getElementById("lhc_status_container");s.helperFunctions.removeClass(t,"has-uread-message")}},{key:"show",value:function(){!1===this.attributes.hideOffline?this.cont.show():this.cont.hide()}}]),t}()},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var i=n(6);function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";var i=n(0);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var i=n(0);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var i=n(0),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(i.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),n=i.trim(t.substr(o+1)),e){if(s[e]&&r.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}}),s):s}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var i=n(8);t.exports=function(t,e,n){var r=n.config.validateStatus;!r||r(n.status)?t(n):e(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";var i=n(0),r=n(34),o=n(11),s=n(10),a=n(27),u=n(26);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!a(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return c(t),e.data=r(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(c(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var i=n(0);function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},function(t,e,n){"use strict";var i=n(0),r=n(12),o=n(36),s=n(35),a=n(7);function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method=t.method?t.method.toLowerCase():"get";var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},u.prototype.getUri=function(t){return t=a(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(t){u.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){u.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=u},function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,n){"use strict";var i=n(0),r=n(13),o=n(37),s=n(7);function a(t){var e=new o(t),n=r(o.prototype.request,e);return i.extend(n,o.prototype,e),i.extend(n,e),n}var u=a(n(10));u.Axios=o,u.create=function(t){return a(s(u.defaults,t))},u.Cancel=n(6),u.CancelToken=n(25),u.isCancel=n(11),u.all=function(t){return Promise.all(t)},u.spread=n(24),t.exports=u,t.exports.default=u},function(t,e,n){t.exports=n(39)},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
!function(e,n){t.exports=n()}(0,function(){"use strict";function t(t){return"function"==typeof t}var i=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=0,o=void 0,s=void 0,a=function(t,e){p[r]=t,p[r+1]=e,2===(r+=2)&&(s?s(m):v())};var u="undefined"!=typeof window?window:void 0,c=u||{},l=c.MutationObserver||c.WebKitMutationObserver,h="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(m,1)}}var p=new Array(1e3);function m(){for(var t=0;t<r;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}r=0}var v=void 0;function g(t,e){var n=this,i=new this.constructor(w);void 0===i[y]&&T(i);var r=n._state;if(r){var o=arguments[r-1];a(function(){return I(r,i,o,n._result)})}else P(n,i,t,e);return i}function b(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(w);return E(e,t),e}v=h?function(){return e.nextTick(m)}:l?function(){var t=0,e=new l(m),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():f?function(){var t=new MessageChannel;return t.port1.onmessage=m,function(){return t.port2.postMessage(0)}}():void 0===u?function(){try{var t=Function("return this")().require("vertx");return void 0!==(o=t.runOnLoop||t.runOnContext)?function(){o(m)}:d()}catch(t){return d()}}():d();var y=Math.random().toString(36).substring(2);function w(){}var _=void 0,S=1,x=2;function C(e,n,i){n.constructor===e.constructor&&i===g&&n.constructor.resolve===b?function(t,e){e._state===S?O(t,e._result):e._state===x?L(t,e._result):P(e,void 0,function(e){return E(t,e)},function(e){return L(t,e)})}(e,n):void 0===i?O(e,n):t(i)?function(t,e,n){a(function(t){var i=!1,r=function(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}(n,e,function(n){i||(i=!0,e!==n?E(t,n):O(t,n))},function(e){i||(i=!0,L(t,e))},t._label);!i&&r&&(i=!0,L(t,r))},t)}(e,n,i):O(e,n)}function E(t,e){if(t===e)L(t,new TypeError("You cannot resolve a promise with itself"));else if(function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}(e)){var n=void 0;try{n=e.then}catch(e){return void L(t,e)}C(t,e,n)}else O(t,e)}function k(t){t._onerror&&t._onerror(t._result),j(t)}function O(t,e){t._state===_&&(t._result=e,t._state=S,0!==t._subscribers.length&&a(j,t))}function L(t,e){t._state===_&&(t._state=x,t._result=e,a(k,t))}function P(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+S]=n,r[o+x]=i,0===o&&t._state&&a(j,t)}function j(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,r=void 0,o=t._result,s=0;s<e.length;s+=3)i=e[s],r=e[s+n],i?I(n,i,r,o):r(o);t._subscribers.length=0}}function I(e,n,i,r){var o=t(i),s=void 0,a=void 0,u=!0;if(o){try{s=i(r)}catch(t){u=!1,a=t}if(n===s)return void L(n,new TypeError("A promises callback cannot return that same promise."))}else s=r;n._state!==_||(o&&u?E(n,s):!1===u?L(n,a):e===S?O(n,s):e===x&&L(n,s))}var A=0;function T(t){t[y]=A++,t._state=void 0,t._result=void 0,t._subscribers=[]}var D=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(w),this.promise[y]||T(this.promise),i(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?O(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&O(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===_&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===b){var r=void 0,o=void 0,s=!1;try{r=t.then}catch(t){s=!0,o=t}if(r===g&&t._state!==_)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(n===R){var a=new n(w);s?L(a,o):C(a,t,r),this._willSettleAt(a,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(i(t),e)},t.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===_&&(this._remaining--,t===x?L(i,n):this._result[e]=n),0===this._remaining&&O(i,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;P(t,void 0,function(t){return n._settledAt(S,e,t)},function(t){return n._settledAt(x,e,t)})},t}();var R=function(){function e(t){this[y]=A++,this._result=this._state=void 0,this._subscribers=[],w!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e(function(e){E(t,e)},function(e){L(t,e)})}catch(e){L(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return R.prototype.then=g,R.all=function(t){return new D(this,t).promise},R.race=function(t){var e=this;return i(t)?new e(function(n,i){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(n,i)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},R.resolve=b,R.reject=function(t){var e=new this(w);return L(e,t),e},R._setScheduler=function(t){s=t},R._setAsap=function(t){a=t},R._asap=a,R.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=R},R.Promise=R,R})}).call(this,n(14),n(41))},function(t,e,n){"use strict";t.exports=n(42).polyfill()},function(t,e,n){var i;
/*!
 * EventEmitter v5.2.6 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */!function(e){"use strict";function r(){}var o=r.prototype,s=e.EventEmitter;function a(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function u(t){return function(){return this[t].apply(this,arguments)}}o.getListeners=function(t){var e,n,i=this._getEvents();if(t instanceof RegExp)for(n in e={},i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n]);else e=i[t]||(i[t]=[]);return e},o.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},o.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&((e={})[t]=n),e||n},o.addListener=function(t,e){if(!function t(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&t(e.listener)}(e))throw new TypeError("listener must be a function");var n,i=this.getListenersAsObject(t),r="object"==typeof e;for(n in i)i.hasOwnProperty(n)&&-1===a(i[n],e)&&i[n].push(r?e:{listener:e,once:!1});return this},o.on=u("addListener"),o.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},o.once=u("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},o.removeListener=function(t,e){var n,i,r=this.getListenersAsObject(t);for(i in r)r.hasOwnProperty(i)&&-1!==(n=a(r[i],e))&&r[i].splice(n,1);return this},o.off=u("removeListener"),o.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},o.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},o.manipulateListeners=function(t,e,n){var i,r,o=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)o.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(r=e[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},o.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if(t instanceof RegExp)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},o.removeAllListeners=u("removeEvent"),o.emitEvent=function(t,e){var n,i,r,o,s=this.getListenersAsObject(t);for(o in s)if(s.hasOwnProperty(o))for(n=s[o].slice(0),r=0;r<n.length;r++)!0===(i=n[r]).once&&this.removeListener(t,i.listener),i.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},o.trigger=u("emitEvent"),o.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},r.noConflict=function(){return e.EventEmitter=s,r},void 0===(i=function(){return r}.call(e,n,e,t))||(t.exports=i)}("undefined"!=typeof window?window:this||{})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.monitoredVariable=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.valueInternal=e,this.listeners=[]}return i(t,[{key:"next",value:function(t){var e=this;this.valueInternal=t,this.listeners.forEach(function(t){t&&"function"==typeof t&&t(e.valueInternal)})}},{key:"unsubscribe",value:function(t){-1!==this.listeners.indexOf(t)&&this.listeners.splice(this.listeners.indexOf(t),1)}},{key:"subscribe",value:function(t){this.listeners.push(t),t(this.valueInternal)}},{key:"value",get:function(){return this.valueInternal},set:function(t){this.next(t)}}]),t}()},function(t,e,n){"use strict";!function(t){t.LHC_API&&(t.$_LHC_Instance=null,t.$_LHC_Debug=!1,t.$_LHC=t.$_LHC||{},function(e){e.loaded=!1,e.connected=!1,e.ready=!1,e.version=4;var i=function(){if(!0!==e.ready){document.body&&(e.ready=!0);var i=n(45).monitoredVariable,r=n(44);n(43);var o=n(40),s=n(23).statusWidget,a=n(22).mainWidget,u=n(21).mainWidgetPopup,c=n(20).containerChat,l=n(1).helperFunctions,h=n(19).userSession,f=n(18).storageHandler,d=n(17).chatNotifications,p=n(16).chatEventsHandler,m=n(15).default(t.navigator.userAgent).any;LHC_API.args=LHC_API.args||{};f=new f(t,LHC_API.args.domain||null);var v=document.referrer?document.referrer.substr(document.referrer.indexOf("://")+1):"",g=document.location?encodeURIComponent(window.location.href.substring(window.location.protocol.length)):"";f.setSessionReferer(v),v=v?encodeURIComponent(v):"";var b={viewHandler:null,mainWidget:new a,popupWidget:new u,chatNotifications:d,jsVars:new i(!0),onlineStatus:new i(!0),widgetStatus:new i("true"===f.getSessionStorage("LHC_WS")||LHC_API.args.mode&&"embed"==LHC_API.args.mode||"popup"==LHC_API.args.mode),eventEmitter:new r,toggleSound:new i("true"===f.getSessionStorage("LHC_SOUND")||null===f.getSessionStorage("LHC_SOUND")),hideOffline:!1,isMobile:m,isIE:-1!=navigator.userAgent.toUpperCase().indexOf("TRIDENT/")||-1!=navigator.userAgent.toUpperCase().indexOf("MSIE"),fresh:LHC_API.args.fresh||!1,widgetDimesions:new i({width:m?100:LHC_API.args.wwidth||350,height:m?100:LHC_API.args.wheight||520,units:m?"%":"px"}),popupDimesnions:{pheight:LHC_API.args.pheight||520,pwidth:LHC_API.args.pwidth||500},leaveMessage:LHC_API.args.leaveamessage||null,department:LHC_API.args.department||[],theme:LHC_API.args.theme||null,domain:LHC_API.args.domain||null,position:LHC_API.args.position||"bottom_right",base_url:LHC_API.args.lhc_base_url,mode:LHC_API.args.mode||"widget",captcha:null,lang:LHC_API.args.lang||"",bot_id:LHC_API.args.bot_id||"",userSession:new h,storageHandler:f,staticJS:{},loadcb:LHC_API.args.loadcb||null,LHCChatOptions:t.LHCChatOptions?t.LHCChatOptions:{}},y=new p(b);if(e.eventListener=b.eventEmitter,b.userSession.setSessionInformation(b.storageHandler.getSessionInformation()),b.userSession.setSessionReferrer(f.getSessionReferrer()),"widget"==b.mode||"popup"==b.mode){var w=new c;"api"!=b.position&&(b.viewHandler=new s,w.cont.elmDom.appendChild(b.viewHandler.cont.constructUI(),!0)),"widget"==b.mode&&w.cont.elmDom.appendChild(b.mainWidget.cont.constructUI(),!0)}else{var _=document.getElementById("lhc_status_container_page");_.appendChild(b.mainWidget.cont.constructUI()),_.style.height=(LHC_API.args.wheight||520)+"px"}o.get(LHC_API.args.lhc_base_url+"/widgetrestapi/settings",{params:{vid:b.userSession.getVID(),tz:l.getTzOffset(),r:v,l:g,ie:b.isIE,dep:b.department}}).then(function(t){n.p=t.data.chunks_location+"/",(b.leaveMessage||!1!==t.data.isOnline)&&(t.data.secure_cookie&&b.storageHandler.setSecureCookie(!0),t.data.domain&&b.storageHandler.setCookieDomain(t.data.domain),t.data.static&&(b.staticJS=t.data.static),b.captcha={hash:t.data.hash,ts:t.data.hash_ts},b.userSession.setVID(t.data.vid),b.storageHandler.storeSessionInformation(b.userSession.getSessionAttributes()),b.hideOffline=t.data.hideOffline,b.onlineStatus.next(t.data.isOnline),t.data.theme&&(b.theme=t.data.theme),b.jsVars.next(t.data.js_vars),t.data.js_vars.length>0&&b.userSession.setupVarsMonitoring(t.data.js_vars),"widget"!=b.mode&&"popup"!=b.mode||"api"!=b.position&&b.viewHandler.init(b),"widget"!=b.mode&&"embed"!=b.mode||b.mainWidget.init(b),"widget"!=b.mode&&"popup"!=b.mode||w.cont.show(),b.loadcb&&b.loadcb(b))}),b.eventEmitter.addListener("closeWidget",function(){b.widgetStatus.next(!1),y.sendChildEvent("closedWidget",[{sender:"closeButton"}])}),b.eventEmitter.addListener("toggleSound",function(){var t=!b.toggleSound.value;b.toggleSound.next(t)}),b.eventEmitter.addListener("endChatCookies",function(){b.userSession.setChatInformation({id:null,hash:null}),b.storageHandler.storeSessionInformation(b.userSession.getSessionAttributes())}),b.eventEmitter.addListener("endChat",function(){"popup"!=b.mode&&b.widgetStatus.next(!1),b.userSession.setChatInformation({id:null,hash:null}),b.storageHandler.storeSessionInformation(b.userSession.getSessionAttributes()),y.sendChildEvent("endedChat",[{sender:"endButton"}]),"embed"==b.mode&&b.eventEmitter.emitEvent("showWidget",[{sender:"closeButton"}]),"popup"==b.mode&&b.popupWidget.freeup()}),b.eventEmitter.addListener("showWidget",function(){b.widgetStatus.next(!0),"popup"==b.mode&&(b.popupWidget.init(b),"api"!=b.position&&b.viewHandler.removeUnreadIndicator()),y.sendChildEvent("shownWidget",[{sender:"closeButton"}])}),b.eventEmitter.addListener("openPopup",function(){y.sendChildEvent("endedChat",[{sender:"endButton"}]),b.popupWidget.init(b),"api"!=b.position&&b.viewHandler.removeUnreadIndicator(),y.sendChildEvent("shownWidget",[{sender:"closeButton"}]),b.widgetStatus.next(!1)}),b.eventEmitter.addListener("chatStarted",function(t,e){"popup"!==e&&b.userSession.setChatInformation(t),!1===b.fresh&&"popup"!==e&&b.storageHandler.storeSessionInformation(b.userSession.getSessionAttributes())}),b.eventEmitter.addListener("subscribeEvent",function(t){b.chatNotifications.setPublicKey(t.pk,b.eventEmitter),b.chatNotifications.sendNotification()}),b.eventEmitter.addListener("subcribedEvent",function(t){y.sendChildEvent("subcribedEvent",[t])}),b.widgetStatus.subscribe(function(t){b.storageHandler.setSessionStorage("LHC_WS",t),y.sendChildEvent("widgetStatus",[t])}),b.toggleSound.subscribe(function(t){b.storageHandler.setSessionStorage("LHC_SOUND",t)}),b.onlineStatus.subscribe(function(t){y.sendChildEvent("onlineStatus",[t])}),b.eventEmitter.addListener("screenshot",function(t){l.makeScreenshot(b.staticJS.screenshot,t)}),b.eventEmitter.addListener("location",function(t){document.location=t}),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(t){void 0!==t.data.lhc_ch&&void 0!==t.data.lhc_cid&&(b.widgetStatus.next(!0),"popup"==b.mode?(b.userSession.setChatInformation({id:t.data.lhc_cid,hash:t.data.lhc_ch}),b.eventEmitter.emitEvent("unread_message")):(y.sendChildEvent("shownWidget",[{sender:"closeButton"}]),y.sendChildEvent("reopenNotification",[{id:t.data.lhc_cid,hash:t.data.lhc_ch}])))});var S=function(t){if("string"==typeof t.data&&!t.data.indexOf("lhc::")){var e=t.data.split("::");"ready"==e[1]?y.sendReadyEvent("true"==e[2]):b.eventEmitter.emitEvent(e[1],JSON.parse(e[2]))}};window.addEventListener?window.addEventListener("message",S,!1):window.attachEvent?window.attachEvent("onmessage",S):document.attachEvent&&document.attachEvent("onmessage",S)}},r=n(2).domEventsHandler;i(),!e.ready||(r.listen(document,"DOMContentLoaded",function(){i()},"domloaded"),r.listen(document,"readystatechange",function(){("complete"===document.readyState||"interactive"===document.readyState&&document.body)&&i()},"domstatechange"),r.listen(t,"load",function(){i()},"windowload"))}.call(this,window.$_LHC))}(window)}]).default});
//# sourceMappingURL=index.js.map